{"version":3,"sources":["app/models/activity.ts","app/models/paginations.ts","app/models/profile.ts","app/api/agent.ts","app/api/stores/activityStore.ts","app/api/stores/userStore.ts","app/api/stores/profileStore.ts","app/api/stores/store.ts","app/api/stores/commonStore.ts","app/api/stores/modalStore.ts","app/api/stores/commentStore.ts","app/layout/NavBar.tsx","features/profiles/FollowButton.tsx","features/profiles/ProfileCard.tsx","features/activities/dashboard/ActivityListItemAttendee.tsx","features/activities/dashboard/ActivityListItem.tsx","features/activities/dashboard/ActivityList.tsx","features/activities/dashboard/ActivityFilters.tsx","features/activities/dashboard/ActivityListItemPlaceholder.tsx","features/activities/dashboard/ActivityDashboard.tsx","app/common/form/MyTextInput.tsx","features/users/LoginForm.tsx","features/Errors/ValidationErrors.tsx","features/users/RegisterForm.tsx","features/home/HomePage.tsx","app/layout/LoadingComponent.tsx","app/common/form/MyTextAreaInput.tsx","app/common/form/MySelectInput.tsx","app/common/options/CategoryOptions.ts","app/common/form/MyDateInput.tsx","features/activities/form/ActivityForm.tsx","features/activities/details/ActivityDetailedChat.tsx","features/activities/details/ActivityDetailedHeader.tsx","features/activities/details/ActivityDetailedInfo.tsx","features/activities/details/ActivityDetailedSidebar.tsx","features/activities/details/ActivityDetails.tsx","features/Errors/TestErrors.tsx","features/Errors/NotFound.tsx","features/Errors/ServerError.tsx","app/common/modal/ModalContainer.tsx","features/profiles/ProfileEditForm.tsx","features/profiles/ProfileAbout.tsx","features/profiles/ProfileActivities.tsx","features/profiles/ProfileFollowings.tsx","app/common/imageUpload/PhotoWidgetCropper.tsx","app/common/imageUpload/PhotoWidgetDropzone.tsx","app/common/imageUpload/ImageUploadWidget.tsx","features/profiles/ProfilePhotos.tsx","features/profiles/ProfileContent.tsx","features/profiles/ProfileHeader.tsx","features/profiles/ProfilePage.tsx","app/layout/PrivateRoute.tsx","app/App.tsx","reportWebVitals.ts","app/layout/ScrollToTop.tsx","index.tsx"],"names":["Activity","init","Object","classCallCheck","this","assign","ActivityFormValues","id","undefined","title","category","description","date","city","venue","PaginatedResult","data","pagination","pagingParams","pageNumber","arguments","length","pageSize","Profile","user","displayName","userName","bio","image","axios","defaults","baseURL","process","responseBody","response","interceptors","request","use","_ref","asyncToGenerator","_regeneratorRuntime","mark","_callee","config","token","wrap","_context","prev","next","store","commonStore","headers","Authorization","concat","abrupt","stop","_x","apply","_ref2","_callee2","_context2","JSON","parse","_x2","error","console","log","_ref3","status","toast","method","errors","hasOwnProperty","history","push","modalStateErrors","key","flat","startsWith","userStore","logout","setServerError","Promise","reject","requests","url","get","then","body","post","put","delete","agent","Activities","list","params","details","create","activity","update","attend","Account","current","login","register","fbLogin","accessToken","googleLogin","refreshToken","Profiles","username","uploadPhoto","photo","formData","FormData","append","Content-type","setMainPhoto","deletePhoto","updateProfile","profile","updateFollowing","listFollowings","predicate","listActivities","ActivityStore","_this","activityRegistry","Map","selectedActivity","initialLoading","isLoading","displayForm","set","setPagingParams","setPredicate","value","resetPredicate","forEach","loadActivities","activityStore_regeneratorRuntime","paginationResult","setInitialLoading","axiosParams","sent","runInAction","setActivity","t0","finish","loadActivity","getActivity","isGoing","attendees","some","a","isHost","hostUsername","host","find","x","Date","setLoading","createActivity","_callee3","attendee","newActivity","_context3","updateActivity","_ref4","_callee4","updatedActivity","_context4","objectSpread","_x3","deleteActivity","_ref5","_callee5","_context5","_x4","updateAttendance","_callee6","_context6","filter","isCancelled","clearSelectedActivity","updateAttendeeFollowing","following","followersCount","makeAutoObservable","reaction","keys","clear","URLSearchParams","toString","toISOString","Array","from","values","sort","b","getTime","result","activitiesByDate","reduce","activities","split","entries","UserStore","fbAccessToken","fbLoading","googleAccessToken","googleLoading","refreshTokenTimeout","userStore_regeneratorRuntime","creds","setToken","refreshTokenTimer","modalStore","closeModal","stopRefreshTokenTimer","getUser","setImage","setDisplayName","getFacebookLoginStatus","window","FB","getLoginStatus","authResponse","facebookLogin","apiLogin","scope","_ref6","credential","_callee7","_context7","clearTimeout","jwtToken","atob","timeout","exp","now","setTimeout","profileStore","loadingProfile","uploadingPhoto","loading","followings","userActivities","loadingActivities","loadProfile","profileStore_regeneratorRuntime","file","photos","isMain","_x5","activityStore","followingCount","_x6","_x7","loadFollowings","_ref7","_x8","clearFollowings","loadUserActivities","_ref8","_callee8","_context8","_x9","_x10","CommonStore","localStorage","getItem","appLoaded","setAppLoaded","setItem","removeItem","ModalStore","modal","open","openModal","content","ProfileStore","commentStore","CommentStore","comments","hubConnection","createHubConnection","activityId","HubConnectionBuilder","withUrl","accessTokenFactory","withAutomaticReconnect","configureLogging","LogLevel","Information","build","start","catch","on","comment","createdAt","unshift","stopHubConnection","clearComments","addComment","commentStore_regeneratorRuntime","invoke","StoreContext","createContext","useStore","useContext","observer","_useStore$userStore","react_default","createElement","Menu","inverted","fixed","Container","Item","as","NavLink","to","exact","header","src","alt","style","marginRight","name","Button","positive","MenuItem","position","Image","avatar","spaced","Dropdown","pointing","text","Link","icon","onClick","_useStore$profileStor","Fragment","Reveal","animated","Content","visible","width","fluid","color","hidden","basic","e","disabled","Card","Header","Meta","substring","extra","Icon","profiles_FollowButton","styles","borderColor","borderWidth","List","horizontal","map","Popup","hoverable","trigger","size","circular","bordered","profiles_ProfileCard","ActivityListItem","_React$useState","React","useState","_React$useState2","slicedToArray","target","setTarget","Segment","Group","Label","attached","textAlign","marginBottom","Description","react_router_dom","format","secondary","dashboard_ActivityListItemAttendee","clearing","floated","currentTarget","handleDeleteActivity","groupedActivities","group","react","sub","dashboard_ActivityListItem","_useStore$activitySto","vertical","marginTop","active","has","esm_Calendar","onChange","ActivityListItemPlaceholder","Placeholder","minHeight","Line","Paragraph","_useState","_useState2","loadingNext","setLoadingNext","useEffect","Grid","Column","react_infinite_scroller_default","pageStart","loadMore","hasMore","currentPage","totalPages","initialLoad","dashboard_ActivityList","dashboard_ActivityFilters","Loader","MyTextInput","label","props","objectWithoutProperties","_useField","useField","_useField2","field","meta","Form","Field","touched","formik_esm","initialValues","email","password","onSubmit","setErrors","handleSubmit","isSubmitting","className","form_MyTextInput","placeholder","type","render","ValidationErrors","Message","err","i","validationSchema","Yup","required","isValid","dirty","Errors_ValidationErrors","HomePage","_useStore","google","accounts","initialize","client_id","callback","renderButton","document","getElementById","theme","prompt","notification","isNotDisplayed","isSkippedMoment","isDismissedMoment","isLoggedIn","users_LoginForm","users_RegisterForm","Divider","LoadingComponent","_ref$inverted","_ref$content","Dimmer","MyTextAreaInput","helpers","Select","clearable","options","setValue","onBlur","setTouched","categoryOptions","MyDateInput","esm_extends","react_datepicker_min_default","selected","showTimeSelect","timeFormat","timeIntervals","timeCaption","dateFormat","placeholderText","useParams","useHistory","nullable","layout_LoadingComponent","enableReinitialize","uuid","hanldleFormSubmit","autoComplete","form_MyTextAreaInput","rows","MySelectInput","form_MyDateInput","border","resetForm","onKeyPress","shiftKey","preventDefault","Comment","Avatar","Author","Metadata","formatDistanceToNow","Text","whiteSpace","activityImageStyle","activityImageTextStyle","bottom","left","height","padding","top","zIndex","ribbon","verticalAlign","relaxed","divided","Extra","details_ActivityDetailedHeader","details_ActivityDetailedInfo","details_ActivityDetailedChat","details_ActivityDetailedSidebar","TestErrors","baseUrl","widths","primary","NotFound","Inline","message","Modal","onClose","profileFormValues","setProfileFormValues","isCurrentUser","editMode","setEditMode","Tab","Pane","profiles_ProfileEditForm","editProfile","panes","menuItem","menu","onTabChange","activeIndex","toLowerCase","handleTabChange","itemsPerRow","objectFit","PhotoWidgetCropper","setCropper","imagePreview","react_cropper_es","initialAspectRatio","aspectRatio","preview","guides","viewMode","autoCropArea","background","dragMode","scalable","onInitialized","cropper","PhotoWidgetDropzone","setFiles","dzStyles","borderRadius","paddingTop","onDrop","useCallback","acceptedFiles","URL","createObjectURL","_useDropzone","useDropzone","getRootProps","getInputProps","isDragActive","ImageUploadWidget","files","_useState3","_useState4","revokeObjectURL","imageUpload_PhotoWidgetDropzone","imageUpload_PhotoWidgetCropper","overflow","getCroppedCanvas","toBlob","blob","addPhotoMode","setAddPhotoMode","_useState5","_useState6","deleteTarget","setDeleteTarget","imageUpload_ImageUploadWidget","handleSetMainPhoto","negative","handleDeletePhoto","profiles_ProfileAbout","profiles_ProfilePhotos","profiles_ProfileActivities","profiles_ProfileFollowings","menuPosition","ItemGroup","StatisticGroup","Statistic","profiles_ProfileHeader","profiles_ProfileContent","Component","component","rest","react_router","location","useLocation","finally","react_toastify_esm","hideProgressBar","modal_ModalContainer","path","layout_NavBar","layout_PrivateRoute","ActivityDashboard","ActivityDetails","ActivityForm","ProfilePage","ServerError","reportWebVitals","onPerfEntry","Function","__webpack_require__","bind","getCLS","getFID","getFCP","getLCP","getTTFB","ScrollToTop","pathname","scrollTo","d","__webpack_exports__","src_history","createBrowserHistory","ReactDOM","createRoot","Provider","app_App"],"mappings":"oVAkBaA,EACT,SAAAA,EAAYC,GAA4BC,OAAAC,EAAA,EAAAD,CAAAE,KAAAJ,GACpCE,OAAOG,OAAOD,KAAMH,IAIfK,EAST,SAAAA,EAAYL,GAA4BC,OAAAC,EAAA,EAAAD,CAAAE,KAAAE,GAAAF,KARxCG,QAAcC,EAQyBJ,KAPvCK,MAAgB,GAOuBL,KANvCM,SAAmB,GAMoBN,KALvCO,YAAsB,GAKiBP,KAJvCQ,KAAoB,KAImBR,KAHvCS,KAAe,GAGwBT,KAFvCU,MAAgB,GAGPb,IACLG,KAAKM,SAAWT,EAAKS,SACrBN,KAAKK,MAAQR,EAAKQ,MAClBL,KAAKO,YAAcV,EAAKU,YACxBP,KAAKQ,KAAOX,EAAKW,KACjBR,KAAKS,KAAOZ,EAAKY,KACjBT,KAAKU,MAAQb,EAAKa,MAClBV,KAAKG,GAAKN,EAAKM,KClCVQ,EAIT,SAAAA,EAAYC,EAASC,GAAyBf,OAAAC,EAAA,EAAAD,CAAAE,KAAAW,GAAAX,KAH9CY,UAG6C,EAAAZ,KAF7Ca,gBAE6C,EACzCb,KAAKY,KAAOA,EACZZ,KAAKa,WAAaA,GAIbC,EAIT,SAAAA,IAA0C,IAA9BC,EAA8BC,UAAAC,OAAA,QAAAb,IAAAY,UAAA,GAAAA,UAAA,GAAjB,EAAGE,EAAcF,UAAAC,OAAA,QAAAb,IAAAY,UAAA,GAAAA,UAAA,GAAH,EAAGlB,OAAAC,EAAA,EAAAD,CAAAE,KAAAc,GAAAd,KAH1Ce,gBAG0C,EAAAf,KAF1CkB,cAE0C,EACtClB,KAAKe,WAAaA,EAClBf,KAAKkB,SAAWA,GCVXC,EAOT,SAAAA,EAAYC,GAAatB,OAAAC,EAAA,EAAAD,CAAAE,KAAAmB,GAAAnB,KANzBqB,iBAMwB,EAAArB,KALxBsB,cAKwB,EAAAtB,KAJxBuB,SAIwB,EAAAvB,KAHxBwB,WAGwB,EACpBxB,KAAKqB,YAAcD,EAAKC,YACxBrB,KAAKsB,SAAWF,EAAKE,SACrBtB,KAAKwB,MAAQJ,EAAKI,MAClBxB,KAAKuB,IAAMH,EAAKG,gzMCfxBE,IAAMC,SAASC,QAAUC,OAEzB,IAMMC,EAAe,SAAIC,GAAJ,OAAmCA,EAASlB,MAEjEa,IAAMM,aAAaC,QAAQC,IAA3B,eAAAC,EAAApC,OAAAqC,EAAA,EAAArC,CAAAsC,IAAAC,KAA+B,SAAAC,EAAMC,GAAN,IAAAC,EAAA,OAAAJ,IAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAAAF,EAAAE,KAAA,sBAIrBJ,EAAQK,EAAMC,YAAYN,SACrBD,EAAOQ,QAASC,cAAhB,UAAAC,OAA0CT,IAL1BE,EAAAQ,OAAA,SAMpBX,GANoB,wBAAAG,EAAAS,SAAAb,MAA/B,gBAAAc,GAAA,OAAAlB,EAAAmB,MAAArD,KAAAgB,YAAA,IAUAS,IAAMM,aAAaD,SAASG,IAA5B,eAAAqB,EAAAxD,OAAAqC,EAAA,EAAArC,CAAAsC,IAAAC,KAAgC,SAAAkB,EAAMzB,GAAN,IAAAjB,EAAA,OAAAuB,IAAAK,KAAA,SAAAe,GAAA,cAAAA,EAAAb,KAAAa,EAAAZ,MAAA,OAAAY,EAAAZ,KAAA,oBAItB/B,EAAaiB,EAASiB,QAAT,YAJS,CAAAS,EAAAZ,KAAA,eAMxBd,EAASlB,KAAO,IAAID,EAAgBmB,EAASlB,KAAM6C,KAAKC,MAAM7C,IANtC2C,EAAAN,OAAA,SAOjBpB,GAPiB,cAAA0B,EAAAN,OAAA,SASrBpB,GATqB,wBAAA0B,EAAAL,SAAAI,MAAhC,gBAAAI,GAAA,OAAAL,EAAAD,MAAArD,KAAAgB,YAAA,GAUG,SAAC4C,GACAC,QAAQC,IAAI,cAAeF,GADK,IAAAG,EAGUH,EAAM9B,SAAxClB,EAHwBmD,EAGxBnD,KAAMoD,EAHkBD,EAGlBC,OAAQzB,EAHUwB,EAGVxB,OAAQQ,EAHEgB,EAGFhB,QAC9B,OAAQiB,GACJ,KAAK,IAQD,GAPoB,kBAATpD,GACPqD,IAAML,MAAMhD,GAEM,QAAlB2B,EAAO2B,QAAoBtD,EAAKuD,OAAOC,eAAe,OACtDC,GAAQC,KAAK,cAGb1D,EAAKuD,OAAQ,CACb,IAAMI,EAAmB,GACzB,IAAK,IAAMC,KAAO5D,EAAKuD,OACfvD,EAAKuD,OAAOK,IACZD,EAAiBD,KAAK1D,EAAKuD,OAAOK,IAG1C,MAAMD,EAAiBE,OAE3B,MACJ,KAAK,IACc,MAAXT,GAAkBjB,EAAQ,oBAAoB2B,WAAW,iCACzD7B,EAAM8B,UAAUC,SAChBX,IAAML,MAAM,yCAEZK,IAAML,MAAM,gBAEhB,MACJ,KAAK,IACDS,GAAQC,KAAK,cACb,MACJ,KAAK,IACDzB,EAAMC,YAAY+B,eAAejE,GACjCyD,GAAQC,KAAK,iBAIrB,OAAOQ,QAAQC,OAAOnB,KAG1B,IAAMoB,EACG,SAAIC,GAAJ,OAAoBxD,IAAMyD,IAAOD,GAAKE,KAAKtD,IAD9CmD,EAEI,SAAIC,EAAaG,GAAjB,OAA8B3D,IAAM4D,KAAQJ,EAAKG,GAAMD,KAAKtD,IAFhEmD,EAGG,SAAIC,EAAaG,GAAjB,OAA8B3D,IAAM6D,IAAOL,EAAKG,GAAMD,KAAKtD,IAH9DmD,EAIG,SAAIC,GAAJ,OAAoBxD,IAAM8D,OAAUN,GAAKE,KAAKtD,IAgDxC2D,EAND,CACVC,WAxCe,CACfC,KAAM,SAACC,GAAD,OAA6BlE,IAAMyD,IAAiC,cAAe,CAAES,WACtFR,KAAKtD,IACV+D,QAAS,SAACzF,GAAD,OAAgB6E,EAAA,eAAA/B,OAAsC9C,KAC/D0F,OAAQ,SAACC,GAAD,OAAkCd,EAAoB,cAAec,IAC7EC,OAAQ,SAACD,GAAD,OAAkCd,EAAA,eAAA/B,OAAkC6C,EAAS3F,IAAM2F,IAC3FP,OAAQ,SAACpF,GAAD,OAAgB6E,EAAA,eAAA/B,OAAkC9C,KAC1D6F,OAAQ,SAAC7F,GAAD,OAAgB6E,EAAA,eAAA/B,OAAmC9C,EAAnC,WAAgD,MAkCxE8F,QA/BY,CACZC,QAAS,kBAAMlB,EAAmB,aAClCmB,MAAO,SAAC/E,GAAD,OAA0B4D,EAAoB,iBAAkB5D,IACvEgF,SAAU,SAAChF,GAAD,OAA0B4D,EAAoB,oBAAqB5D,IAC7EiF,QAAS,SAACC,GAAD,OAAyBtB,EAAoB,gCAAkCsB,EAAa,KACrGC,YAAa,SAACD,GAAD,OAAyBtB,EAAoB,oCAAsCsB,EAAa,KAC7GE,aAAc,kBAAMxB,EAAoB,wBAAyB,MA0BjEyB,SAtBa,CACbvB,IAAK,SAACwB,GAAD,OAAsB1B,EAAA,aAAA/B,OAAmCyD,KAC9DC,YAAa,SAACC,GACV,IAAIC,EAAW,IAAIC,SAEnB,OADAD,EAASE,OAAO,OAAQH,GACjBnF,IAAM4D,KAAY,UAAWwB,EAAU,CAC1C9D,QAAS,CAAEiE,eAAgB,0BAGnCC,aAAc,SAAC9G,GAAD,OAAgB6E,EAAA,WAAA/B,OAAyB9C,EAAzB,YAAuC,KACrE+G,YAAa,SAAC/G,GAAD,OAAgB6E,EAAA,WAAA/B,OAAwB9C,KACrDgH,cAAe,SAACC,GAAD,OAA+BpC,EAAA,YAA0BoC,IACxEC,gBAAiB,SAACX,GAAD,OAAsB1B,EAAA,WAAA/B,OAAyByD,GAAY,KAE5EY,eAAgB,SAACZ,EAAkBa,GAAnB,OAAyCvC,EAAA,WAAA/B,OAAmCyD,EAAnC,eAAAzD,OAAyDsE,KAElHC,eAAgB,SAACd,EAAkBa,GAAnB,OAAyC9F,IAAMyD,IAAN,aAAAjC,OAAwDyD,EAAxD,0BAAAzD,OAAyFsE,IAAapC,KAAKtD,2xMCtHnJ4F,aAUjB,SAAAA,IAAc,IAAAC,EAAA1H,KAAAF,OAAAC,EAAA,EAAAD,CAAAE,KAAAyH,GAAAzH,KATd2H,iBAAmB,IAAIC,IAST5H,KARd6H,sBAAyCzH,EAQ3BJ,KAPd8H,gBAA0B,EAOZ9H,KANd+H,WAAqB,EAMP/H,KALdgI,aAAuB,EAKThI,KAJda,WAAgC,KAIlBb,KAHdc,aAAe,IAAIA,EAGLd,KAFduH,WAAY,IAAIK,KAAMK,IAAI,OAAO,GAEnBjI,KAadkI,gBAAkB,SAACpH,GACf4G,EAAK5G,aAAeA,GAdVd,KAiBdmI,aAAe,SAACZ,EAAmBa,GAC/B,IAAMC,EAAiB,WACnBX,EAAKH,UAAUe,QAAQ,SAACF,EAAO5D,GACf,cAARA,GAAqBkD,EAAKH,UAAUhC,OAAOf,MAIvD,OAAQ+C,GACJ,IAAK,MACDc,IACAX,EAAKH,UAAUU,IAAI,OAAO,GAC1B,MACJ,IAAK,UACDI,IACAX,EAAKH,UAAUU,IAAI,WAAW,GAC9B,MACJ,IAAK,SACDI,IACAX,EAAKH,UAAUU,IAAI,UAAU,GAC7B,MACJ,IAAK,YACDP,EAAKH,UAAUhC,OAAO,aACtBmC,EAAKH,UAAUU,IAAI,YAAaG,KAvC9BpI,KA4DduI,eA5DczI,OAAAqC,EAAA,EAAArC,CAAA0I,IAAAnG,KA4DG,SAAAC,IAAA,IAAAmG,EAAA,OAAAD,IAAA/F,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACb8E,EAAKgB,mBAAkB,GADVhG,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAGoB4C,EAAMC,WAAWC,KAAKgC,EAAKiB,aAH/C,OAGLF,EAHK/F,EAAAkG,KAITC,YAAY,WACRJ,EAAiB7H,KAAK0H,QAAQ,SAAAxC,GAC1B4B,EAAKoB,YAAYhD,KAGrB4B,EAAK7G,WAAa4H,EAAiB5H,aAT9B6B,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAqG,GAAArG,EAAA,SAcTmB,QAAQC,IAARpB,EAAAqG,IAdS,eAAArG,EAAAC,KAAA,GAgBT+E,EAAKgB,mBAAkB,GAhBdhG,EAAAsG,OAAA,6BAAAtG,EAAAS,SAAAb,EAAA,uBA5DHtC,KAgFdiJ,aAhFc,eAAA3F,EAAAxD,OAAAqC,EAAA,EAAArC,CAAA0I,IAAAnG,KAgFC,SAAAkB,EAAOpD,GAAP,IAAA2F,EAAA,OAAA0C,IAAA/F,KAAA,SAAAe,GAAA,cAAAA,EAAAb,KAAAa,EAAAZ,MAAA,YACPkD,EAAW4B,EAAKwB,YAAY/I,IADrB,CAAAqD,EAAAZ,KAAA,eAGP8E,EAAKG,iBAAmB/B,EAHjBtC,EAAAN,OAAA,SAIA4C,GAJA,cAMP4B,EAAKgB,mBAAkB,GANhBlF,EAAAb,KAAA,EAAAa,EAAAZ,KAAA,GAQc4C,EAAMC,WAAWG,QAAQzF,GARvC,eAQH2F,EARGtC,EAAAoF,KASHlB,EAAKoB,YAAYhD,GACjB+C,YAAY,WACRnB,EAAKG,iBAAmB/B,IAXzBtC,EAAAN,OAAA,SAaI4C,GAbJ,QAAAtC,EAAAb,KAAA,GAAAa,EAAAuF,GAAAvF,EAAA,SAgBHK,QAAQC,IAARN,EAAAuF,IAhBG,eAAAvF,EAAAb,KAAA,GAkBH+E,EAAKgB,mBAAkB,GAlBpBlF,EAAAwF,OAAA,6BAAAxF,EAAAL,SAAAI,EAAA,wBAhFD,gBAAAH,GAAA,OAAAE,EAAAD,MAAArD,KAAAgB,YAAA,GAAAhB,KAuGN8I,YAAc,SAAChD,GACnB,IAAI1E,EAAOyB,EAAM8B,UAAUvD,KAEvBA,IAEA0E,EAASqD,QAAUrD,EAASsD,UAAWC,KAAK,SAAAC,GAAC,OAAIA,EAAEhI,WAAaF,EAAME,WAEtEwE,EAASyD,OAASzD,EAAS0D,eAAiBpI,EAAME,SAClDwE,EAAS2D,KAAO3D,EAASsD,UAAWM,KAAK,SAAAC,GAAC,OAAIA,EAAErI,WAAawE,EAAS0D,gBAI1E1D,EAAStF,KAAO,IAAIoJ,KAAK9D,EAAStF,MAGlCkH,EAAKC,iBAAiBM,IAAInC,EAAS3F,GAAI2F,IAtH7B9F,KAyHNkJ,YAAc,SAAC/I,GACnB,OAAOuH,EAAKC,iBAAiBzC,IAAI/E,IA1HvBH,KA6Hd0I,kBAAoB,SAACZ,GACjBJ,EAAKI,eAAiBA,GA9HZ9H,KAiId6J,WAAa,SAAC9B,GACVL,EAAKK,UAAYA,GAlIP/H,KA0Id8J,eA1Ic,eAAA/F,EAAAjE,OAAAqC,EAAA,EAAArC,CAAA0I,IAAAnG,KA0IG,SAAA0H,EAAOjE,GAAP,IAAA1E,EAAA4I,EAAAC,EAAA,OAAAzB,IAAA/F,KAAA,SAAAyH,GAAA,cAAAA,EAAAvH,KAAAuH,EAAAtH,MAAA,cACPxB,EAAOyB,EAAM8B,UAAUvD,KACvB4I,EAAW,IAAI7I,EAAQC,GAFhB8I,EAAAvH,KAAA,EAAAuH,EAAAtH,KAAA,EAIH4C,EAAMC,WAAWI,OAAOC,GAJrB,QAKHmE,EAAc,IAAIrK,EAASkG,IACrBsD,UAAY,CAACY,GACzBC,EAAYT,aAAepI,EAAME,SACjCoG,EAAKoB,YAAYmB,GACjBpB,YAAY,WACRnB,EAAKG,iBAAmBoC,IAVnBC,EAAAtH,KAAA,iBAAAsH,EAAAvH,KAAA,GAAAuH,EAAAnB,GAAAmB,EAAA,SAcTrG,QAAQC,IAARoG,EAAAnB,IAdS,yBAAAmB,EAAA/G,SAAA4G,EAAA,kBA1IH,gBAAApG,GAAA,OAAAI,EAAAV,MAAArD,KAAAgB,YAAA,GAAAhB,KA4JdmK,eA5Jc,eAAAC,EAAAtK,OAAAqC,EAAA,EAAArC,CAAA0I,IAAAnG,KA4JG,SAAAgI,EAAOvE,GAAP,IAAAwE,EAAA,OAAA9B,IAAA/F,KAAA,SAAA8H,GAAA,cAAAA,EAAA5H,KAAA4H,EAAA3H,MAAA,cAAA2H,EAAA5H,KAAA,EAAA4H,EAAA3H,KAAA,EAGH4C,EAAMC,WAAWM,OAAOD,GAHrB,OAIHwE,EAJGxK,OAAA0K,EAAA,EAAA1K,CAAA,GAIoB4H,EAAKwB,YAAYpD,EAAS3F,IAAS2F,GAChE4B,EAAKoB,YAAYwB,GACjBzB,YAAY,WAERnB,EAAKG,iBAAmByC,IARnBC,EAAA3H,KAAA,gBAAA2H,EAAA5H,KAAA,EAAA4H,EAAAxB,GAAAwB,EAAA,SAYT1G,QAAQC,IAARyG,EAAAxB,IAZS,yBAAAwB,EAAApH,SAAAkH,EAAA,iBA5JH,gBAAAI,GAAA,OAAAL,EAAA/G,MAAArD,KAAAgB,YAAA,GAAAhB,KA4Kd0K,eA5Kc,eAAAC,EAAA7K,OAAAqC,EAAA,EAAArC,CAAA0I,IAAAnG,KA4KG,SAAAuI,EAAOzK,GAAP,OAAAqI,IAAA/F,KAAA,SAAAoI,GAAA,cAAAA,EAAAlI,KAAAkI,EAAAjI,MAAA,cACb8E,EAAKmC,YAAW,GADHgB,EAAAlI,KAAA,EAAAkI,EAAAjI,KAAA,EAGH4C,EAAMC,WAAWF,OAAOpF,GAHrB,OAIT0I,YAAY,WAERnB,EAAKC,iBAAiBpC,OAAOpF,GAC7BuH,EAAKG,sBAAmBzH,EACxBsH,EAAKM,aAAc,IARd6C,EAAAjI,KAAA,gBAAAiI,EAAAlI,KAAA,EAAAkI,EAAA9B,GAAA8B,EAAA,SAYThH,QAAQC,IAAR+G,EAAA9B,IAZS,eAAA8B,EAAAlI,KAAA,GAcTkG,YAAY,WACRnB,EAAKmC,YAAW,KAfXgB,EAAA7B,OAAA,6BAAA6B,EAAA1H,SAAAyH,EAAA,uBA5KH,gBAAAE,GAAA,OAAAH,EAAAtH,MAAArD,KAAAgB,YAAA,GAAAhB,KAsNd+K,iBAtNcjL,OAAAqC,EAAA,EAAArC,CAAA0I,IAAAnG,KAsNK,SAAA2I,IAAA,IAAA5J,EAAA,OAAAoH,IAAA/F,KAAA,SAAAwI,GAAA,cAAAA,EAAAtI,KAAAsI,EAAArI,MAAA,cAETxB,EAAOyB,EAAM8B,UAAUvD,KAC7BsG,EAAKmC,YAAW,GAHDoB,EAAAtI,KAAA,EAAAsI,EAAArI,KAAA,EAKL4C,EAAMC,WAAWO,OAAO0B,EAAKG,iBAAkB1H,IAL1C,OAMX0I,YAAY,WACR,GAAInB,EAAKG,iBAAkBsB,UAAYzB,EAAKG,iBAAkB0B,OAC1D7B,EAAKG,iBAAkBuB,UAAY1B,EAAKG,iBAAkBuB,UAAW8B,OAAO,SAAA5B,GAAC,OAAIA,EAAEhI,WAAaF,EAAME,gBACnG,IAAKoG,EAAKG,iBAAkBsB,UAAYzB,EAAKG,iBAAkB0B,OAAQ,CAC1E,IAAIS,EAAW,IAAI7I,EAAQC,GAC3BsG,EAAKG,iBAAkBuB,UAAW9E,KAAK0F,GAGvCtC,EAAKG,iBAAkB0B,SACvB7B,EAAKG,iBAAkBsD,aAAezD,EAAKG,iBAAkBsD,aAEjEzD,EAAKoB,YAAYpB,EAAKG,oBAjBfoD,EAAArI,KAAA,gBAAAqI,EAAAtI,KAAA,EAAAsI,EAAAlC,GAAAkC,EAAA,SAqBXpH,QAAQC,IAARmH,EAAAlC,IArBW,eAAAkC,EAAAtI,KAAA,GAuBX+E,EAAKmC,YAAW,GAvBLoB,EAAAjC,OAAA,6BAAAiC,EAAA9H,SAAA6H,EAAA,uBAtNLhL,KAkPdoL,sBAAwB,WACpB1D,EAAKG,sBAAmBzH,GAnPdJ,KAsPdqL,wBAA0B,SAAC3E,GACvBgB,EAAKC,iBAAiBW,QAAQ,SAAAxC,GAC1BA,EAASsD,UAAUd,QAAQ,SAAA0B,GACnBA,EAAS1I,WAAaoF,IACtBsD,EAASsB,UAAYtB,EAASuB,iBAAmBvB,EAASuB,iBAC1DvB,EAASsB,WAAatB,EAASsB,gBA1P3CE,YAAmBxL,MACnByL,YACI,kBAAM/D,EAAKH,UAAUmE,QACrB,WACIhE,EAAK5G,aAAe,IAAIA,EACxB4G,EAAKC,iBAAiBgE,QACtBjE,EAAKa,2EAuCb,IAAM5C,EAAS,IAAIiG,gBAWnB,OAVAjG,EAAOoB,OAAO,aAAc/G,KAAKc,aAAaC,WAAW8K,YACzDlG,EAAOoB,OAAO,WAAY/G,KAAKc,aAAaI,SAAS2K,YACrD7L,KAAKuH,UAAUe,QAAQ,SAACF,EAAO5D,GACf,cAARA,EACAmB,EAAOoB,OAAOvC,EAAM4D,EAAe0D,eAEnCnG,EAAOoB,OAAOvC,EAAK4D,KAIpBzC,2CAwIP,OAAOoG,MAAMC,KAAKhM,KAAK2H,iBAAiBsE,UAAUC,KAAK,SAAC5C,EAAG6C,GAAJ,OAAU7C,EAAE9I,KAAM4L,UAAYD,EAAE3L,KAAM4L,sDAW7F,IAAIC,EAASrM,KAAKsM,iBAAiBC,OAAO,SAACC,EAAY1G,GACnD,IAAMtF,EAAOsF,EAAStF,KAAMsL,cAAcW,MAAM,KAAK,GAGrD,OAFAD,EAAWhM,GAAQgM,EAAWhM,IAAS,GACvCgM,EAAWhM,GAAM8D,KAAKwB,GACf0G,GACR,IAEH,OAAO1M,OAAO4M,QAAQL,iyMC1NTM,aASjB,SAAAA,IAAc,IAAAjF,EAAA1H,KAAAF,OAAAC,EAAA,EAAAD,CAAAE,KAAA2M,GAAA3M,KARdoB,KAAoB,KAQNpB,KAPd4M,cAA+B,KAOjB5M,KANd6M,WAAqB,EAMP7M,KALd8M,kBAAmC,KAKrB9M,KAJd+M,eAAyB,EAIX/M,KAHdgN,yBAGc,EAAAhN,KAQdmG,MARc,eAAAjE,EAAApC,OAAAqC,EAAA,EAAArC,CAAAmN,IAAA5K,KAQN,SAAAC,EAAO4K,GAAP,IAAA9L,EAAA,OAAA6L,IAAAxK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEmB4C,EAAMS,QAAQE,MAAM+G,GAFvC,OAEM9L,EAFNsB,EAAAkG,KAGA/F,EAAMC,YAAYqK,SAAS/L,EAAKoB,OAChCkF,EAAK0F,kBAAkBhM,GAEvByH,YAAY,WACRnB,EAAKtG,KAAOA,IAGhBiD,GAAQC,KAAK,eACbzB,EAAMwK,WAAWC,aAXjB5K,EAAAE,KAAA,uBAAAF,EAAAC,KAAA,GAAAD,EAAAqG,GAAArG,EAAA,SAAAA,EAAAqG,GAAA,yBAAArG,EAAAS,SAAAb,EAAA,kBARM,gBAAAc,GAAA,OAAAlB,EAAAmB,MAAArD,KAAAgB,YAAA,GAAAhB,KAyBd4E,OAAS,WACL/B,EAAMC,YAAYqK,SAAS,MAC3BzF,EAAK6F,wBACL7F,EAAKtG,KAAO,KACZiD,GAAQC,KAAK,MA7BHtE,KAgCdwN,QAhCc1N,OAAAqC,EAAA,EAAArC,CAAAmN,IAAA5K,KAgCJ,SAAAkB,IAAA,IAAAnC,EAAA,OAAA6L,IAAAxK,KAAA,SAAAe,GAAA,cAAAA,EAAAb,KAAAa,EAAAZ,MAAA,cAAAY,EAAAb,KAAA,EAAAa,EAAAZ,KAAA,EAEiB4C,EAAMS,QAAQC,UAF/B,OAEI9E,EAFJoC,EAAAoF,KAGF/F,EAAMC,YAAYqK,SAAS/L,EAAKoB,OAChCkF,EAAK0F,kBAAkBhM,GAEvByH,YAAY,WACRnB,EAAKtG,KAAOA,IAPdoC,EAAAZ,KAAA,sBAAAY,EAAAb,KAAA,EAAAa,EAAAuF,GAAAvF,EAAA,SAAAA,EAAAuF,GAAA,yBAAAvF,EAAAL,SAAAI,EAAA,iBAhCIvD,KA8CdoG,SA9Cc,eAAArC,EAAAjE,OAAAqC,EAAA,EAAArC,CAAAmN,IAAA5K,KA8CH,SAAA0H,EAAOmD,GAAP,IAAA9L,EAAA,OAAA6L,IAAAxK,KAAA,SAAAyH,GAAA,cAAAA,EAAAvH,KAAAuH,EAAAtH,MAAA,cAAAsH,EAAAvH,KAAA,EAAAuH,EAAAtH,KAAA,EAEgB4C,EAAMS,QAAQG,SAAS8G,GAFvC,OAEG9L,EAFH8I,EAAAtB,KAGH/F,EAAMC,YAAYqK,SAAS/L,EAAKoB,OAChCkF,EAAK0F,kBAAkBhM,GAGvByH,YAAY,WACRnB,EAAKtG,KAAOA,IAGhBiD,GAAQC,KAAK,eACbzB,EAAMwK,WAAWC,aAZdpD,EAAAtH,KAAA,uBAAAsH,EAAAvH,KAAA,GAAAuH,EAAAnB,GAAAmB,EAAA,SAAAA,EAAAnB,GAAA,yBAAAmB,EAAA/G,SAAA4G,EAAA,kBA9CG,gBAAApG,GAAA,OAAAI,EAAAV,MAAArD,KAAAgB,YAAA,GAAAhB,KAgEdyN,SAAW,SAACjM,GACJkG,EAAKtG,OAAMsG,EAAKtG,KAAKI,MAAQA,IAjEvBxB,KAoEd0N,eAAiB,SAACrM,GACVqG,EAAKtG,OAAMsG,EAAKtG,KAAKC,YAAcA,IArE7BrB,KAwEd2N,uBAxEc7N,OAAAqC,EAAA,EAAArC,CAAAmN,IAAA5K,KAwEW,SAAAgI,IAAA,OAAA4C,IAAAxK,KAAA,SAAA8H,GAAA,cAAAA,EAAA5H,KAAA4H,EAAA3H,MAAA,OACrBgL,OAAOC,GAAGC,eAAe,SAAChM,GAClBA,GAAgC,cAApBA,EAASkC,SACrB0D,EAAKkF,cAAgB9K,EAASiM,aAAazH,eAH9B,wBAAAiE,EAAApH,SAAAkH,MAxEXrK,KAgFdgO,cAAgB,WACZ,IAAMC,EAAQ,eAAAtD,EAAA7K,OAAAqC,EAAA,EAAArC,CAAAmN,IAAA5K,KAAG,SAAAuI,EAAOtE,GAAP,IAAAlF,EAAA,OAAA6L,IAAAxK,KAAA,SAAAoI,GAAA,cAAAA,EAAAlI,KAAAkI,EAAAjI,MAAA,cACb8E,EAAKmF,WAAY,EADJhC,EAAAlI,KAAA,EAAAkI,EAAAjI,KAAA,EAGU4C,EAAMS,QAAQI,QAAQC,GAHhC,OAGHlF,EAHGyJ,EAAAjC,KAIT/F,EAAMC,YAAYqK,SAAS/L,EAAKoB,OAChCkF,EAAK0F,kBAAkBhM,GAGvByH,YAAY,WACRnB,EAAKtG,KAAOA,IAGhBiD,GAAQC,KAAK,eACbzB,EAAMwK,WAAWC,aAbRzC,EAAAjI,KAAA,uBAAAiI,EAAAlI,KAAA,GAAAkI,EAAA9B,GAAA8B,EAAA,SAAAA,EAAA9B,GAAA,eAAA8B,EAAAlI,KAAA,GAkBT+E,EAAKmF,WAAY,EAlBRhC,EAAA7B,OAAA,6BAAA6B,EAAA1H,SAAAyH,EAAA,wBAAH,gBAAAH,GAAA,OAAAE,EAAAtH,MAAArD,KAAAgB,YAAA,GAsBV0G,EAAKkF,cACLqB,EAASvG,EAAKkF,eAEdgB,OAAOC,GAAG1H,MAAM,SAACrE,GACG,MAAZA,GAA6C,MAAzBA,EAASiM,cAC7BE,EAASnM,EAASiM,aAAazH,cAEpC,CAAE4H,MAAO,0BA9GNlO,KAkHduG,YAlHc,eAAA4H,EAAArO,OAAAqC,EAAA,EAAArC,CAAAmN,IAAA5K,KAkHA,SAAA2I,EAAOlJ,GAAP,IAAAV,EAAA,OAAA6L,IAAAxK,KAAA,SAAAwI,GAAA,cAAAA,EAAAtI,KAAAsI,EAAArI,MAAA,cACV8E,EAAKqF,eAAgB,EADX9B,EAAAtI,KAAA,EAAAsI,EAAArI,KAAA,EAGa4C,EAAMS,QAAQM,YAAYzE,EAASsM,YAHhD,OAGAhN,EAHA6J,EAAArC,KAIN/F,EAAMC,YAAYqK,SAAS/L,EAAKoB,OAChCkF,EAAK0F,kBAAkBhM,GAEvByH,YAAY,WACRnB,EAAKtG,KAAOA,IAGhBiD,GAAQC,KAAK,eACbzB,EAAMwK,WAAWC,aAZXrC,EAAArI,KAAA,uBAAAqI,EAAAtI,KAAA,GAAAsI,EAAAlC,GAAAkC,EAAA,SAAAA,EAAAlC,GAAA,eAAAkC,EAAAtI,KAAA,GAiBN+E,EAAKqF,eAAgB,EAjBf9B,EAAAjC,OAAA,6BAAAiC,EAAA9H,SAAA6H,EAAA,wBAlHA,gBAAAF,GAAA,OAAAqD,EAAA9K,MAAArD,KAAAgB,YAAA,GAAAhB,KAwIdwG,aAxIc1G,OAAAqC,EAAA,EAAArC,CAAAmN,IAAA5K,KAwIC,SAAAgM,IAAA,IAAAjN,EAAA,OAAA6L,IAAAxK,KAAA,SAAA6L,GAAA,cAAAA,EAAA3L,KAAA2L,EAAA1L,MAAA,cACX8E,EAAK6F,wBADMe,EAAA3L,KAAA,EAAA2L,EAAA1L,KAAA,EAGY4C,EAAMS,QAAQO,eAH1B,OAGDpF,EAHCkN,EAAA1F,KAIP/F,EAAMC,YAAYqK,SAAS/L,EAAKoB,OAChCkF,EAAK0F,kBAAkBhM,GAEvByH,YAAY,WACRnB,EAAKtG,KAAOA,IARTkN,EAAA1L,KAAA,iBAAA0L,EAAA3L,KAAA,GAAA2L,EAAAvF,GAAAuF,EAAA,SAYPzK,QAAQC,IAARwK,EAAAvF,IAZO,yBAAAuF,EAAAnL,SAAAkL,EAAA,kBAxIDrO,KAiKduN,sBAAwB,WACpBgB,aAAa7G,EAAKsF,sBAjKlBxB,YAAmBxL,oEAuJGoB,GAEtB,IAAMoN,EAAW/K,KAAKC,MAAM+K,KAAKrN,EAAKoB,MAAMiK,MAAM,KAAK,KAEjDiC,EADU,IAAI9E,KAAoB,IAAf4E,EAASG,KACVvC,UAAYxC,KAAKgF,MAAS,IAClD5O,KAAKgN,oBAAsB6B,WAAW7O,KAAKwG,aAAckI,sCAxJzD,QAAS1O,KAAKoB,myMCnBD0N,aASjB,SAAAA,IAAc,IAAApH,EAAA1H,KAAAF,OAAAC,EAAA,EAAAD,CAAAE,KAAA8O,GAAA9O,KARdoH,aAA+BhH,EAQjBJ,KAPd+O,gBAAiB,EAOH/O,KANdgP,gBAAiB,EAMHhP,KALdiP,SAAU,EAKIjP,KAJdkP,WAAwB,GAIVlP,KAHdmP,eAAiC,GAGnBnP,KAFdoP,mBAA6B,EAEfpP,KAYdqP,YAZc,eAAAnN,EAAApC,OAAAqC,EAAA,EAAArC,CAAAwP,IAAAjN,KAYA,SAAAC,EAAOoE,GAAP,IAAAU,EAAA,OAAAkI,IAAA7M,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACV8E,EAAKqH,gBAAiB,EADZrM,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAGgB4C,EAAMiB,SAASvB,IAAIwB,GAHnC,OAGAU,EAHA1E,EAAAkG,KAINC,YAAY,WACRnB,EAAKN,QAAUA,IALb1E,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAqG,GAAArG,EAAA,SAQNmB,QAAQC,IAARpB,EAAAqG,IARM,eAAArG,EAAAC,KAAA,GAUNkG,YAAY,WACRnB,EAAKqH,gBAAiB,IAXpBrM,EAAAsG,OAAA,6BAAAtG,EAAAS,SAAAb,EAAA,uBAZA,gBAAAc,GAAA,OAAAlB,EAAAmB,MAAArD,KAAAgB,YAAA,GAAAhB,KA4Bd2G,YA5Bc,eAAArD,EAAAxD,OAAAqC,EAAA,EAAArC,CAAAwP,IAAAjN,KA4BA,SAAAkB,EAAOgM,GAAP,IAAAzN,EAAA8E,EAAA,OAAA0I,IAAA7M,KAAA,SAAAe,GAAA,cAAAA,EAAAb,KAAAa,EAAAZ,MAAA,cACV8E,EAAKsH,gBAAiB,EADZxL,EAAAb,KAAA,EAAAa,EAAAZ,KAAA,EAGiB4C,EAAMiB,SAASE,YAAY4I,GAH5C,OAGAzN,EAHA0B,EAAAoF,KAIAhC,EAAQ9E,EAASlB,KACvBiD,QAAQC,IAAI,kBAAmB8C,GAE/BiC,YAAY,WACJnB,EAAKN,UACLM,EAAKN,QAAQoI,OAAQlL,KAAKsC,GACtBA,EAAM6I,QAAU5M,EAAM8B,UAAUvD,OAChCyB,EAAM8B,UAAU8I,SAAS7G,EAAM3B,KAC/ByC,EAAKN,QAAQ5F,MAAQoF,EAAM3B,QAZjCzB,EAAAZ,KAAA,iBAAAY,EAAAb,KAAA,GAAAa,EAAAuF,GAAAvF,EAAA,SAiBNK,QAAQC,IAARN,EAAAuF,IAjBM,eAAAvF,EAAAb,KAAA,GAmBNkG,YAAY,WACRnB,EAAKsH,gBAAiB,IApBpBxL,EAAAwF,OAAA,6BAAAxF,EAAAL,SAAAI,EAAA,wBA5BA,gBAAAI,GAAA,OAAAL,EAAAD,MAAArD,KAAAgB,YAAA,GAAAhB,KAqDdiH,aArDc,eAAAlD,EAAAjE,OAAAqC,EAAA,EAAArC,CAAAwP,IAAAjN,KAqDC,SAAA0H,EAAOnD,GAAP,OAAA0I,IAAA7M,KAAA,SAAAyH,GAAA,cAAAA,EAAAvH,KAAAuH,EAAAtH,MAAA,cACX8E,EAAKuH,SAAU,EADJ/E,EAAAvH,KAAA,EAAAuH,EAAAtH,KAAA,EAGD4C,EAAMiB,SAASQ,aAAaL,EAAMzG,IAHjC,OAIP0C,EAAM8B,UAAU8I,SAAS7G,EAAM3B,KAC/B4D,YAAY,WACRnB,EAAKN,QAASoI,OAAQ9F,KAAK,SAAAJ,GAAC,OAAIA,EAAEmG,SAASA,QAAS,EACpD/H,EAAKN,QAASoI,OAAQ9F,KAAK,SAAAJ,GAAC,OAAIA,EAAEnJ,KAAOyG,EAAMzG,KAAKsP,QAAS,EAC7D/H,EAAKN,QAAS5F,MAAQoF,EAAM3B,MARzBiF,EAAAtH,KAAA,gBAAAsH,EAAAvH,KAAA,EAAAuH,EAAAnB,GAAAmB,EAAA,SAWPrG,QAAQC,IAARoG,EAAAnB,IAXO,eAAAmB,EAAAvH,KAAA,GAaPkG,YAAY,WACRnB,EAAKuH,SAAU,IAdZ/E,EAAAlB,OAAA,6BAAAkB,EAAA/G,SAAA4G,EAAA,uBArDD,gBAAAU,GAAA,OAAA1G,EAAAV,MAAArD,KAAAgB,YAAA,GAAAhB,KAwEdkH,YAxEc,eAAAkD,EAAAtK,OAAAqC,EAAA,EAAArC,CAAAwP,IAAAjN,KAwEA,SAAAgI,EAAOzD,GAAP,OAAA0I,IAAA7M,KAAA,SAAA8H,GAAA,cAAAA,EAAA5H,KAAA4H,EAAA3H,MAAA,cACV8E,EAAKuH,SAAU,EADL1E,EAAA5H,KAAA,EAAA4H,EAAA3H,KAAA,EAGA4C,EAAMiB,SAASS,YAAYN,EAAMzG,IAHjC,OAIN0I,YAAY,WACRnB,EAAKN,QAASoI,OAAS9H,EAAKN,QAASoI,OAAQtE,OAAO,SAAA5B,GAAC,OAAIA,EAAEnJ,KAAOyG,EAAMzG,OALtEoK,EAAA3H,KAAA,gBAAA2H,EAAA5H,KAAA,EAAA4H,EAAAxB,GAAAwB,EAAA,SAQN1G,QAAQC,IAARyG,EAAAxB,IARM,eAAAwB,EAAA5H,KAAA,GAUNkG,YAAY,WACRnB,EAAKuH,SAAU,IAXb1E,EAAAvB,OAAA,6BAAAuB,EAAApH,SAAAkH,EAAA,uBAxEA,gBAAAS,GAAA,OAAAV,EAAA/G,MAAArD,KAAAgB,YAAA,GAAAhB,KAwFdmH,cAxFc,eAAAwD,EAAA7K,OAAAqC,EAAA,EAAArC,CAAAwP,IAAAjN,KAwFE,SAAAuI,EAAOxD,GAAP,OAAAkI,IAAA7M,KAAA,SAAAoI,GAAA,cAAAA,EAAAlI,KAAAkI,EAAAjI,MAAA,cACZ8E,EAAKuH,SAAU,EADHpE,EAAAlI,KAAA,EAAAkI,EAAAjI,KAAA,EAGF4C,EAAMiB,SAASU,cAAcC,GAH3B,OAIRyB,YAAY,WACJzB,EAAQ/F,cAAgBwB,EAAM8B,UAAUvD,KAAMC,aAC9CwB,EAAM8B,UAAU+I,eAAetG,EAAQ/F,aAE3CqG,EAAKN,QAALtH,OAAA0K,EAAA,EAAA1K,CAAA,GAAoB4H,EAAKN,QAAaA,KARlCyD,EAAAjI,KAAA,gBAAAiI,EAAAlI,KAAA,EAAAkI,EAAA9B,GAAA8B,EAAA,SAWRhH,QAAQC,IAAR+G,EAAA9B,IAXQ,eAAA8B,EAAAlI,KAAA,GAaRkG,YAAY,WACRnB,EAAKuH,SAAU,IAdXpE,EAAA7B,OAAA,6BAAA6B,EAAA1H,SAAAyH,EAAA,uBAxFF,gBAAA8E,GAAA,OAAA/E,EAAAtH,MAAArD,KAAAgB,YAAA,GAAAhB,KA2GdqH,gBA3Gc,eAAA8G,EAAArO,OAAAqC,EAAA,EAAArC,CAAAwP,IAAAjN,KA2GI,SAAA2I,EAAOtE,EAAkB4E,GAAzB,OAAAgE,IAAA7M,KAAA,SAAAwI,GAAA,cAAAA,EAAAtI,KAAAsI,EAAArI,MAAA,cACd8E,EAAKuH,SAAU,EADDhE,EAAAtI,KAAA,EAAAsI,EAAArI,KAAA,EAGJ4C,EAAMiB,SAASY,gBAAgBX,GAH3B,OAIV7D,EAAM8M,cAActE,wBAAwB3E,GAC5CmC,YAAY,WACJnB,EAAKN,SAAWM,EAAKN,QAAQ9F,WAAauB,EAAM8B,UAAUvD,KAAME,UAAYoG,EAAKN,QAAQ9F,WAAaoF,IACtG4E,EAAY5D,EAAKN,QAAQmE,iBAAmB7D,EAAKN,QAAQmE,iBACzD7D,EAAKN,QAAQkE,WAAa5D,EAAKN,QAAQkE,WAKvC5D,EAAKN,SAAWM,EAAKN,QAAQ9F,WAAauB,EAAM8B,UAAUvD,KAAME,WAChEgK,EAAY5D,EAAKN,QAAQwI,iBAAmBlI,EAAKN,QAAQwI,kBAK7DlI,EAAKwH,WAAW5G,QAAQ,SAAAlB,GAChBA,EAAQ9F,WAAaoF,IACrBU,EAAQkE,UAAYlE,EAAQmE,iBAAmBnE,EAAQmE,iBACvDnE,EAAQkE,WAAalE,EAAQkE,eAtB/BL,EAAArI,KAAA,gBAAAqI,EAAAtI,KAAA,EAAAsI,EAAAlC,GAAAkC,EAAA,SA2BVpH,QAAQC,IAARmH,EAAAlC,IA3BU,eAAAkC,EAAAtI,KAAA,GA6BVkG,YAAY,WACRnB,EAAKuH,SAAU,IA9BThE,EAAAjC,OAAA,6BAAAiC,EAAA9H,SAAA6H,EAAA,uBA3GJ,gBAAA6E,EAAAC,GAAA,OAAA3B,EAAA9K,MAAArD,KAAAgB,YAAA,GAAAhB,KA8Id+P,eA9Ic,eAAAC,EAAAlQ,OAAAqC,EAAA,EAAArC,CAAAwP,IAAAjN,KA8IG,SAAAgM,EAAO9G,GAAP,IAAA2H,EAAA,OAAAI,IAAA7M,KAAA,SAAA6L,GAAA,cAAAA,EAAA3L,KAAA2L,EAAA1L,MAAA,cACb8E,EAAKuH,SAAU,EADFX,EAAA3L,KAAA,EAAA2L,EAAA1L,KAAA,EAGgB4C,EAAMiB,SAASa,eAAeI,EAAKN,QAAS9F,SAAUiG,GAHtE,OAGH2H,EAHGZ,EAAA1F,KAITC,YAAY,WACRnB,EAAKwH,WAAaA,IALbZ,EAAA1L,KAAA,gBAAA0L,EAAA3L,KAAA,EAAA2L,EAAAvF,GAAAuF,EAAA,SAQTzK,QAAQC,IAARwK,EAAAvF,IARS,eAAAuF,EAAA3L,KAAA,GAUTkG,YAAY,WACRnB,EAAKuH,SAAU,IAXVX,EAAAtF,OAAA,6BAAAsF,EAAAnL,SAAAkL,EAAA,uBA9IH,gBAAA4B,GAAA,OAAAD,EAAA3M,MAAArD,KAAAgB,YAAA,GAAAhB,KA8JdkQ,gBAAkB,WACdxI,EAAKwH,WAAa,IA/JRlP,KAkKdmQ,mBAlKc,eAAAC,EAAAtQ,OAAAqC,EAAA,EAAArC,CAAAwP,IAAAjN,KAkKO,SAAAgO,EAAO3J,EAAkBa,GAAzB,IAAAiF,EAAA,OAAA8C,IAAA7M,KAAA,SAAA6N,GAAA,cAAAA,EAAA3N,KAAA2N,EAAA1N,MAAA,cACjBiB,QAAQC,IAAI,0BAA2B4C,EAAUa,GAEjDG,EAAK0H,mBAAoB,EAHRkB,EAAA3N,KAAA,EAAA2N,EAAA1N,KAAA,EAKY4C,EAAMiB,SAASe,eAAed,EAAUa,GALpD,OAKPiF,EALO8D,EAAA1H,KAObC,YAAY,WACRnB,EAAKyH,eAAiB3C,EAAW5L,OARxB0P,EAAA1N,KAAA,gBAAA0N,EAAA3N,KAAA,EAAA2N,EAAAvH,GAAAuH,EAAA,SAWbzM,QAAQC,IAARwM,EAAAvH,IAXa,eAAAuH,EAAA3N,KAAA,GAabkG,YAAY,WACRnB,EAAK0H,mBAAoB,IAdhBkB,EAAAtH,OAAA,6BAAAsH,EAAAnN,SAAAkN,EAAA,uBAlKP,gBAAAE,EAAAC,GAAA,OAAAJ,EAAA/M,MAAArD,KAAAgB,YAAA,GACVwK,YAAmBxL,gEAInB,SAAI6C,EAAM8B,UAAUvD,OAAQpB,KAAKoH,UACtBvE,EAAM8B,UAAUvD,KAAKE,WAAatB,KAAKoH,QAAQ9F,wzMCHrDuB,EAAe,CACxB8M,cAAe,IAAIlI,EACnB3E,YAAa,ICXb,SAAA2N,IAAa,IAAA/I,EAAA1H,KAAAF,OAAAC,EAAA,EAAAD,CAAAE,KAAAyQ,GAAAzQ,KAJb4D,MAA4B,KAIf5D,KAHbwC,MAAuBoL,OAAO8C,aAAaC,QAAQ,OAGtC3Q,KAFb4Q,WAAY,EAEC5Q,KAeb6E,eAAiB,SAACjB,GACd8D,EAAK9D,MAAQA,GAhBJ5D,KAmBbmN,SAAW,SAAC3K,GACRkF,EAAKlF,MAAQA,GApBJxC,KAuBb6Q,aAAe,WACXnJ,EAAKkJ,WAAY,GAvBjBpF,YAAmBxL,MAEnByL,YACI,kBAAM/D,EAAKlF,OACX,SAAAA,GACOA,EACCoL,OAAO8C,aAAaI,QAAQ,MAAOtO,GAEnCoL,OAAO8C,aAAaK,WAAW,UDG/CpM,UAAW,IAAIgI,EACfU,WAAY,IEPZ,SAAA2D,IAAa,IAAAtJ,EAAA1H,KAAAF,OAAAC,EAAA,EAAAD,CAAAE,KAAAgR,GAAAhR,KALbiR,MAAe,CACXC,MAAM,EACN9L,KAAM,MAGGpF,KAIbmR,UAAY,SAACC,GACT1J,EAAKuJ,MAAMC,MAAO,EAClBxJ,EAAKuJ,MAAM7L,KAAOgM,GANTpR,KASbsN,WAAa,WACT5F,EAAKuJ,MAAMC,MAAO,EAClBxJ,EAAKuJ,MAAM7L,KAAO,MAVlBoG,YAAmBxL,OFOvB8O,aAAc,IAAIuC,EAClBC,aAAc,IGdd,SAAAC,IAAc,IAAA7J,EAAA1H,KAAAF,OAAAC,EAAA,EAAAD,CAAAE,KAAAuR,GAAAvR,KAHdwR,SAA0B,GAGZxR,KAFdyR,cAAsC,KAExBzR,KAId0R,oBAAsB,SAACC,GACf9O,EAAM8M,cAAc9H,mBACpBH,EAAK+J,eAAgB,IAAIG,KACpBC,QAAQjQ,oBAAkD+P,EAAY,CACnEG,mBAAoB,kBAAMjP,EAAM8B,UAAUvD,KAAMoB,SAEnDuP,yBACAC,iBAAiBC,IAASC,aAC1BC,QAELzK,EAAK+J,cACAW,QAEAC,MAAM,SAAAzO,GAAK,OAAIC,QAAQC,IAAI,kCAAmCF,KAEnE8D,EAAK+J,cAAca,GAAG,iBAAkB,SAACC,GACrC1J,YAAY,WACR0J,EAAQC,UAAY,IAAI5I,KAAK2I,EAAQC,WACrC9K,EAAK8J,SAASiB,QAAQF,OAK9B7K,EAAK+J,cAAca,GAAG,eAAgB,SAACd,GACnCA,EAASlJ,QAAQ,SAAAiK,GACbA,EAAQC,UAAY,IAAI5I,KAAK2I,EAAQC,WACrC3J,YAAY,WACRnB,EAAK8J,SAASlN,KAAKiO,WA/BzBvS,KAuCd0S,kBAAoB,WAChBhL,EAAK+J,cAAetO,OAAOkP,MAAM,SAAAzO,GAAK,OAAIC,QAAQC,IAAI,8BAA+BF,MAxC3E5D,KA2Cd2S,cAAgB,WACZjL,EAAK8J,SAAW,GAChB9J,EAAKgL,qBA7CK1S,KAgDd4S,WAhDc,eAAA1Q,EAAApC,OAAAqC,EAAA,EAAArC,CAAA+S,IAAAxQ,KAgDD,SAAAC,EAAO2J,GAAP,OAAA4G,IAAApQ,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UAAAF,EAAAC,KAAA,GAGD+E,EAAK+J,cAHJ,CAAA/O,EAAAE,KAAA,eAAAF,EAAAE,KAAA,EAIK8E,EAAK+J,cAAcqB,OAAoB,cAAe7G,GAJ3D,OAAAvJ,EAAAE,KAAA,eAAAF,EAAAC,KAAA,EAAAD,EAAAqG,GAAArG,EAAA,SAQLmB,QAAQC,IAARpB,EAAAqG,IARK,wBAAArG,EAAAS,SAAAb,EAAA,iBAhDC,gBAAAc,GAAA,OAAAlB,EAAAmB,MAAArD,KAAAgB,YAAA,GACVwK,YAAmBxL,QHgBd+S,EAAeC,wBAAcnQ,GAEnC,SAASoQ,IACZ,OAAOC,qBAAWH,GIvBPI,kBAAS,WAAkB,IAAAC,EACEH,IAAhCtO,UAAavD,EADiBgS,EACjBhS,KAAMwD,EADWwO,EACXxO,OAC3B,OACIyO,EAAA/J,EAAAgK,cAACC,EAAA,EAAD,CAAMC,UAAQ,EAACC,MAAM,OACjBJ,EAAA/J,EAAAgK,cAACI,EAAA,EAAD,KACIL,EAAA/J,EAAAgK,cAACC,EAAA,EAAKI,KAAN,CAAWC,GAAIC,IAASC,GAAG,IAAIC,OAAK,EAACC,QAAM,GACvCX,EAAA/J,EAAAgK,cAAA,OAAKW,IAAI,mBAAmBC,IAAI,OAAOC,MAAO,CAAEC,YAAa,UADjE,gBAIAf,EAAA/J,EAAAgK,cAACC,EAAA,EAAKI,KAAN,CAAWU,KAAK,aAAaT,GAAIC,IAASC,GAAG,gBAC7CT,EAAA/J,EAAAgK,cAACC,EAAA,EAAKI,KAAN,CAAWU,KAAK,SAAST,GAAIC,IAASC,GAAG,YACzCT,EAAA/J,EAAAgK,cAACC,EAAA,EAAKI,KAAN,KACIN,EAAA/J,EAAAgK,cAACgB,EAAA,EAAD,CAAQC,UAAQ,EAACnD,QAAQ,kBAAkBwC,GAAIC,IAASC,GAAG,qBAG/DT,EAAA/J,EAAAgK,cAACkB,EAAA,EAAD,CAAUC,SAAS,SACfpB,EAAA/J,EAAAgK,cAACoB,EAAA,EAAD,CAAOT,IAAK7S,GAAQA,EAAKI,OAAS,mBAAoBmT,QAAM,EAACC,OAAO,UACpEvB,EAAA/J,EAAAgK,cAACuB,EAAA,EAAD,CAAUC,SAAS,WAAWC,KAAI,GAAA9R,OAAK7B,GAAQA,EAAKC,cAChDgS,EAAA/J,EAAAgK,cAACuB,EAAA,EAAStB,KAAV,KACIF,EAAA/J,EAAAgK,cAACuB,EAAA,EAASlB,KAAV,CAAeC,GAAIoB,IAAMlB,GAAE,aAAA7Q,OAAe7B,GAAQA,EAAKE,UAAYyT,KAAK,aAAaE,KAAK,SAC1F5B,EAAA/J,EAAAgK,cAACuB,EAAA,EAASlB,KAAV,CAAeuB,QAAStQ,EAAQmQ,KAAK,SAASE,KAAK,4ICiBhE9B,mBAjCf,SAAAjR,GAA0C,IAAlBkF,EAAkBlF,EAAlBkF,QAAkB+N,EACDlC,IAAWnE,aAAxCG,EAD8BkG,EAC9BlG,QAAS5H,EADqB8N,EACrB9N,gBACTjG,EAAS6R,IAAWtO,UAApBvD,KAER,OAAIgG,EAAQ9F,WAAaF,EAAME,SAAiB,KAW5C+R,EAAA/J,EAAAgK,cAAAD,EAAA/J,EAAA8L,SAAA,KACI/B,EAAA/J,EAAAgK,cAAC+B,GAAA,EAAD,CAAQC,SAAS,QACbjC,EAAA/J,EAAAgK,cAAC+B,GAAA,EAAOE,QAAR,CAAgBC,SAAO,EAACrB,MAAO,CAAEsB,MAAO,SACpCpC,EAAA/J,EAAAgK,cAACgB,EAAA,EAAD,CAAQoB,OAAK,EAACC,MAAM,OAAOvE,QAAShK,EAAQkE,UAAY,YAAc,mBAE1E+H,EAAA/J,EAAAgK,cAAC+B,GAAA,EAAOE,QAAR,CAAgBK,QAAM,EAACzB,MAAO,CAAEsB,MAAO,SACnCpC,EAAA/J,EAAAgK,cAACgB,EAAA,EAAD,CACIoB,OAAK,EAACG,OAAK,EAACF,MAAOvO,EAAQkE,UAAY,MAAQ,QAAS8F,QAAShK,EAAQkE,UAAY,WAAa,SAClG2D,QAASA,EACTiG,QAAS,SAACY,GAAD,OAlBYpP,EAkBWU,EAAQ9F,cAjBpD8F,EAAQkE,UACRjE,EAAgBX,GAAU,GAG1BW,EAAgBX,GAAU,IALlC,IAAyCA,GAmBrBqP,SAAU9G,SCAnBkE,mBAxBf,SAAAjR,GAAyC,IAAlBf,EAAkBe,EAAlBf,QACnB,OACIkS,EAAA/J,EAAAgK,cAAC0C,GAAA,EAAD,KACI3C,EAAA/J,EAAAgK,cAACoB,EAAA,EAAD,CAAOT,IAAK9S,EAAQK,OAAS,qBAC7B6R,EAAA/J,EAAAgK,cAAC0C,GAAA,EAAKT,QAAN,KACIlC,EAAA/J,EAAAgK,cAAC0C,GAAA,EAAKC,OAAN,KAAc9U,EAAQE,aACtBgS,EAAA/J,EAAAgK,cAAC0C,GAAA,EAAKE,KAAN,KACI7C,EAAA/J,EAAAgK,cAAA,YAESnS,EAAQI,KAAOJ,EAAQI,IAAIN,OAAS,GAAME,EAAQI,IAAI4U,UAAU,EAAG,IAAMhV,EAAQI,IAF1F,SAOR8R,EAAA/J,EAAAgK,cAAC0C,GAAA,EAAKT,QAAN,CAAca,OAAK,GACf/C,EAAA/J,EAAAgK,cAACgB,EAAA,EAAD,CAAQV,GAAIoB,IAAMlB,GAAE,aAAA7Q,OAAe9B,EAAQG,UAAYuU,OAAK,EAACF,MAAM,OAAOvE,QAAQ,iBAClFiC,EAAA/J,EAAAgK,cAAC+C,GAAA,EAAD,CAAMhC,KAAK,SACVlT,EAAQoK,eAHb,cAKA8H,EAAA/J,EAAAgK,cAACgD,GAAD,CAAclP,QAASjG,OCepBgS,mBAjCf,SAAAjR,GAAwD,IAApBkH,EAAoBlH,EAApBkH,UAC1BmN,EAAS,CACXC,YAAa,SACbC,YAAa,GAGjB,OACIpD,EAAA/J,EAAAgK,cAACoD,GAAA,EAAD,CAAMC,YAAU,GACXvN,EAAUwN,IAAI,SAAA5M,GAAQ,OACnBqJ,EAAA/J,EAAAgK,cAACuD,GAAA,EAAD,CACIC,WAAS,EACTtS,IAAKwF,EAAS1I,SACdyV,QACI1D,EAAA/J,EAAAgK,cAACoD,GAAA,EAAK/C,KAAN,CAAWnP,IAAKwF,EAAS3I,YAAa8S,MAAO,CAAEM,SAAU,YAAcb,GAAIoB,IAAMlB,GAAE,aAAA7Q,OAAe+G,EAAS1I,WACvG+R,EAAA/J,EAAAgK,cAACoB,EAAA,EAAD,CACIsC,KAAK,OACLC,UAAQ,EAAChD,IAAKjK,EAASxI,OAAS,mBAChC0V,UAAQ,EACR/C,MAAOnK,EAASsB,UAAYiL,EAAS,SAKjDlD,EAAA/J,EAAAgK,cAACuD,GAAA,EAAMtB,QAAP,KACIlC,EAAA/J,EAAAgK,cAAC6D,GAAD,CAAahW,QAAS6I,WCuD/BoN,OA/Ef,SAAAlV,GAA+C,IAAnB4D,EAAmB5D,EAAnB4D,SAChB6J,EAAkBsD,IAAlBtD,cACAjF,EAA8BiF,EAA9BjF,eAAgB3C,EAAc4H,EAAd5H,UAFmBsP,EAGfC,IAAMC,SAAS,IAHAC,EAAA1X,OAAA2X,EAAA,EAAA3X,CAAAuX,EAAA,GAGpCK,EAHoCF,EAAA,GAG5BG,EAH4BH,EAAA,GAQ3C,OAEInE,EAAA/J,EAAAgK,cAACsE,EAAA,EAAQC,MAAT,KACIxE,EAAA/J,EAAAgK,cAACsE,EAAA,EAAD,KACK9R,EAASqF,aACNkI,EAAA/J,EAAAgK,cAACwE,EAAA,EAAD,CAAOC,SAAS,MAAMpC,MAAM,MAAMvE,QAAQ,YAAY+C,MAAO,CAAE6D,UAAW,YAE9E3E,EAAA/J,EAAAgK,cAACK,GAAA,EAAKkE,MAAN,KACIxE,EAAA/J,EAAAgK,cAACK,GAAA,EAAD,KACIN,EAAA/J,EAAAgK,cAACK,GAAA,EAAKe,MAAN,CAAYP,MAAO,CAAE8D,aAAc,GAAKjB,KAAK,OAAOC,UAAQ,EAAChD,IAAKnO,EAAS2D,KAAMjI,OAAS,qBAC1F6R,EAAA/J,EAAAgK,cAACK,GAAA,EAAK4B,QAAN,KACIlC,EAAA/J,EAAAgK,cAACK,GAAA,EAAKsC,OAAN,CAAarC,GAAIoB,IAAMlB,GAAE,eAAA7Q,OAAiB6C,EAAS3F,KAC9C2F,EAASzF,OAEdgT,EAAA/J,EAAAgK,cAACK,GAAA,EAAKuE,YAAN,iBACI7E,EAAA/J,EAAAgK,cAAC6E,EAAA,EAAD,CAAMrE,GAAE,aAAA7Q,OAAe6C,EAAS2D,KAAMnI,WAAtC,IAAoDwE,EAAS2D,KAAMpI,cAEtEyE,EAASyD,QACN8J,EAAA/J,EAAAgK,cAACK,GAAA,EAAKuE,YAAN,KACI7E,EAAA/J,EAAAgK,cAACwE,EAAA,EAAD,CAAOjC,OAAK,EAACF,MAAM,UAAnB,kCAKP7P,EAASqD,UAAYrD,EAASyD,QAC3B8J,EAAA/J,EAAAgK,cAACK,GAAA,EAAKuE,YAAN,KACI7E,EAAA/J,EAAAgK,cAACwE,EAAA,EAAD,CAAOjC,OAAK,EAACF,MAAM,SAAnB,uCAUxBtC,EAAA/J,EAAAgK,cAACsE,EAAA,EAAD,KACIvE,EAAA/J,EAAAgK,cAAA,YACID,EAAA/J,EAAAgK,cAAC+C,GAAA,EAAD,CAAMhC,KAAK,UADf,IAC2B+D,mBAAOtS,EAAStF,KAAO,uBAC9C6S,EAAA/J,EAAAgK,cAAC+C,GAAA,EAAD,CAAMhC,KAAK,WAFf,IAE4BvO,EAASpF,MAFrC,KAE8CoF,EAASrF,OAG3D4S,EAAA/J,EAAAgK,cAACsE,EAAA,EAAD,CAASS,WAAS,GACdhF,EAAA/J,EAAAgK,cAACgF,GAAD,CAA0BlP,UAAWtD,EAASsD,aAElDiK,EAAA/J,EAAAgK,cAACsE,EAAA,EAAD,CAASW,UAAQ,GACblF,EAAA/J,EAAAgK,cAAA,YAAOxN,EAASvF,aAChB8S,EAAA/J,EAAAgK,cAACgB,EAAA,EAAD,CACIV,GAAIoB,IACJlB,GAAE,eAAA7Q,OAAiB6C,EAAS3F,IAC5BwV,MAAM,OACN6C,QAAQ,QACRpH,QAAQ,SAGRtL,EAASyD,QACT8J,EAAA/J,EAAAgK,cAACgB,EAAA,EAAD,CACID,KAAMvO,EAAS3F,GACf8O,QAASlH,GAAa2P,IAAW5R,EAAS3F,GAC1C+U,QAAS,SAACY,GAAD,OA/DA,SAACA,EAAsC3V,GAChEwX,EAAU7B,EAAE2C,cAAcpE,MAC1B3J,EAAevK,GA6DiBuY,CAAqB5C,EAAGhQ,EAAS3F,KACjDwV,MAAM,MACN6C,QAAQ,QACRpH,QAAQ,cC5EjB+B,eAAS,WAAwB,IAEpCwF,EADkB1F,IAAlBtD,cACAgJ,kBAER,OACItF,EAAA/J,EAAAgK,cAAAD,EAAA/J,EAAA8L,SAAA,KAEQuD,EAAkB/B,IAAI,SAAA1U,GAAyB,IAAAoB,EAAAxD,OAAA2X,EAAA,EAAA3X,CAAAoC,EAAA,GAAvB0W,EAAuBtV,EAAA,GAAhBkJ,EAAgBlJ,EAAA,GAC3C,OACI+P,EAAA/J,EAAAgK,cAACuF,EAAA,SAAD,CAAUrU,IAAKoU,GACXvF,EAAA/J,EAAAgK,cAAC2C,EAAA,EAAD,CAAQ6C,KAAG,EAACnD,MAAM,QACbiD,GAIDpM,EAAWoK,IAAI,SAAA9Q,GAAQ,OACnBuN,EAAA/J,EAAAgK,cAACyF,GAAD,CAAkBvU,IAAKsB,EAAS3F,GAAI2F,SAAUA,sBCenEqN,mBA/Bf,WAA2B,IAAA6F,EACa/F,IAAWtD,cAAvCpI,EADeyR,EACfzR,UAAWY,EADI6Q,EACJ7Q,aAEnB,OACIkL,EAAA/J,EAAAgK,cAAAD,EAAA/J,EAAA8L,SAAA,KACI/B,EAAA/J,EAAAgK,cAACC,EAAA,EAAD,CAAM0F,UAAQ,EAACjC,KAAK,QAAQ7C,MAAO,CAAEsB,MAAO,OAAQyD,UAAW,KAC3D7F,EAAA/J,EAAAgK,cAAC2C,EAAA,EAAD,CAAQhB,KAAK,SAAS8C,UAAQ,EAACpC,MAAM,OAAOvE,QAAQ,YACpDiC,EAAA/J,EAAAgK,cAACC,EAAA,EAAKI,KAAN,CACIvC,QAAQ,iBACR+H,OAAQ5R,EAAU6R,IAAI,OACtBlE,QAAS,kBAAM/M,EAAa,MAAO,WAGvCkL,EAAA/J,EAAAgK,cAACC,EAAA,EAAKI,KAAN,CAAWvC,QAAQ,YACf+H,OAAQ5R,EAAU6R,IAAI,WACtBlE,QAAS,kBAAM/M,EAAa,UAAW,WAE3CkL,EAAA/J,EAAAgK,cAACC,EAAA,EAAKI,KAAN,CAAWvC,QAAQ,cACf+H,OAAQ5R,EAAU6R,IAAI,UACtBlE,QAAS,kBAAM/M,EAAa,SAAU,YAG9CkL,EAAA/J,EAAAgK,cAAC2C,EAAA,EAAD,MACA5C,EAAA/J,EAAAgK,cAAC+F,GAAA,EAAD,CACIC,SAAU,SAAC9Y,GAAD,OAAgB2H,EAAa,YAAa3H,IACpD4H,MAAOb,EAAUrC,IAAI,cAAgB,IAAI0E,yCC5B1C,SAAS2P,KACpB,OACIlG,EAAA/J,EAAAgK,cAACuF,EAAA,SAAD,KACIxF,EAAA/J,EAAAgK,cAACkG,GAAA,EAAD,CAAa9D,OAAK,EAACvB,MAAO,CAAE+E,UAAW,KACnC7F,EAAA/J,EAAAgK,cAACsE,EAAA,EAAQC,MAAT,KACIxE,EAAA/J,EAAAgK,cAACsE,EAAA,EAAD,CAASzD,MAAO,CAAEsF,UAAW,MACzBpG,EAAA/J,EAAAgK,cAACkG,GAAA,EAAD,KACInG,EAAA/J,EAAAgK,cAACkG,GAAA,EAAYvD,OAAb,CAAoBzU,OAAK,GACrB6R,EAAA/J,EAAAgK,cAACkG,GAAA,EAAYE,KAAb,MACArG,EAAA/J,EAAAgK,cAACkG,GAAA,EAAYE,KAAb,OAEJrG,EAAA/J,EAAAgK,cAACkG,GAAA,EAAYG,UAAb,KACItG,EAAA/J,EAAAgK,cAACkG,GAAA,EAAYE,KAAb,SAIZrG,EAAA/J,EAAAgK,cAACsE,EAAA,EAAD,KACIvE,EAAA/J,EAAAgK,cAACkG,GAAA,EAAD,KACInG,EAAA/J,EAAAgK,cAACkG,GAAA,EAAYE,KAAb,MACArG,EAAA/J,EAAAgK,cAACkG,GAAA,EAAYE,KAAb,QAGRrG,EAAA/J,EAAAgK,cAACsE,EAAA,EAAD,CAASS,WAAS,EAAClE,MAAO,CAAEsF,UAAW,MACvCpG,EAAA/J,EAAAgK,cAACsE,EAAA,EAAD,CAASW,UAAQ,GACblF,EAAA/J,EAAAgK,cAACgB,EAAA,EAAD,CAAQyB,UAAQ,EAACJ,MAAM,OAAO6C,QAAQ,QAAQpH,QAAQ,aCb/D+B,mBAAS,WAA6B,IACzCxD,EAAkBsD,IAAlBtD,cACApH,EAAgEoH,EAAhEpH,eAAgBT,EAAgD6H,EAAhD7H,eAAgBI,EAAgCyH,EAAhCzH,gBAAiBrH,EAAe8O,EAAf9O,WAFR+Y,EAGXrC,oBAAS,GAHEsC,EAAA/Z,OAAA2X,EAAA,EAAA3X,CAAA8Z,EAAA,GAG1CE,EAH0CD,EAAA,GAG7BE,EAH6BF,EAAA,GAejD,OAJAG,oBAAU,WACNzR,KACD,IAGC8K,EAAA/J,EAAAgK,cAAC2G,EAAA,EAAD,KACI5G,EAAA/J,EAAAgK,cAAC2G,EAAA,EAAKC,OAAN,CAAazE,MAAO,IACf3N,IAAmBgS,EAChBzG,EAAA/J,EAAAgK,cAAAD,EAAA/J,EAAA8L,SAAA,KACI/B,EAAA/J,EAAAgK,cAACiG,GAAD,MACAlG,EAAA/J,EAAAgK,cAACiG,GAAD,OAGJlG,EAAA/J,EAAAgK,cAAC6G,GAAA7Q,EAAD,CACI8Q,UAAW,EACXC,SArBM,WACtBN,GAAe,GACf7R,EAAgB,IAAIpH,EAAa6O,EAAc7O,aAAaC,WAAa,IACzEwH,IAAiBpD,KAAK,kBAAM4U,GAAe,MAmB3BO,SAAUR,KAAiBjZ,GAAcA,EAAW0Z,YAAc1Z,EAAW2Z,WAC7EC,aAAa,GAGbpH,EAAA/J,EAAAgK,cAACoH,GAAD,QAKZrH,EAAA/J,EAAAgK,cAAC2G,EAAA,EAAKC,OAAN,CAAazE,MAAO,GAChBpC,EAAA/J,EAAAgK,cAACqH,GAAD,OAEJtH,EAAA/J,EAAAgK,cAAC2G,EAAA,EAAKC,OAAN,CAAazE,MAAO,IAChBpC,EAAA/J,EAAAgK,cAACsH,EAAA,EAAD,CAAQzB,OAAQW,uDC5BjBe,GAfK,SAAA3Y,GAAgC,IAA7B4Y,EAA6B5Y,EAA7B4Y,MAAUC,EAAmBjb,OAAAkb,GAAA,EAAAlb,CAAAoC,EAAA,WAAA+Y,EACjBC,aAASH,GADQI,EAAArb,OAAA2X,EAAA,EAAA3X,CAAAmb,EAAA,GACzCG,EADyCD,EAAA,GAClCE,EADkCF,EAAA,GAAAA,EAAA,GAEhD,OACI9H,EAAA/J,EAAAgK,cAACgI,GAAA,EAAKC,MAAN,CAAY3X,MAAOyX,EAAKG,WAAaH,EAAKzX,OACtCyP,EAAA/J,EAAAgK,cAAA,aACKwH,EACDzH,EAAA/J,EAAAgK,cAAA,QAAAxT,OAAAG,OAAA,GAAWmb,EAAWL,KAEzBM,EAAKG,SAAWH,EAAKzX,MAClByP,EAAA/J,EAAAgK,cAACwE,EAAA,EAAD,CAAOjC,OAAK,EAACF,MAAM,OAAQ0F,EAAKzX,OAChC,OCWDuP,mBAzBf,WAAqB,IACTxO,EAAcsO,IAAdtO,UACR,OACI0O,EAAA/J,EAAAgK,cAACmI,GAAA,EAAD,CACIC,cAAe,CAAEC,MAAO,GAAIC,SAAU,GAAIhY,MAAO,MACjDiY,SAAU,SAAC5P,EAAD/J,GAAA,IAAW4Z,EAAX5Z,EAAW4Z,UAAX,OAA2BnX,EAAUwB,MAAM8F,GAChDoG,MAAM,SAAAzO,GAAK,OAAIkY,EAAU,CAAElY,MAAO,kCAEtC,SAAAN,GAAA,IAAGyY,EAAHzY,EAAGyY,aAAcC,EAAjB1Y,EAAiB0Y,aAAc7X,EAA/Bb,EAA+Ba,OAA/B,OACGkP,EAAA/J,EAAAgK,cAACmI,GAAA,EAAD,CAAMQ,UAAU,UAAUJ,SAAUE,GAChC1I,EAAA/J,EAAAgK,cAAC2C,EAAA,EAAD,CAAQrC,GAAG,KAAKxC,QAAQ,wBAAwBuE,MAAM,OAAOqC,UAAU,WACvE3E,EAAA/J,EAAAgK,cAAC4I,GAAD,CAAa7H,KAAK,QAAQ8H,YAAY,UACtC9I,EAAA/J,EAAAgK,cAAC4I,GAAD,CAAa7H,KAAK,WAAW8H,YAAY,WAAWC,KAAK,aACzD/I,EAAA/J,EAAAgK,cAACmI,GAAA,EAAD,CAAcpH,KAAK,QAAQgI,OAAQ,kBAC/BhJ,EAAA/J,EAAAgK,cAACwE,EAAA,EAAD,CAAO3D,MAAO,CAAE8D,aAAc,QAAUpC,OAAK,EAACF,MAAM,MAAMvE,QAASjN,EAAOP,WAE9EyP,EAAA/J,EAAAgK,cAACgB,EAAA,EAAD,CAAQrF,QAAS+M,EAAczH,UAAQ,EAACnD,QAAQ,QAAQgL,KAAK,SAAS1G,OAAK,4BCHhF4G,OAbf,SAAApa,GAA6C,IAAjBiC,EAAiBjC,EAAjBiC,OACxB,OACIkP,EAAA/J,EAAAgK,cAACiJ,GAAA,EAAD,CAAS3Y,OAAK,GACVyP,EAAA/J,EAAAgK,cAACiJ,GAAA,EAAQ7F,KAAT,KACKvS,EAAOyS,IAAI,SAAC4F,EAAUC,GAAX,OACRpJ,EAAA/J,EAAAgK,cAACiJ,GAAA,EAAQ5I,KAAT,CAAcnP,IAAKiY,GAAID,QCoC5BrJ,mBAvCf,WAAwB,IACZxO,EAAcsO,IAAdtO,UACR,OACI0O,EAAA/J,EAAAgK,cAACmI,GAAA,EAAD,CACIC,cAAe,CAAEra,YAAa,GAAIC,SAAU,GAAIqa,MAAO,GAAIC,SAAU,GAAIhY,MAAO,MAChFiY,SAAU,SAAC5P,EAAD/J,GAAA,IAAW4Z,EAAX5Z,EAAW4Z,UAAX,OAA2BnX,EAAUyB,SAAS6F,GACnDoG,MAAM,SAAAzO,GACHkY,EAAU,CAAElY,aAGpB8Y,iBAAkBC,KAAW,CACzBtb,YAAasb,OAAaC,WAC1Btb,SAAUqb,OAAaC,WACvBjB,MAAOgB,OAAaC,WAAWjB,QAC/BC,SAAUe,OAAaC,cAG1B,SAAAtZ,GAAA,IAAGyY,EAAHzY,EAAGyY,aAAcC,EAAjB1Y,EAAiB0Y,aAAca,EAA/BvZ,EAA+BuZ,QAASC,EAAxCxZ,EAAwCwZ,MAAO3Y,EAA/Cb,EAA+Ca,OAA/C,OACGkP,EAAA/J,EAAAgK,cAACmI,GAAA,EAAD,CAAMQ,UAAU,gBAAgBJ,SAAUE,GACtC1I,EAAA/J,EAAAgK,cAAC2C,EAAA,EAAD,CAAQrC,GAAG,KAAKxC,QAAQ,2BAA2BuE,MAAM,OAAOqC,UAAU,WAC1E3E,EAAA/J,EAAAgK,cAAC4I,GAAD,CAAa7H,KAAK,cAAc8H,YAAY,iBAC5C9I,EAAA/J,EAAAgK,cAAC4I,GAAD,CAAa7H,KAAK,WAAW8H,YAAY,aACzC9I,EAAA/J,EAAAgK,cAAC4I,GAAD,CAAa7H,KAAK,QAAQ8H,YAAY,UACtC9I,EAAA/J,EAAAgK,cAAC4I,GAAD,CAAa7H,KAAK,WAAW8H,YAAY,WAAWC,KAAK,aACzD/I,EAAA/J,EAAAgK,cAACmI,GAAA,EAAD,CAAcpH,KAAK,QACfgI,OAAQ,kBACJhJ,EAAA/J,EAAAgK,cAACyJ,GAAD,CAAkB5Y,OAAQA,EAAOP,WAGzCyP,EAAA/J,EAAAgK,cAACgB,EAAA,EAAD,CAAQyB,UAAW8G,IAAYC,GAASd,EAAc/M,QAAS+M,EAAczH,UAAQ,EAACnD,QAAQ,WAAWgL,KAAK,SAAS1G,OAAK,SC2DjIsH,OA1Ff,WAAoB,IAAAC,EAC6BhK,IAAvCtO,EADUsY,EACVtY,UAAW0I,EADD4P,EACC5P,WAAYvK,EADbma,EACana,YAkC/B,OAhCAkX,oBAAU,WAEHlX,EAAYN,QAEf0a,OAAOC,SAAShd,GAAGid,WAAW,CAC5BC,UAAW,2EACXC,SAAU3Y,EAAU4B,cAItB2W,OAAOC,SAAShd,GAAGod,aACjBC,SAASC,eAAe,aACxB,CAAEC,MAAO,UAAW1G,KAAM,UAI5BkG,OAAOC,SAAShd,GAAGwd,OAAO,SAACC,GACrBA,EAAaC,iBACfha,QAAQC,IAAI,4BACH8Z,EAAaE,kBACtBja,QAAQC,IAAI,sBACH8Z,EAAaG,qBACtBla,QAAQC,IAAI,4BAOjB,CAAChB,EAAYN,MAAOmC,IAIrB0O,EAAA/J,EAAAgK,cAACsE,EAAA,EAAD,CAASpE,UAAQ,EAACwE,UAAU,SAASiB,UAAQ,EAACgD,UAAU,YACtD5I,EAAA/J,EAAAgK,cAACI,EAAA,EAAD,CAAWqB,MAAI,GACb1B,EAAA/J,EAAAgK,cAAA,MAAI2I,UAAU,gCACZ5I,EAAA/J,EAAAgK,cAAA,OAAKW,IAAI,mBAAmBC,IAAI,OAAO+H,UAAU,qBACjD5I,EAAA/J,EAAAgK,cAAA,OAAK2I,UAAU,WAAf,iBAGDtX,EAAUqZ,WACT3K,EAAA/J,EAAAgK,cAAAD,EAAA/J,EAAA8L,SAAA,KACE/B,EAAA/J,EAAAgK,cAAA,MAAI2I,UAAU,gCAAd,2BAAAhZ,OAC8B0B,EAAUvD,KAAMC,cAE9CgS,EAAA/J,EAAAgK,cAACgB,EAAA,EAAD,CAAQV,GAAIoB,IAAMlB,GAAG,cAAckD,KAAK,OAAOxD,UAAQ,GAAvD,qBAKFH,EAAA/J,EAAAgK,cAAAD,EAAA/J,EAAA8L,SAAA,KACE/B,EAAA/J,EAAAgK,cAAA,0CACAD,EAAA/J,EAAAgK,cAAA,2BACAD,EAAA/J,EAAAgK,cAACgB,EAAA,EAAD,CAAQY,QAAS,kBAAM7H,EAAW8D,UAAUkC,EAAA/J,EAAAgK,cAAC2K,GAAD,QAAgBjH,KAAK,OAAOrB,MAAM,QAA9E,UACAtC,EAAA/J,EAAAgK,cAACgB,EAAA,EAAD,CAAQY,QAAS,kBAAM7H,EAAW8D,UAAUkC,EAAA/J,EAAAgK,cAAC4K,GAAD,QAAmBlH,KAAK,OAAOrB,MAAM,QAAjF,aACAtC,EAAA/J,EAAAgK,cAAC6K,GAAA,EAAD,CAASxH,YAAU,EAACnD,UAAQ,GAA5B,MACAH,EAAA/J,EAAAgK,cAACgB,EAAA,EAAD,CACErF,QAAStK,EAAUkI,UACnBuE,QAAQ,sBACR6D,KAAK,WACLU,MAAM,WACNqB,KAAK,OACLxD,UAAQ,EACR0B,QAASvQ,EAAUqJ,gBAErBqF,EAAA/J,EAAAgK,cAAC6K,GAAA,EAAD,CAASxH,YAAU,EAACnD,UAAQ,GAA5B,MACAH,EAAA/J,EAAAgK,cAACgB,EAAA,EAAD,CACEnU,GAAG,YACH8O,QAAStK,EAAUoI,cAEnBkI,KAAK,SAGLzB,UAAQ,kBCjEP4K,OARf,SAAAlc,GAA6E,IAAAmc,EAAAnc,EAAlDsR,gBAAkD,IAAA6K,KAAAC,EAAApc,EAAjCkP,eAAiC,IAAAkN,EAAvB,aAAuBA,EAC3E,OACEjL,EAAA/J,EAAAgK,cAACiL,GAAA,EAAD,CAAQpF,QAAQ,EAAM3F,SAAUA,GAC5BH,EAAA/J,EAAAgK,cAACsH,EAAA,EAAD,CAAQxJ,QAASA,gBCaVoN,GAfS,SAAAtc,GAAgC,IAA7B4Y,EAA6B5Y,EAA7B4Y,MAAUC,EAAmBjb,OAAAkb,GAAA,EAAAlb,CAAAoC,EAAA,WAAA+Y,EACrBC,aAASH,GADYI,EAAArb,OAAA2X,EAAA,EAAA3X,CAAAmb,EAAA,GAC7CG,EAD6CD,EAAA,GACtCE,EADsCF,EAAA,GAAAA,EAAA,GAEpD,OACI9H,EAAA/J,EAAAgK,cAACgI,GAAA,EAAKC,MAAN,CAAY3X,MAAOyX,EAAKG,WAAaH,EAAKzX,OACtCyP,EAAA/J,EAAAgK,cAAA,aACKwH,EACDzH,EAAA/J,EAAAgK,cAAA,WAAAxT,OAAAG,OAAA,GAAcmb,EAAWL,KAE5BM,EAAKG,SAAWH,EAAKzX,MAClByP,EAAA/J,EAAAgK,cAACwE,EAAA,EAAD,CAAOjC,OAAK,EAACF,MAAM,OAAQ0F,EAAKzX,OAChC,iBCYDiX,GAtBK,SAAA3Y,GAAgC,IAA7B4Y,EAA6B5Y,EAA7B4Y,MAAUC,EAAmBjb,OAAAkb,GAAA,EAAAlb,CAAAoC,EAAA,WAAA+Y,EACjBC,aAASH,GADQI,EAAArb,OAAA2X,EAAA,EAAA3X,CAAAmb,EAAA,GACzCG,EADyCD,EAAA,GAClCE,EADkCF,EAAA,GAC5BsD,EAD4BtD,EAAA,GAEhD,OACI9H,EAAA/J,EAAAgK,cAACgI,GAAA,EAAKC,MAAN,CAAY3X,MAAOyX,EAAKG,WAAaH,EAAKzX,OACtCyP,EAAA/J,EAAAgK,cAAA,aACKwH,GAELzH,EAAA/J,EAAAgK,cAACoL,GAAA,EAAD,CACIC,WAAS,EACTC,QAAS7D,EAAM6D,QACfxW,MAAOgT,EAAMhT,MACbkR,SAAU,SAACxD,EAAGlV,GAAJ,OAAa6d,EAAQI,SAASje,EAAKwH,QAC7C0W,OAAQ,kBAAML,EAAQM,YAAW,IACjC5C,YAAapB,EAAMoB,cAEtBd,EAAKG,SAAWH,EAAKzX,MAClByP,EAAA/J,EAAAgK,cAACwE,EAAA,EAAD,CAAOjC,OAAK,EAACF,MAAM,OAAQ0F,EAAKzX,OAChC,OC5BHob,GAAkB,CAC3B,CAAExa,IAAK,SAAUuQ,KAAM,SAAU3M,MAAO,UACxC,CAAE5D,IAAK,UAAWuQ,KAAM,UAAW3M,MAAO,WAC1C,CAAE5D,IAAK,OAAQuQ,KAAM,OAAQ3M,MAAO,QACpC,CAAE5D,IAAK,OAAQuQ,KAAM,OAAQ3M,MAAO,QACpC,CAAE5D,IAAK,QAASuQ,KAAM,QAAS3M,MAAO,SACtC,CAAE5D,IAAK,SAAUuQ,KAAM,SAAU3M,MAAO,0CCsB7B6W,GAvBK,SAAA/c,GAAiD,IAA3C6Y,EAA2Cjb,OAAAof,GAAA,EAAApf,CAAA,GAAAoC,GAAA+Y,EAClCC,aAASH,EAAM1G,MADmB8G,EAAArb,OAAA2X,EAAA,EAAA3X,CAAAmb,EAAA,GAC1DG,EAD0DD,EAAA,GACnDE,EADmDF,EAAA,GAC7CsD,EAD6CtD,EAAA,GAEjE,OACI9H,EAAA/J,EAAAgK,cAACgI,GAAA,EAAKC,MAAN,CAAY3X,MAAOyX,EAAKG,WAAaH,EAAKzX,OACtCyP,EAAA/J,EAAAgK,cAAC6L,GAAA7V,EAADxJ,OAAAG,OAAA,GACQmb,EACAL,EAFR,CAGIqE,SAAWhE,EAAMhT,OAAS,IAAIwB,KAAKwR,EAAMhT,QAAW,KACpDkR,SAAU,SAAC9Y,GAAD,OAAUie,EAAQI,SAASre,IACrC6e,gBAAc,EACdC,WAAW,QACXC,cAAe,GACfC,YAAY,OACZC,WAAW,uBACXC,gBAAgB,iBAEnBrE,EAAKG,SAAWH,EAAKzX,MAClByP,EAAA/J,EAAAgK,cAACwE,EAAA,EAAD,CAAOjC,OAAK,EAACF,MAAM,OAAQ0F,EAAKzX,OAChC,OCLDuP,eAAS,WAAwB,IACpCxD,EAAkBsD,IAAlBtD,cACW7H,GAAiE6H,EAA5E5H,UAA4E4H,EAAjE7H,gBAAgBgC,EAAiD6F,EAAjD7F,eAAgBK,EAAiCwF,EAAjCxF,eAAgBlB,EAAiB0G,EAAjB1G,aAC3D9I,EAAOwf,eAAPxf,GACFkE,EAAUub,eAJ4BhG,EAMZrC,mBAA6B,IAAIrX,GANrB2Z,EAAA/Z,OAAA2X,EAAA,EAAA3X,CAAA8Z,EAAA,GAMrC9T,EANqC+T,EAAA,GAM3B/Q,EAN2B+Q,EAAA,GAQ5CG,oBAAU,WACF7Z,GAAI8I,EAAa9I,GAChBgF,KAAK,SAAAW,GAAQ,OAAIgD,EAAY,IAAI5I,EAAmB4F,OAC1D,CAACmD,EAAc9I,IAElB,IAAMuc,EAAmBC,KAAW,CAChCtc,MAAOsc,OAAaC,SAAS,kCAC7Brc,YAAaoc,OAAaC,SAAS,wCACnCtc,SAAUqc,OAAaC,WACvBpc,KAAMmc,OAAaC,SAAS,oBAAoBiD,WAChDnf,MAAOic,OAAaC,WACpBnc,KAAMkc,OAAaC,aAkBvB,OAAI9U,EAAuBuL,EAAA/J,EAAAgK,cAACwM,GAAD,CAAkB1O,QAAQ,wBAGjDiC,EAAA/J,EAAAgK,cAACsE,EAAA,EAAD,CAASW,UAAQ,GACblF,EAAA/J,EAAAgK,cAACmI,GAAA,EAAD,CACIiB,iBAAkBA,EAClBqD,oBAAkB,EAClBrE,cAAe5V,EACf+V,SAAU,SAAA5P,GAAM,OAtBF,SAACnG,GACvB,GAAKA,EAAS3F,GASVgK,EAAerE,GAAUX,KAAK,kBAAMd,EAAQC,KAAR,eAAArB,OAA4B6C,EAAS3F,WAT3D,CAEd,IAAI8J,EAAWnK,OAAA0K,EAAA,EAAA1K,CAAA,GACRgG,EADQ,CAEX3F,GAAI6f,iBAGRlW,EAAeG,GAAa9E,KAAK,kBAAMd,EAAQC,KAAR,eAAArB,OAA4BgH,EAAY9J,QAcvD8f,CAAkBhU,KACrC,SAAA/J,GAAA,IAAG6Z,EAAH7Z,EAAG6Z,aAAcC,EAAjB9Z,EAAiB8Z,aAAjB,OACG3I,EAAA/J,EAAAgK,cAACmI,GAAA,EAAD,CAAMQ,UAAU,UAAUJ,SAAUE,EAAcmE,aAAa,OAC3D7M,EAAA/J,EAAAgK,cAAC4I,GAAD,CAAa7H,KAAK,QAAQ8H,YAAY,UACtC9I,EAAA/J,EAAAgK,cAAC6M,GAAD,CAAiBC,KAAM,EAAG/L,KAAK,cAAc8H,YAAY,gBACzD9I,EAAA/J,EAAAgK,cAAC+M,GAAD,CAAezB,QAASI,GAAiB3K,KAAK,WAAW8H,YAAY,aACrE9I,EAAA/J,EAAAgK,cAACgN,GAAD,CAAajM,KAAK,SAClBhB,EAAA/J,EAAAgK,cAAC4I,GAAD,CAAa7H,KAAK,OAAO8H,YAAY,SACrC9I,EAAA/J,EAAAgK,cAAC4I,GAAD,CAAa7H,KAAK,QAAQ8H,YAAY,UACtC9I,EAAA/J,EAAAgK,cAACgB,EAAA,EAAD,CAAQrF,QAAS+M,EAAcxD,QAAQ,QAAQjE,UAAQ,EAAC6H,KAAK,SAAShL,QAAQ,WAC9EiC,EAAA/J,EAAAgK,cAACgB,EAAA,EAAD,CAAQV,GAAIoB,IAAMlB,GAAG,cAAc0E,QAAQ,QAAQ4D,KAAK,SAAShL,QAAQ,qCC1DlF+B,eAAS,SAAAjR,GAAqD,IAArByP,EAAqBzP,EAArByP,WAC5CL,EAAiB2B,IAAjB3B,aAYR,OAVA0I,oBAAU,WAIN,OAHIrI,GACAL,EAAaI,oBAAoBC,GAE9B,WACHL,EAAaqB,kBAElB,CAACrB,EAAcK,IAId0B,EAAA/J,EAAAgK,cAAAD,EAAA/J,EAAA8L,SAAA,KACI/B,EAAA/J,EAAAgK,cAACsE,EAAA,EAAD,CACII,UAAU,SACVD,SAAS,MACTvE,UAAQ,EACRmC,MAAM,OACNxB,MAAO,CAAEoM,OAAQ,SAEjBlN,EAAA/J,EAAAgK,cAAC2C,EAAA,EAAD,+BAEJ5C,EAAA/J,EAAAgK,cAACsE,EAAA,EAAD,CAASG,UAAQ,EAACQ,UAAQ,GACtBlF,EAAA/J,EAAAgK,cAACmI,GAAA,EAAD,CACIC,cAAe,CAAEtW,KAAM,GAAIuM,cAC3BkK,SAAU,SAAC5P,EAAD3I,GAAA,IAAWkd,EAAXld,EAAWkd,UAAX,OAA2BlP,EAAasB,WAAW3G,GAAQ9G,KAAK,kBAAMqb,OAChF9D,iBAAkBC,KAAW,CACzBvX,KAAMuX,OAAaC,cAGtB,SAAA7Y,GAAA,IAAGgY,EAAHhY,EAAGgY,aAAcC,EAAjBjY,EAAiBiY,aAAca,EAA/B9Y,EAA+B8Y,QAASC,EAAxC/Y,EAAwC+Y,MAAxC,OACGzJ,EAAA/J,EAAAgK,cAACmI,GAAA,EAAD,CAAMQ,UAAU,WACZ5I,EAAA/J,EAAAgK,cAACmI,GAAA,EAAD,CAAOpH,KAAK,QACP,SAAC0G,GAAD,OACG1H,EAAA/J,EAAAgK,cAAA,OAAKa,MAAO,CAAEM,SAAU,aACpBpB,EAAA/J,EAAAgK,cAACsH,EAAA,EAAD,CAAQzB,OAAQ6C,IAChB3I,EAAA/J,EAAAgK,cAAA,WAAAxT,OAAAG,OAAA,CACImgB,KAAM,GACFrF,EAAMK,MAFd,CAGIqF,WAAY,SAAA3K,GACM,UAAVA,EAAEtR,KAAmBsR,EAAE4K,UAGb,UAAV5K,EAAEtR,KAAoBsR,EAAE4K,WACxB5K,EAAE6K,iBACF9D,GAAWC,GAASf,MAG5BI,YAAY,2EAUxC9I,EAAA/J,EAAAgK,cAACsN,GAAA,EAAQ/I,MAAT,KACKvG,EAAaE,SAASoF,IAAI,SAACrE,GAAD,OACvBc,EAAA/J,EAAAgK,cAACsN,GAAA,EAAD,CAASpc,IAAK+N,EAAQpS,IAClBkT,EAAA/J,EAAAgK,cAACsN,GAAA,EAAQC,OAAT,CAAgB5M,IAAK1B,EAAQ/Q,OAAS,qBACtC6R,EAAA/J,EAAAgK,cAACsN,GAAA,EAAQrL,QAAT,KACIlC,EAAA/J,EAAAgK,cAACsN,GAAA,EAAQE,OAAT,CAAgBlN,GAAIoB,IAAMlB,GAAE,aAAA7Q,OAAesP,EAAQjR,WAAaiR,EAAQlR,aACxEgS,EAAA/J,EAAAgK,cAACsN,GAAA,EAAQG,SAAT,KACI1N,EAAA/J,EAAAgK,cAAA,WAAM0N,aAAoBzO,EAAQC,WAAlC,UAEJa,EAAA/J,EAAAgK,cAACsN,GAAA,EAAQK,KAAT,CAAc9M,MAAO,CAAE+M,WAAY,aAAe3O,EAAQnN,eC5EpF+b,GAAqB,CACvBjW,OAAQ,mBAGNkW,GAAyB,CAC3B3M,SAAU,WACV4M,OAAQ,KACRC,KAAM,KACN7L,MAAO,OACP8L,OAAQ,OACR5L,MAAO,SAOIxC,eAAS,SAAAjR,GAAqD,IAAnB4D,EAAmB5D,EAAnB4D,SAAmBkT,EACb/F,IAApDtD,cAAiB5H,EADgDiR,EAChDjR,UAAWgD,EADqCiO,EACrCjO,iBACpC,OACIsI,EAAA/J,EAAAgK,cAACsE,EAAA,EAAQC,MAAT,KACIxE,EAAA/J,EAAAgK,cAACsE,EAAA,EAAD,CAAS/B,OAAK,EAACkC,SAAS,MAAM5D,MAAO,CAAEqN,QAAS,MAC3C1b,EAASqF,aACNkI,EAAA/J,EAAAgK,cAACwE,EAAA,EAAD,CAAO3D,MAAO,CAAEM,SAAU,WAAY6M,KAAM,MAAOG,IAAK,KAAMC,OAAQ,OAASC,QAAM,EAAChM,MAAM,MAAMvE,QAAQ,cAG9GiC,EAAA/J,EAAAgK,cAACoB,EAAA,EAAD,CAAOT,IAAG,0BAAAhR,OAA4B6C,EAASxF,SAArC,QAAqDoV,OAAK,EAACvB,MAAOgN,KAC5E9N,EAAA/J,EAAAgK,cAACsE,EAAA,EAAD,CAASzD,MAAOiN,GAAwBvL,OAAK,GACzCxC,EAAA/J,EAAAgK,cAACK,GAAA,EAAKkE,MAAN,KACIxE,EAAA/J,EAAAgK,cAACK,GAAA,EAAD,KACIN,EAAA/J,EAAAgK,cAACK,GAAA,EAAK4B,QAAN,KACIlC,EAAA/J,EAAAgK,cAAC2C,EAAA,EAAD,CACIe,KAAK,OACL5F,QAAStL,EAASzF,MAClB8T,MAAO,CAAEwB,MAAO,WAEpBtC,EAAA/J,EAAAgK,cAAA,SAAIxN,EAAStF,MAAQ4X,mBAAOtS,EAAStF,KAAM,gBAC3C6S,EAAA/J,EAAAgK,cAAA,sBACcD,EAAA/J,EAAAgK,cAAA,cACND,EAAA/J,EAAAgK,cAAC6E,EAAA,EAAD,CAAMrE,GAAE,aAAA7Q,OAAe6C,EAAS2D,MAAQ3D,EAAS2D,KAAKnI,WACjDwE,EAAS2D,MAAQ3D,EAAS2D,KAAKpI,oBAShEgS,EAAA/J,EAAAgK,cAACsE,EAAA,EAAD,CAASW,UAAQ,EAACR,SAAS,UAEtBjS,EAASyD,OACN8J,EAAA/J,EAAAgK,cAACgB,EAAA,EAAD,CAAQrF,QAASlH,EAAWmN,QAASnK,EAAkBkR,UAAS,GAAAhZ,OAAK6C,EAASqF,YAAc,QAAU,cAClGrF,EAASqF,YAAc,sBAAwB,mBAGnDkI,EAAA/J,EAAAgK,cAACgB,EAAA,EAAD,CAAQrF,QAASlH,EAAWmN,QAASnK,EAAkB4K,MAAM,QACzD7P,EAASqD,QAAU,oBAAsB,iBAK7CrD,EAASyD,QAAU8J,EAAA/J,EAAAgK,cAACgB,EAAA,EAAD,CAAQV,GAAIoB,IAAMlB,GAAE,wBAAA7Q,OAA0B6C,EAAS3F,IAAMwV,MAAM,SAAS6C,QAAQ,QAAQzC,SAAUjQ,EAASqF,aAA/G,oBC5DxBgI,eAAS,SAAAjR,GAAmD,IAAnB4D,EAAmB5D,EAAnB4D,SACpD,OACIuN,EAAA/J,EAAAgK,cAACsE,EAAA,EAAQC,MAAT,KACIxE,EAAA/J,EAAAgK,cAACsE,EAAA,EAAD,CAASG,SAAS,OACd1E,EAAA/J,EAAAgK,cAAC2G,EAAA,EAAD,KACI5G,EAAA/J,EAAAgK,cAAC2G,EAAA,EAAKC,OAAN,CAAazE,MAAO,GAChBpC,EAAA/J,EAAAgK,cAAC+C,GAAA,EAAD,CAAMW,KAAK,QAAQrB,MAAM,OAAOtB,KAAK,UAEzChB,EAAA/J,EAAAgK,cAAC2G,EAAA,EAAKC,OAAN,CAAazE,MAAO,IAChBpC,EAAA/J,EAAAgK,cAAA,SAAIxN,EAASvF,gBAIzB8S,EAAA/J,EAAAgK,cAACsE,EAAA,EAAD,CAASG,UAAQ,GACb1E,EAAA/J,EAAAgK,cAAC2G,EAAA,EAAD,CAAM2H,cAAc,UAChBvO,EAAA/J,EAAAgK,cAAC2G,EAAA,EAAKC,OAAN,CAAazE,MAAO,GAChBpC,EAAA/J,EAAAgK,cAAC+C,GAAA,EAAD,CAAMhC,KAAK,WAAW2C,KAAK,QAAQrB,MAAM,UAE7CtC,EAAA/J,EAAAgK,cAAC2G,EAAA,EAAKC,OAAN,CAAazE,MAAO,IAChBpC,EAAA/J,EAAAgK,cAAA,YACK8E,mBAAO,IAAIxO,KAAK9D,EAAStF,MAAQ,2BAKlD6S,EAAA/J,EAAAgK,cAACsE,EAAA,EAAD,CAASG,UAAQ,GACb1E,EAAA/J,EAAAgK,cAAC2G,EAAA,EAAD,CAAM2H,cAAc,UAChBvO,EAAA/J,EAAAgK,cAAC2G,EAAA,EAAKC,OAAN,CAAazE,MAAO,GAChBpC,EAAA/J,EAAAgK,cAAC+C,GAAA,EAAD,CAAMhC,KAAK,SAAS2C,KAAK,QAAQrB,MAAM,UAE3CtC,EAAA/J,EAAAgK,cAAC2G,EAAA,EAAKC,OAAN,CAAazE,MAAO,IAChBpC,EAAA/J,EAAAgK,cAAA,YAAOxN,EAASpF,MAAhB,KAAyBoF,EAASrF,YC/B3C0S,eAAS,SAAAjR,GAAsD,IAAnB4D,EAAmB5D,EAAnB4D,SAC/CsD,EAA4BtD,EAA5BsD,UAAWI,EAAiB1D,EAAjB0D,aAEnB,OAAKJ,EAEDiK,EAAA/J,EAAAgK,cAAAD,EAAA/J,EAAA8L,SAAA,KACI/B,EAAA/J,EAAAgK,cAACsE,EAAA,EAAD,CACII,UAAU,SACV7D,MAAO,CAAEoM,OAAQ,QACjBxI,SAAS,MACTM,WAAS,EACT7E,UAAQ,EACRmC,MAAM,QAELvM,EAAUnI,OARf,IAQwBmI,EAAUnI,OAAS,EAAI,YAAc,aAR7D,UAUAoS,EAAA/J,EAAAgK,cAACsE,EAAA,EAAD,CAASG,UAAQ,GACb1E,EAAA/J,EAAAgK,cAACoD,GAAA,EAAD,CAAMmL,SAAO,EAACC,SAAO,GAChB1Y,EAAUwN,IAAI,SAAA5M,GAAQ,OACnBqJ,EAAA/J,EAAAgK,cAACK,GAAA,EAAD,CAAMQ,MAAO,CAAEM,SAAU,YAAcjQ,IAAKwF,EAAS1I,UAChD0I,EAAS1I,WAAakI,GACnB6J,EAAA/J,EAAAgK,cAACwE,EAAA,EAAD,CACI3D,MAAO,CAAEM,SAAU,YACnBkB,MAAM,SACNgM,OAAO,SAHX,QAQJtO,EAAA/J,EAAAgK,cAACoB,EAAA,EAAD,CAAOsC,KAAK,OAAO/C,IAAKjK,EAASxI,OAAS,qBAC1C6R,EAAA/J,EAAAgK,cAACK,GAAA,EAAK4B,QAAN,CAAcqM,cAAc,UACxBvO,EAAA/J,EAAAgK,cAACK,GAAA,EAAKsC,OAAN,CAAarC,GAAG,MACZP,EAAA/J,EAAAgK,cAAC6E,EAAA,EAAD,CAAMrE,GAAE,WAAA7Q,OAAa+G,EAAS1I,WAAa0I,EAAS3I,cAGpD2I,EAASsB,WACT+H,EAAA/J,EAAAgK,cAACK,GAAA,EAAKoO,MAAN,CAAY5N,MAAO,CAAEwB,MAAO,WAA5B,oBAjCT,OCDZxC,eAAS,WAA2B,IACvCxD,EAAkBsD,IAAlBtD,cACAxP,EAAOwf,eAAPxf,GACkB2F,EAAkD6J,EAApE9H,iBAA4BoB,EAAwC0G,EAAxC1G,aAAcmC,EAA0BuE,EAA1BvE,sBAWlD,OATA4O,oBAAU,WAEN,OADI7Z,GAAI8I,EAAa9I,GACd,WACHiL,MAEL,CAACjL,EAAI8I,EAAcmC,IAIjBtF,EAEDuN,EAAA/J,EAAAgK,cAAC2G,EAAA,EAAD,KACI5G,EAAA/J,EAAAgK,cAAC2G,EAAA,EAAKC,OAAN,CAAazE,MAAO,IAChBpC,EAAA/J,EAAAgK,cAAC0O,GAAD,CAAwBlc,SAAUA,IAClCuN,EAAA/J,EAAAgK,cAAC2O,GAAD,CAAsBnc,SAAUA,IAChCuN,EAAA/J,EAAAgK,cAAC4O,GAAD,CAAsBvQ,WAAY7L,EAAS3F,MAE/CkT,EAAA/J,EAAAgK,cAAC2G,EAAA,EAAKC,OAAN,CAAazE,MAAO,GAChBpC,EAAA/J,EAAAgK,cAAC6O,GAAD,CAAyBrc,SAAUA,MATzBuN,EAAA/J,EAAAgK,cAACwM,GAAD,CAAkB1O,QAAQ,0BCpBrC,SAASgR,KACpB,IAAMC,EAAUzgB,OADiBgY,EAELrC,mBAAa,IAFRsC,EAAA/Z,OAAA2X,EAAA,EAAA3X,CAAA8Z,EAAA,GAE1BzV,EAF0B0V,EAAA,GAElBiC,EAFkBjC,EAAA,GA6BjC,OACIxG,EAAA/J,EAAAgK,cAAAD,EAAA/J,EAAA8L,SAAA,KACI/B,EAAA/J,EAAAgK,cAAC2C,EAAA,EAAD,CAAQrC,GAAG,KAAKxC,QAAQ,yBACxBiC,EAAA/J,EAAAgK,cAACsE,EAAA,EAAD,KACIvE,EAAA/J,EAAAgK,cAACgB,EAAA,EAAOuD,MAAR,CAAcyK,OAAO,KACjBjP,EAAA/J,EAAAgK,cAACgB,EAAA,EAAD,CAAQY,QA7BxB,WACIzT,IAAMyD,IAAImd,EAAU,mBAAmBhQ,MAAM,SAAAmK,GAAG,OAAI3Y,QAAQC,IAAI0Y,EAAI1a,aA4BvBsP,QAAQ,YAAYyE,OAAK,EAAC0M,SAAO,IAClElP,EAAA/J,EAAAgK,cAACgB,EAAA,EAAD,CAAQY,QA1BxB,WACIzT,IAAMyD,IAAImd,EAAU,qBAAqBhQ,MAAM,SAAAmK,GAAG,OAAI3Y,QAAQC,IAAI0Y,EAAI1a,aAyBvBsP,QAAQ,cAAcyE,OAAK,EAAC0M,SAAO,IACtElP,EAAA/J,EAAAgK,cAACgB,EAAA,EAAD,CAAQY,QAXxB,WACIzT,IAAM4D,KAAKgd,EAAU,aAAc,IAAIhQ,MAAM,SAAAmK,GAAG,OAAIV,EAAUU,MAUVpL,QAAQ,mBAAmByE,OAAK,EAAC0M,SAAO,IAChFlP,EAAA/J,EAAAgK,cAACgB,EAAA,EAAD,CAAQY,QAxBxB,WACIzT,IAAMyD,IAAImd,EAAU,sBAAsBhQ,MAAM,SAAAmK,GAAG,OAAI3Y,QAAQC,IAAI0Y,EAAI1a,aAuBvBsP,QAAQ,eAAeyE,OAAK,EAAC0M,SAAO,IACxElP,EAAA/J,EAAAgK,cAACgB,EAAA,EAAD,CAAQY,QArBxB,WACIzT,IAAMyD,IAAImd,EAAU,sBAAsBhQ,MAAM,SAAAmK,GAAG,OAAI3Y,QAAQC,IAAI0Y,EAAI1a,aAoBtBsP,QAAQ,eAAeyE,OAAK,EAAC0M,SAAO,IACzElP,EAAA/J,EAAAgK,cAACgB,EAAA,EAAD,CAAQY,QAlBxB,WACIzT,IAAMyD,IAAImd,EAAU,uBAAuBhQ,MAAM,SAAAmK,GAAG,OAAI3Y,QAAQC,IAAI0Y,EAAI1a,aAiB5BsP,QAAQ,WAAWyE,OAAK,EAAC0M,SAAO,MAGvEpe,EAAOlD,OAAS,GAAKoS,EAAA/J,EAAAgK,cAACyJ,GAAD,CAAkB5Y,OAAQA,KC5B7Cqe,OAhBf,WACI,OACInP,EAAA/J,EAAAgK,cAACsE,EAAA,EAAD,CAASuE,aAAW,GAChB9I,EAAA/J,EAAAgK,cAAC2C,EAAA,EAAD,CAAQhB,MAAI,GACR5B,EAAA/J,EAAAgK,cAAC+C,GAAA,EAAD,CAAMhC,KAAK,WADf,oDAIAhB,EAAA/J,EAAAgK,cAACsE,EAAA,EAAQ6K,OAAT,KACIpP,EAAA/J,EAAAgK,cAACgB,EAAA,EAAD,CAAQV,GAAIoB,IAAMlB,GAAG,cAAcyO,SAAO,GAA1C,gCCNDpP,eAAS,WAAuB,IACnCrQ,EAAgBmQ,IAAhBnQ,YAER,OACIuQ,EAAA/J,EAAAgK,cAACI,EAAA,EAAD,KACIL,EAAA/J,EAAAgK,cAAC2C,EAAA,EAAD,CAAQrC,GAAG,KAAKxC,QAAQ,iBACxBiC,EAAA/J,EAAAgK,cAAC2C,EAAA,EAAD,CAAQ6C,KAAG,EAAClF,GAAG,KAAK+B,MAAM,MAAMvE,QAAStO,EAAYc,OAASd,EAAYc,MAAM8e,UAC/E5f,EAAYc,OAASd,EAAYc,MAAMgC,SAEpCyN,EAAA/J,EAAAgK,cAACsE,EAAA,EAAD,KACIvE,EAAA/J,EAAAgK,cAAC2C,EAAA,EAAD,CAAQrC,GAAG,KAAKxC,QAAQ,cAAcuE,MAAM,SAC5CtC,EAAA/J,EAAAgK,cAAA,QAAMa,MAAO,CAAE+E,UAAW,KAAOpW,EAAYc,MAAMgC,uBCDxDuN,mBAXf,WAA0B,IACd9F,EAAe4F,IAAf5F,WACR,OACIgG,EAAA/J,EAAAgK,cAACqP,GAAA,EAAD,CAAOzR,KAAM7D,EAAW4D,MAAMC,KAAM0R,QAASvV,EAAWC,WAAY0J,KAAK,QACrE3D,EAAA/J,EAAAgK,cAACqP,GAAA,EAAMpN,QAAP,KACKlI,EAAW4D,MAAM7L,mBC+CnB+N,mBA1Cf,SAAAjR,GAA4D,IAAjCkF,EAAiClF,EAAjCkF,QAASD,EAAwBjF,EAAxBiF,cAAwByS,EACNrC,mBAAS,CAAElW,YAAa,GAAIE,IAAK,KAD3BsY,EAAA/Z,OAAA2X,EAAA,EAAA3X,CAAA8Z,EAAA,GACjDiJ,EADiDhJ,EAAA,GAC9BiJ,EAD8BjJ,EAAA,GAIlD6C,EAAmBC,KAAW,CAChCtb,YAAasb,OAAaC,aAW9B,OARA5C,oBAAU,WACN8I,EACI,CACIzhB,YAAa+F,EAAQ/F,YACrBE,IAAK6F,EAAQ7F,OAEtB,IAGC8R,EAAA/J,EAAAgK,cAACmI,GAAA,EAAD,CACIC,cAAemH,EACfhH,SAAU,SAAA5P,GAAM,OAAI9E,EAAc8E,IAClCyQ,iBAAkBA,EAClBqD,oBAAkB,GAEjB,SAAAzc,GAAA,IAAGyY,EAAHzY,EAAGyY,aAAcc,EAAjBvZ,EAAiBuZ,QAASb,EAA1B1Y,EAA0B0Y,aAAcc,EAAxCxZ,EAAwCwZ,MAAxC,OACGzJ,EAAA/J,EAAAgK,cAACmI,GAAA,EAAD,CAAMQ,UAAU,UAAUJ,SAAUE,EAAcmE,aAAa,OAC3D7M,EAAA/J,EAAAgK,cAAC2C,EAAA,EAAD,CAAQ6C,KAAG,EAACnD,MAAM,OAAOvE,QAAQ,WACjCiC,EAAA/J,EAAAgK,cAAC4I,GAAD,CAAa7H,KAAK,cAAc8H,YAAY,iBAC5C9I,EAAA/J,EAAAgK,cAAC6M,GAAD,CAAiB9L,KAAK,MAAM8H,YAAY,MAAMiE,KAAM,IACpD/M,EAAA/J,EAAAgK,cAACgB,EAAA,EAAD,CACIrF,QAAS+M,EACTjG,SAAUiG,IAAiBc,IAAUD,EACrCrE,QAAQ,QACRjE,UAAQ,EACR6H,KAAK,SACLhL,QAAQ,wBCFjB+B,mBApCf,SAAAjR,GAA0C,IAAlBkF,EAAkBlF,EAAlBkF,QAAkB+N,EACqBlC,IAAnDnE,aAAgBiU,EADc5N,EACd4N,cAAe5b,EADDgO,EACChO,cADDyS,EAENrC,oBAAS,GAFHsC,EAAA/Z,OAAA2X,EAAA,EAAA3X,CAAA8Z,EAAA,GAE/BoJ,EAF+BnJ,EAAA,GAErBoJ,EAFqBpJ,EAAA,GAQtC,OACIxG,EAAA/J,EAAAgK,cAAC4P,GAAA,EAAIC,KAAL,KACI9P,EAAA/J,EAAAgK,cAAC2G,EAAA,EAAD,KACI5G,EAAA/J,EAAAgK,cAAC2G,EAAA,EAAKC,OAAN,CAAazE,MAAO,IAChBpC,EAAA/J,EAAAgK,cAAC2C,EAAA,EAAD,CAAQuC,QAAQ,OAAOvD,KAAK,OAAO7D,QAAO,SAAAnO,OAAWmE,EAAQ/F,eAC5D0hB,GACG1P,EAAA/J,EAAAgK,cAACgB,EAAA,EAAD,CACIY,QAAS,kBAAM+N,GAAaD,IAC5BxK,QAAQ,QACR3C,OAAK,EACLzE,QAAS4R,EAAW,SAAW,kBAI3C3P,EAAA/J,EAAAgK,cAAC2G,EAAA,EAAKC,OAAN,CAAazE,MAAO,IACfuN,EACG3P,EAAA/J,EAAAgK,cAAC8P,GAAD,CAAiBhc,QAASA,EAASD,cApBvD,SAA6Bkc,GACzBlc,EAAckc,GAAale,KAAK,kBAAM8d,GAAY,QAqBlC5P,EAAA/J,EAAAgK,cAAA,SACKlM,EAAQ7F,UCuCtB4R,mBApEf,WAA6B,IAAAgC,EAEkDlC,IAAWnE,aAA9E1H,EAFiB+N,EAEjB/N,QAASgI,EAFQ+F,EAER/F,kBAAmBe,EAFXgF,EAEWhF,mBAAoBhB,EAF/BgG,EAE+BhG,eAExD6K,oBAAU,WACN7J,EAAmB/I,EAAS9F,SAAU,WACvC,CAAC6O,EAAoB/I,IAGxB,IAMMkc,EAAQ,CACV,CAAEC,SAAU,gBACZ,CAAEA,SAAU,cACZ,CAAEA,SAAU,YAIhB,OACIlQ,EAAA/J,EAAAgK,cAAC4P,GAAA,EAAIC,KAAL,CAAUlU,QAASG,GACfiE,EAAA/J,EAAAgK,cAAC2G,EAAA,EAAD,KACI5G,EAAA/J,EAAAgK,cAAC2G,EAAA,EAAKC,OAAN,CAAazE,MAAO,IAChBpC,EAAA/J,EAAAgK,cAAC2C,EAAA,EAAD,CAAQuC,QAAQ,OAAOvD,KAAK,WACxB7D,QAAS,gBAEjBiC,EAAA/J,EAAAgK,cAAC2G,EAAA,EAAKC,OAAN,CAAazE,MAAO,IAChBpC,EAAA/J,EAAAgK,cAAC4P,GAAA,EAAD,CACII,MAAOA,EACPE,KAAM,CAAEnL,WAAW,EAAMvD,UAAU,GACnC2O,YAAa,SAAC3N,EAAGlV,GAAJ,OAxBT,SAACkV,EAAmBlV,GACxCuP,EAAmB/I,EAAS9F,SAAUgiB,EAAM1iB,EAAK8iB,aACrCH,SAAS9W,MAAM,KAAK,GAAGkX,eAsBOC,CAAgB9N,EAAGlV,MAEjDyS,EAAA/J,EAAAgK,cAAA,WACAD,EAAA/J,EAAAgK,cAAC0C,GAAA,EAAK6B,MAAN,CAAYgM,YAAa,GACpB1U,GAAkBA,EAAeyH,IAAI,SAAC9Q,GAAD,OAClCuN,EAAA/J,EAAAgK,cAAC0C,GAAA,EAAD,CACIpC,GAAIoB,IACJlB,GAAE,eAAA7Q,OAAiB6C,EAAS3F,IAC5BqE,IAAKsB,EAAS3F,IACdkT,EAAA/J,EAAAgK,cAACoB,EAAA,EAAD,CACIT,IAAG,0BAAAhR,OAA4B6C,EAASxF,SAArC,QACH6T,MAAO,CACHsF,UAAW,IAAKqK,UACZ,WAGZzQ,EAAA/J,EAAAgK,cAAC0C,GAAA,EAAKT,QAAN,KACIlC,EAAA/J,EAAAgK,cAAC0C,GAAA,EAAKC,OAAN,CACI+B,UAAU,UAAUlS,EAASzF,OACjCgT,EAAA/J,EAAAgK,cAAC0C,GAAA,EAAKE,KAAN,CAAW8B,UAAU,UACjB3E,EAAA/J,EAAAgK,cAAA,WAAM8E,mBAAO,IAAIxO,KAAK9D,EAAStF,MAC3B,WACJ6S,EAAA/J,EAAAgK,cAAA,WAAM8E,mBAAO,IAAIxO,KAAK9D,EAAStF,MAC3B,sBCvB7B2S,mBAhCf,SAAAjR,GAAiD,IAApBqF,EAAoBrF,EAApBqF,UAAoB4N,EAC6BlC,IAAWnE,aAA7E1H,EADqC+N,EACrC/N,QAAS8H,EAD4BiG,EAC5BjG,WAAYa,EADgBoF,EAChBpF,eAAgBd,EADAkG,EACAlG,QAASiB,EADTiF,EACSjF,gBAStD,OARA8J,oBAAU,WAGN,OAFAjK,EAAexI,GAER,WACH2I,MAEL,CAAC9I,EAASG,IAGT8L,EAAA/J,EAAAgK,cAAC4P,GAAA,EAAIC,KAAL,CAAUlU,QAASA,GACfoE,EAAA/J,EAAAgK,cAAC2G,EAAA,EAAD,KACI5G,EAAA/J,EAAAgK,cAAC2G,EAAA,EAAKC,OAAN,CAAazE,MAAO,IAChBpC,EAAA/J,EAAAgK,cAAC2C,EAAA,EAAD,CAAQ7E,QACU,cAAd7J,EAAA,oBAAAtE,OAAgDmE,EAAS/F,aAAzD,UAAA4B,OAAmFmE,EAAS/F,YAA5F,oBAERgS,EAAA/J,EAAAgK,cAAC2G,EAAA,EAAKC,OAAN,CAAazE,MAAO,IAChBpC,EAAA/J,EAAAgK,cAAC0C,GAAA,EAAK6B,MAAN,CAAYgM,YAAa,GAEjB3U,EAAW0H,IAAI,SAAAxP,GAAO,OAClBiM,EAAA/J,EAAAgK,cAAC6D,GAAD,CAAa3S,IAAK4C,EAAQ9F,SAAUH,QAASiG,6BCA9D2c,OAtBf,SAAA7hB,GAAiE,IAAnC8hB,EAAmC9hB,EAAnC8hB,WAAYC,EAAuB/hB,EAAvB+hB,aACtC,OACI5Q,EAAA/J,EAAAgK,cAAC4Q,GAAA,EAAD,CACIjQ,IAAKgQ,EACL9P,MAAO,CAAEoN,OAAQ,IAAK9L,MAAO,OAAQqO,UAAW,SAChDK,mBAAoB,EACpBC,YAAa,EACbC,QAAQ,eACRC,QAAQ,EACRC,SAAU,EACVC,aAAc,EACdC,YAAY,EACZC,SAAS,OACTC,UAAU,EAGVC,cAAe,SAACC,GAAD,OAAab,EAAWa,iBCiBpCC,OAlCf,SAAA5iB,GAAkD,IAAnB6iB,EAAmB7iB,EAAnB6iB,SACrBC,EAAW,CACbzE,OAAQ,aACR/J,YAAa,OACbyO,aAAc,MACdC,WAAY,OACZlN,UAAW,SACXuJ,OAAQ,SAON4D,EAASC,sBAAY,SAACC,GACxBN,EACIM,EAAczO,IAAI,SAACrH,GAAD,OACdzP,OAAOG,OAAOsP,EAAM,CAChB8U,QAASiB,IAAIC,gBAAgBhW,SAI1C,CAACwV,IAtB0CS,EAuBQC,aAAY,CAAEN,WAA5DO,EAvBsCF,EAuBtCE,aAAcC,EAvBwBH,EAuBxBG,cAAeC,EAvBSJ,EAuBTI,aAErC,OACIvS,EAAA/J,EAAAgK,cAAA,MAAAxT,OAAAG,OAAA,GAASylB,IAAT,CAAyBvR,MAAOyR,EAAY9lB,OAAA0K,EAAA,EAAA1K,CAAA,GAAQklB,EAhBvC,CACbxO,YAAa,UAeiEwO,IAC1E3R,EAAA/J,EAAAgK,cAAA,QAAWqS,KACXtS,EAAA/J,EAAAgK,cAAC+C,GAAA,EAAD,CAAMhC,KAAK,SAAS2C,KAAK,SACzB3D,EAAA/J,EAAAgK,cAAC2C,EAAA,EAAD,CAAQ7E,QAAQ,sBC0BbyU,OApDf,SAAA3jB,GAA4D,IAA/B+M,EAA+B/M,EAA/B+M,QAAStI,EAAsBzE,EAAtByE,YAAsBiT,EAC9BrC,mBAAgB,IADcsC,EAAA/Z,OAAA2X,EAAA,EAAA3X,CAAA8Z,EAAA,GACjDkM,EADiDjM,EAAA,GAC1CkL,EAD0ClL,EAAA,GAAAkM,EAE1BxO,qBAF0ByO,EAAAlmB,OAAA2X,EAAA,EAAA3X,CAAAimB,EAAA,GAEjDlB,EAFiDmB,EAAA,GAExChC,EAFwCgC,EAAA,GAoBxD,OAPAhM,oBAAU,WACN,OAAO,WACH8L,EAAMxd,QAAQ,SAAAiH,GAAI,OAAI+V,IAAIW,gBAAgB1W,EAAK8U,aAEpD,CAACyB,IAIAzS,EAAA/J,EAAAgK,cAAC2G,EAAA,EAAD,KACI5G,EAAA/J,EAAAgK,cAAC2G,EAAA,EAAKC,OAAN,CAAazE,MAAO,GAChBpC,EAAA/J,EAAAgK,cAAC2C,EAAA,EAAD,CAAQN,MAAM,OAAOmD,KAAG,EAAC1H,QAAQ,uBACjCiC,EAAA/J,EAAAgK,cAAC4S,GAAD,CAAqBnB,SAAUA,KAEnC1R,EAAA/J,EAAAgK,cAAC2G,EAAA,EAAKC,OAAN,CAAazE,MAAO,IACpBpC,EAAA/J,EAAAgK,cAAC2G,EAAA,EAAKC,OAAN,CAAazE,MAAO,GAChBpC,EAAA/J,EAAAgK,cAAC2C,EAAA,EAAD,CAAQN,MAAM,OAAOmD,KAAG,EAAC1H,QAAQ,2BAChC0U,GAASA,EAAM7kB,OAAS,GACrBoS,EAAA/J,EAAAgK,cAAC6S,GAAD,CAAoBnC,WAAYA,EAAYC,aAAc6B,EAAM,GAAGzB,WAG3EhR,EAAA/J,EAAAgK,cAAC2G,EAAA,EAAKC,OAAN,CAAazE,MAAO,IACpBpC,EAAA/J,EAAAgK,cAAC2G,EAAA,EAAKC,OAAN,CAAazE,MAAO,GAChBpC,EAAA/J,EAAAgK,cAAC2C,EAAA,EAAD,CAAQN,MAAM,OAAOmD,KAAG,EAAC1H,QAAQ,8BAChC0U,GAASA,EAAM7kB,OAAS,GACrBoS,EAAA/J,EAAAgK,cAAAD,EAAA/J,EAAA8L,SAAA,KACI/B,EAAA/J,EAAAgK,cAAA,OAAK2I,UAAU,cAAc9H,MAAO,CAAEsF,UAAW,IAAK2M,SAAU,YAEhE/S,EAAA/J,EAAAgK,cAACgB,EAAA,EAAOuD,MAAR,CAAcyK,OAAQ,GAClBjP,EAAA/J,EAAAgK,cAACgB,EAAA,EAAD,CAAQrF,QAASA,EAASiG,QArClD,WACQ2P,GACAA,EAAQwB,mBAAmBC,OAAO,SAAAC,GAC9B5f,EAAY4f,IACb,eAiCwDhS,UAAQ,EAACU,KAAK,UACzD5B,EAAA/J,EAAAgK,cAACgB,EAAA,EAAD,CAAQyB,SAAU9G,EAASiG,QAAS,kBAAM6P,EAAS,KAAK9P,KAAK,eCsC1E9B,mBAhFf,SAAAjR,GAA2C,IAAlBkF,EAAkBlF,EAAlBkF,QAAkB+N,EACsElC,IAArGnE,aAAgBiU,EADe5N,EACf4N,cAAe/T,EADAmG,EACAnG,eAAgBrI,EADhBwO,EACgBxO,YAAasI,EAD7BkG,EAC6BlG,QAAShI,EADtCkO,EACsClO,aAAcC,EADpDiO,EACoDjO,YADpD0S,EAECrC,oBAAS,GAFVsC,EAAA/Z,OAAA2X,EAAA,EAAA3X,CAAA8Z,EAAA,GAEhC4M,EAFgC3M,EAAA,GAElB4M,EAFkB5M,EAAA,GAAAkM,EAGXxO,mBAAS,IAHEyO,EAAAlmB,OAAA2X,EAAA,EAAA3X,CAAAimB,EAAA,GAGhCrO,EAHgCsO,EAAA,GAGxBrO,EAHwBqO,EAAA,GAAAU,EAICnP,oBAAS,GAJVoP,EAAA7mB,OAAA2X,EAAA,EAAA3X,CAAA4mB,EAAA,GAIhCE,EAJgCD,EAAA,GAIlBE,EAJkBF,EAAA,GAqBvC,OACItT,EAAA/J,EAAAgK,cAAC4P,GAAA,EAAIC,KAAL,KACI9P,EAAA/J,EAAAgK,cAAC2G,EAAA,EAAD,KACI5G,EAAA/J,EAAAgK,cAAC2G,EAAA,EAAKC,OAAN,CAAazE,MAAO,IAChBpC,EAAA/J,EAAAgK,cAAC2C,EAAA,EAAD,CAAQuC,QAAQ,OAAOvD,KAAK,QAAQ7D,QAAQ,WAC3C2R,GACG1P,EAAA/J,EAAAgK,cAACgB,EAAA,EAAD,CACIY,QAAS,kBAAMuR,GAAiBD,IAChChO,QAAQ,QACR3C,OAAK,EACLzE,QAASoV,EAAe,SAAW,eAI/CnT,EAAA/J,EAAAgK,cAAC2G,EAAA,EAAKC,OAAN,CAAazE,MAAO,IACf+Q,EACGnT,EAAA/J,EAAAgK,cAACwT,GAAD,CACIngB,YArBxB,SAA2B4I,GACvB5I,EAAY4I,GAAMpK,KAAK,kBAAMshB,GAAgB,MAqBzBxX,QAASD,IAGbqE,EAAA/J,EAAAgK,cAAC0C,GAAA,EAAK6B,MAAN,CAAYgM,YAAa,GACpBzc,EAAQoI,OAAQoH,IAAI,SAAChQ,GAAD,OACjByM,EAAA/J,EAAAgK,cAAC0C,GAAA,EAAD,CAAMxR,IAAKoC,EAAMzG,IACbkT,EAAA/J,EAAAgK,cAACoB,EAAA,EAAD,CAAOT,IAAKrN,EAAM3B,MACjB8d,GACG1P,EAAA/J,EAAAgK,cAACgB,EAAA,EAAOuD,MAAR,CAAcnC,OAAK,EAAC4M,OAAQ,GACxBjP,EAAA/J,EAAAgK,cAACgB,EAAA,EAAD,CAEIuB,OAAK,EACLtB,UAAQ,EACRnD,QAAQ,OACRiD,KAAMzN,EAAMzG,GACZ+U,QAAS,SAAAY,GAAC,OAhDtD,SAA4BlP,EAAckP,GACtC6B,EAAU7B,EAAE2C,cAAcpE,MAC1BpN,EAAaL,GA8CyCmgB,CAAmBngB,EAAOkP,IACxCC,SAAUnP,EAAM6I,OAChBR,QAASA,GAAWyI,IAAW9Q,EAAMzG,KAAOymB,IAEhDvT,EAAA/J,EAAAgK,cAACgB,EAAA,EAAD,CACIuB,OAAK,EACLmR,UAAQ,EACR/R,KAAK,QACLZ,KAAMzN,EAAMzG,GACZ+U,QAAS,SAAAY,GAAC,OApDtD,SAA2BlP,EAAckP,GACrC6B,EAAU7B,EAAE2C,cAAcpE,MAC1BwS,GAAgB,GAChB3f,EAAYN,GAiD0CqgB,CAAkBrgB,EAAOkP,IACvCC,SAAUnP,EAAM6I,OAChBR,QAASA,GAAWyI,IAAW9Q,EAAMzG,IAAMymB,cC9C5EzT,mBAjBf,SAAAjR,GAA4C,IAAlBkF,EAAkBlF,EAAlBkF,QAChBkc,EAAQ,CACV,CAAEC,SAAU,QAASlH,OAAQ,kBAAMhJ,EAAA/J,EAAAgK,cAAC4T,GAAD,CAAc9f,QAASA,MAC1D,CAAEmc,SAAU,SAAUlH,OAAQ,kBAAMhJ,EAAA/J,EAAAgK,cAAC6T,GAAD,CAAe/f,QAASA,MAC5D,CACImc,SAAU,SAAUlH,OAAQ,kBAAMhJ,EAAA/J,EAAAgK,cAAC8T,GAAD,QAEtC,CAAE7D,SAAU,YAAalH,OAAQ,kBAAMhJ,EAAA/J,EAAAgK,cAAC+T,GAAD,CAAmB9f,UAAU,gBACpE,CAAEgc,SAAU,YAAalH,OAAQ,kBAAMhJ,EAAA/J,EAAAgK,cAAC+T,GAAD,CAAmB9f,UAAU,iBAGxE,OAEI8L,EAAA/J,EAAAgK,cAAC4P,GAAA,EAAD,CAAKM,KAAM,CAAE9N,OAAO,EAAMuD,UAAU,GAAQqO,aAAa,QAAQhE,MAAOA,oCCajEnQ,mBA5Bf,SAAAjR,GAA2C,IAAlBkF,EAAkBlF,EAAlBkF,QAErB,OACIiM,EAAA/J,EAAAgK,cAACsE,EAAA,EAAD,KACIvE,EAAA/J,EAAAgK,cAAC2G,EAAA,EAAD,KACI5G,EAAA/J,EAAAgK,cAAC2G,EAAA,EAAKC,OAAN,CAAazE,MAAO,IAChBpC,EAAA/J,EAAAgK,cAACiU,GAAA,EAAD,KACIlU,EAAA/J,EAAAgK,cAACK,GAAA,EAAD,KACIN,EAAA/J,EAAAgK,cAACK,GAAA,EAAKe,MAAN,CAAYC,QAAM,EAACqC,KAAK,QAAQC,UAAQ,EAAChD,IAAK7M,EAAQ5F,OAAS,qBAC/D6R,EAAA/J,EAAAgK,cAACK,GAAA,EAAK4B,QAAN,CAAcqM,cAAc,UACxBvO,EAAA/J,EAAAgK,cAACK,GAAA,EAAKsC,OAAN,CAAarC,GAAG,MAAMxM,EAAQ/F,iBAK9CgS,EAAA/J,EAAAgK,cAAC2G,EAAA,EAAKC,OAAN,CAAazE,MAAO,GAChBpC,EAAA/J,EAAAgK,cAACkU,GAAA,EAAD,CAAgBlF,OAAQ,GACpBjP,EAAA/J,EAAAgK,cAACmU,GAAA,EAAD,CAAW3M,MAAM,YAAY1S,MAAOhB,EAAQmE,iBAC5C8H,EAAA/J,EAAAgK,cAACmU,GAAA,EAAD,CAAW3M,MAAM,YAAY1S,MAAOhB,EAAQwI,kBAEhDyD,EAAA/J,EAAAgK,cAAC6K,GAAA,EAAD,MACA9K,EAAA/J,EAAAgK,cAACgD,GAAD,CAAclP,QAASA,SCE5B+L,mBAzBf,WAAuB,IACX7R,EAAaqe,eAAbre,SADW6T,EAE8BlC,IAAWnE,aAApDC,EAFWoG,EAEXpG,eAAgB3H,EAFL+N,EAEK/N,QAASiI,EAFd8F,EAEc9F,YAMjC,OAJA2K,oBAAU,WACN3K,EAAY/N,IACb,CAAC+N,EAAa/N,IAEbyN,EAAuBsE,EAAA/J,EAAAgK,cAACwM,GAAD,CAAkB1O,QAAQ,uBAEjDiC,EAAA/J,EAAAgK,cAAC2G,EAAA,EAAD,KACI5G,EAAA/J,EAAAgK,cAAC2G,EAAA,EAAKC,OAAN,CAAazE,MAAO,IAEZrO,GACAiM,EAAA/J,EAAAgK,cAAAD,EAAA/J,EAAA8L,SAAA,KACI/B,EAAA/J,EAAAgK,cAACoU,GAAD,CAAetgB,QAASA,IAExBiM,EAAA/J,EAAAgK,cAACqU,GAAD,CAAgBvgB,QAASA,SCjBlC+L,eAAS,SAAAjR,GAAgE,IAA7B0lB,EAA6B1lB,EAAxC2lB,UAAyBC,EAAehoB,OAAAkb,GAAA,EAAAlb,CAAAoC,EAAA,eAC5EyC,EAAcsO,IAAdtO,UACR,OACI0O,EAAA/J,EAAAgK,cAACyU,GAAA,EAADjoB,OAAAG,OAAA,GACQ6nB,EADR,CAEIzL,OAAQ,SAACtB,GAAD,OAAWpW,EAAUqZ,WAAa3K,EAAA/J,EAAAgK,cAACsU,EAAc7M,GAAY1H,EAAA/J,EAAAgK,cAACyU,GAAA,EAAD,CAAUjU,GAAI,YCiDhFX,mBA5Cf,WACE,IAAM6U,EAAWC,eADJhL,EAEsBhK,IAA3BtO,EAFKsY,EAELtY,UAAW7B,EAFNma,EAEMna,YAYnB,OAVAkX,oBACE,WACMlX,EAAYN,MACdmC,EAAU6I,UAAU0a,QAAQ,kBAAMplB,EAAY+N,iBAE9ClM,EAAUgJ,yBAAyBua,QAAQ,kBAAMplB,EAAY+N,kBAG9D,CAAC/N,EAAa6B,IAEd7B,EAAY8N,UAEfyC,EAAA/J,EAAAgK,cAAAD,EAAA/J,EAAA8L,SAAA,KACE/B,EAAA/J,EAAAgK,cAAC6U,EAAA,EAAD,CAAgB1T,SAAS,eAAe2T,iBAAe,IACvD/U,EAAA/J,EAAAgK,cAAC+U,GAAD,MACAhV,EAAA/J,EAAAgK,cAACyU,GAAA,EAAD,CAAOhU,OAAK,EAACuU,KAAK,IAAIT,UAAW7K,KACjC3J,EAAA/J,EAAAgK,cAACyU,GAAA,EAAD,CAAOO,KAAM,QAASjM,OAAQ,kBAC5BhJ,EAAA/J,EAAAgK,cAAAD,EAAA/J,EAAA8L,SAAA,KAEE/B,EAAA/J,EAAAgK,cAACiV,EAAD,MACAlV,EAAA/J,EAAAgK,cAACI,EAAA,EAAD,CAAWS,MAAO,CAAE+E,UAAW,SAC7B7F,EAAA/J,EAAAgK,cAACyU,GAAA,EAAD,KACE1U,EAAA/J,EAAAgK,cAACkV,GAAD,CAAczU,OAAK,EAACuU,KAAK,cAAcT,UAAWY,KAClDpV,EAAA/J,EAAAgK,cAACkV,GAAD,CAAczU,OAAK,EAACuU,KAAK,kBAAkBT,UAAWa,KACtDrV,EAAA/J,EAAAgK,cAACkV,GAAD,CAAczU,OAAK,EAACvP,IAAKwjB,EAASxjB,IAAK8jB,KAAM,kBAAmBT,UAAWc,KAC3EtV,EAAA/J,EAAAgK,cAACkV,GAAD,CAAczU,OAAK,EAACuU,KAAK,2BAA2BT,UAAWc,KAC/DtV,EAAA/J,EAAAgK,cAACkV,GAAD,CAAczU,OAAK,EAACuU,KAAK,sBAAsBT,UAAWe,KAC1DvV,EAAA/J,EAAAgK,cAACkV,GAAD,CAAczU,OAAK,EAACuU,KAAK,UAAUT,UAAWzF,KAC9C/O,EAAA/J,EAAAgK,cAACyU,GAAA,EAAD,CAAOO,KAAK,gBAAgBT,UAAWgB,KACvCxV,EAAA/J,EAAAgK,cAACyU,GAAA,EAAD,CAAOF,UAAWrF,YAnBKnP,EAAA/J,EAAAgK,cAACwM,GAAD,CAAkB1O,QAAQ,qBCnBhD0X,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxCC,EAAAnT,EAAA,GAAA3Q,KAAA8jB,EAAAC,KAAA,WAAqB/jB,KAAK,SAAAjD,GAAiD,IAA9CinB,EAA8CjnB,EAA9CinB,OAAQC,EAAsClnB,EAAtCknB,OAAQC,EAA8BnnB,EAA9BmnB,OAAQC,EAAsBpnB,EAAtBonB,OAAQC,EAAcrnB,EAAdqnB,QAC3DJ,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAOP,GACPQ,EAAQR,eCNC,SAASS,KAAc,IAC1BC,EAAaxB,eAAbwB,SAMR,OAJAzP,oBAAU,WACNpM,OAAO8b,SAAS,EAAG,IACpB,CAACD,IAEG,KCVXR,EAAAU,EAAAC,EAAA,4BAAAC,KAcO,IAAMxlB,GAAUylB,eAEVC,IAASC,WACpBxM,SAASC,eAAe,SAErBpB,OAEHhJ,EAAA/J,EAAAgK,cAACP,EAAakX,SAAd,CAAuB7hB,MAAOvF,GAC5BwQ,EAAA/J,EAAAgK,cAACyU,GAAA,EAAD,CAAQ1jB,QAASA,IACfgP,EAAA/J,EAAAgK,cAACkW,GAAD,MACAnW,EAAA/J,EAAAgK,cAAC4W,GAAD,SASNpB","file":"static/js/main.22e1e907.chunk.js","sourcesContent":["import { Profile } from \"./profile\";\r\n\r\nexport interface Activity {\r\n    id: string;\r\n    title: string;\r\n    description: string;\r\n    category: string;\r\n    date: Date | null;\r\n    city: string;\r\n    venue: string;\r\n    hostUsername: string;\r\n    host?: Profile;\r\n    isCancelled: boolean;\r\n    isGoing: boolean;\r\n    isHost: boolean;\r\n    attendees: Profile[];\r\n}\r\n\r\nexport class Activity implements Activity {\r\n    constructor(init?: ActivityFormValues) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport class ActivityFormValues {\r\n    id?: string = undefined;\r\n    title: string = '';\r\n    category: string = '';\r\n    description: string = '';\r\n    date: Date | null = null;\r\n    city: string = '';\r\n    venue: string = '';\r\n\r\n    constructor(init?: ActivityFormValues) {\r\n        if (!init) return;\r\n        this.category = init.category;\r\n        this.title = init.title;\r\n        this.description = init.description;\r\n        this.date = init.date;\r\n        this.city = init.city;\r\n        this.venue = init.venue;\r\n        this.id = init.id;\r\n\r\n    }\r\n}","export interface Pagination {\r\n    currentPage: number;\r\n    itemsPerPage: number;\r\n    totalItems: number;\r\n    totalPages: number;\r\n}\r\n\r\nexport class PaginatedResult<T> {\r\n    data: T;\r\n    pagination: Pagination;\r\n\r\n    constructor(data: T, pagination: Pagination) {\r\n        this.data = data;\r\n        this.pagination = pagination;\r\n    }\r\n}\r\n\r\nexport class pagingParams {\r\n    pageNumber: number;\r\n    pageSize: number;\r\n\r\n    constructor(pageNumber = 1, pageSize = 2) {\r\n        this.pageNumber = pageNumber;\r\n        this.pageSize = pageSize;\r\n    }\r\n}","import { User } from \"./user\";\r\n\r\nexport interface Profile {\r\n    displayName: string;\r\n    userName: string;\r\n    bio?: string;\r\n    image?: string;\r\n    photos?: Photo[];\r\n    following: boolean;\r\n    followersCount: number;\r\n    followingCount: number;\r\n}\r\n\r\nexport class Profile implements Profile {\r\n    displayName: string;\r\n    userName: string;\r\n    bio?: string;\r\n    image?: string;\r\n\r\n\r\n    constructor(user: User) {\r\n        this.displayName = user.displayName;\r\n        this.userName = user.userName;\r\n        this.image = user.image;\r\n        this.bio = user.bio;\r\n    }\r\n}\r\n\r\nexport interface Photo {\r\n    id: string;\r\n    url: string;\r\n    isMain: boolean;\r\n    publicId?: string;\r\n}\r\n\r\nexport interface UserActivity {\r\n    id: string;\r\n    title: string;\r\n    category: string;\r\n    date: Date;\r\n}\r\n","import axios, { AxiosError, AxiosResponse } from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\nimport { history } from \"../..\";\r\nimport { Activity, ActivityFormValues } from \"../models/activity\";\r\nimport { PaginatedResult } from \"../models/paginations\";\r\nimport { Photo, Profile, UserActivity } from \"../models/profile\";\r\nimport { User, UserFormValues } from \"../models/user\";\r\nimport { store } from \"./stores/store\";\r\n\r\naxios.defaults.baseURL = process.env.REACT_APP_API_URL;\r\n\r\nconst sleep = (delay: number) => {\r\n    return new Promise((resolve) => {\r\n        setTimeout(resolve, delay);\r\n    });\r\n};\r\n\r\nconst responseBody = <T>(response: AxiosResponse<T>) => response.data;\r\n\r\naxios.interceptors.request.use(async config => {\r\n    if (process.env.NODE_ENV === 'development') {\r\n        await sleep(1000);\r\n    }\r\n    const token = store.commonStore.token;\r\n    if (token) config.headers!.Authorization = `Bearer ${token}`;\r\n    return config;\r\n});\r\n\r\n\r\naxios.interceptors.response.use(async response => {\r\n    if (process.env.NODE_ENV === 'development') {\r\n        await sleep(1000);\r\n    }\r\n    const pagination = response.headers[\"pagination\"];\r\n    if (pagination) {\r\n        response.data = new PaginatedResult(response.data, JSON.parse(pagination));\r\n        return response as AxiosResponse<PaginatedResult<any>>;\r\n    }\r\n    return response;\r\n}, (error: AxiosError<any, any>) => {\r\n    console.log('inter error', error);\r\n\r\n    const { data, status, config, headers } = error.response!;\r\n    switch (status) {\r\n        case 400:\r\n            if (typeof data === 'string') {\r\n                toast.error(data);\r\n            }\r\n            if (config.method === 'get' && data.errors.hasOwnProperty('id')) {\r\n                history.push('/not-found');\r\n            }\r\n\r\n            if (data.errors) {\r\n                const modalStateErrors = [];\r\n                for (const key in data.errors) {\r\n                    if (data.errors[key]) {\r\n                        modalStateErrors.push(data.errors[key]);\r\n                    }\r\n                }\r\n                throw modalStateErrors.flat();\r\n            }\r\n            break;\r\n        case 401:\r\n            if (status === 401 && headers['www-authenticate'].startsWith('Bearer error=\"invalid_token\"')) {\r\n                store.userStore.logout();\r\n                toast.error('Session expired - please login again');\r\n            } else {\r\n                toast.error('Unauthorized');\r\n            }\r\n            break;\r\n        case 404:\r\n            history.push('/not-found');\r\n            break;\r\n        case 500:\r\n            store.commonStore.setServerError(data);\r\n            history.push('/server-error');\r\n            break;\r\n    }\r\n\r\n    return Promise.reject(error);\r\n})\r\n\r\nconst requests = {\r\n    get: <T>(url: string) => axios.get<T>(url).then(responseBody),\r\n    post: <T>(url: string, body: {}) => axios.post<T>(url, body).then(responseBody),\r\n    put: <T>(url: string, body: {}) => axios.put<T>(url, body).then(responseBody),\r\n    del: <T>(url: string) => axios.delete<T>(url).then(responseBody),\r\n};\r\n\r\nconst Activities = {\r\n    list: (params: URLSearchParams) => axios.get<PaginatedResult<Activity[]>>(\"/activities\", { params })\r\n        .then(responseBody),\r\n    details: (id: string) => requests.get<Activity>(`/activities/${id}`),\r\n    create: (activity: ActivityFormValues) => requests.post<void>(\"/activities\", activity),\r\n    update: (activity: ActivityFormValues) => requests.put<void>(`/activities/${activity.id}`, activity),\r\n    delete: (id: string) => requests.del<void>(`/activities/${id}`),\r\n    attend: (id: string) => requests.post<void>(`/activities/${id}/attend`, {}),\r\n};\r\n\r\nconst Account = {\r\n    current: () => requests.get<User>(\"/account\"),\r\n    login: (user: UserFormValues) => requests.post<User>(\"/account/login\", user),\r\n    register: (user: UserFormValues) => requests.post<User>(\"/account/register\", user),\r\n    fbLogin: (accessToken: string) => requests.post<User>(\"/account/fbLogin?accessToken=\" + accessToken, {}),\r\n    googleLogin: (accessToken: string) => requests.post<User>(\"/account/googleLogin?accessToken=\" + accessToken, {}),\r\n    refreshToken: () => requests.post<User>(\"/account/refreshToken\", {}),\r\n\r\n}\r\n\r\nconst Profiles = {\r\n    get: (username: string) => requests.get<Profile>(`/profiles/${username}`),\r\n    uploadPhoto: (photo: Blob) => {\r\n        let formData = new FormData();\r\n        formData.append('File', photo);\r\n        return axios.post<Photo>('/photos', formData, {\r\n            headers: { 'Content-type': 'multipart/form-data' }\r\n        })\r\n    },\r\n    setMainPhoto: (id: string) => requests.post(`/photos/${id}/setMain`, {}),\r\n    deletePhoto: (id: string) => requests.del(`/photos/${id}`),\r\n    updateProfile: (profile: Partial<Profile>) => requests.put(`/profiles`, profile),\r\n    updateFollowing: (username: string) => requests.post(`/follow/${username}`, {}),\r\n    // unfollow: (username: string) => requests.post(`/profiles/${username}/follow`, {}),\r\n    listFollowings: (username: string, predicate: string) => requests.get<Profile[]>(`/follow/${username}?predicate=${predicate}`),\r\n    // listActivities: (username: string, predicate: string) => requests.get<UserActivity[]>(`/profiles/${username}/activities?predicate=${predicate}`),\r\n    listActivities: (username: string, predicate: string) => axios.get<PaginatedResult<UserActivity[]>>(`/profiles/${username}/activities?predicate=${predicate}`).then(responseBody),\r\n}\r\n\r\nconst agent = {\r\n    Activities,\r\n    Account,\r\n    Profiles,\r\n};\r\n\r\nexport default agent;","import { makeAutoObservable, reaction, runInAction } from \"mobx\";\r\nimport { Activity, ActivityFormValues } from \"../../models/activity\";\r\nimport { Pagination, pagingParams } from \"../../models/paginations\";\r\nimport { Profile } from \"../../models/profile\";\r\nimport agent from \"../agent\";\r\nimport { store } from \"./store\";\r\n\r\nexport default class ActivityStore {\r\n    activityRegistry = new Map<string, Activity>();\r\n    selectedActivity: Activity | undefined = undefined;\r\n    initialLoading: boolean = false;\r\n    isLoading: boolean = false;\r\n    displayForm: boolean = false;\r\n    pagination: Pagination | null = null;\r\n    pagingParams = new pagingParams();\r\n    predicate = new Map().set('all', true);\r\n\r\n    constructor() {\r\n        makeAutoObservable(this);\r\n        reaction(\r\n            () => this.predicate.keys(),\r\n            () => {\r\n                this.pagingParams = new pagingParams();\r\n                this.activityRegistry.clear();\r\n                this.loadActivities();\r\n            })\r\n\r\n    }\r\n\r\n\r\n    setPagingParams = (pagingParams: pagingParams) => {\r\n        this.pagingParams = pagingParams;\r\n    }\r\n\r\n    setPredicate = (predicate: string, value: string | Date) => {\r\n        const resetPredicate = () => {\r\n            this.predicate.forEach((value, key) => {\r\n                if (key !== 'startDate') this.predicate.delete(key);\r\n            })\r\n        }\r\n\r\n        switch (predicate) {\r\n            case 'all':\r\n                resetPredicate();\r\n                this.predicate.set('all', true);\r\n                break;\r\n            case 'isGoing':\r\n                resetPredicate();\r\n                this.predicate.set('isGoing', true);\r\n                break;\r\n            case 'isHost':\r\n                resetPredicate();\r\n                this.predicate.set('isHost', true);\r\n                break;\r\n            case 'startDate':\r\n                this.predicate.delete('startDate');\r\n                this.predicate.set('startDate', value);\r\n                break;\r\n\r\n        }\r\n    }\r\n\r\n    get axiosParams() {\r\n        const params = new URLSearchParams();\r\n        params.append('pageNumber', this.pagingParams.pageNumber.toString());\r\n        params.append('pageSize', this.pagingParams.pageSize.toString());\r\n        this.predicate.forEach((value, key) => {\r\n            if (key === 'startDate') {\r\n                params.append(key, (value as Date).toISOString());\r\n            } else {\r\n                params.append(key, value);\r\n            }\r\n        })\r\n\r\n        return params;\r\n    }\r\n\r\n    loadActivities = async () => {\r\n        this.setInitialLoading(true);\r\n        try {\r\n            let paginationResult = await agent.Activities.list(this.axiosParams);\r\n            runInAction(() => {\r\n                paginationResult.data.forEach(activity => {\r\n                    this.setActivity(activity);\r\n                })\r\n\r\n                this.pagination = paginationResult.pagination;\r\n            })\r\n\r\n        }\r\n        catch (error) {\r\n            console.log(error);\r\n        } finally {\r\n            this.setInitialLoading(false);\r\n        }\r\n    }\r\n\r\n    loadActivity = async (id: string) => {\r\n        let activity = this.getActivity(id);\r\n        if (activity) {\r\n            this.selectedActivity = activity;\r\n            return activity;\r\n        } else {\r\n            this.setInitialLoading(true);\r\n            try {\r\n                activity = await agent.Activities.details(id);\r\n                this.setActivity(activity);\r\n                runInAction(() => {\r\n                    this.selectedActivity = activity;\r\n                })\r\n                return activity;\r\n            }\r\n            catch (error) {\r\n                console.log(error);\r\n            } finally {\r\n                this.setInitialLoading(false);\r\n            }\r\n        }\r\n    }\r\n\r\n    private setActivity = (activity: Activity) => {\r\n        let user = store.userStore.user;\r\n\r\n        if (user) {\r\n\r\n            activity.isGoing = activity.attendees!.some(a => a.userName === user!.userName);\r\n\r\n            activity.isHost = activity.hostUsername === user!.userName;\r\n            activity.host = activity.attendees!.find(x => x.userName === activity.hostUsername);\r\n\r\n        }\r\n\r\n        activity.date = new Date(activity.date!);\r\n\r\n\r\n        this.activityRegistry.set(activity.id, activity);\r\n    }\r\n\r\n    private getActivity = (id: string) => {\r\n        return this.activityRegistry.get(id);\r\n    }\r\n\r\n    setInitialLoading = (initialLoading: boolean) => {\r\n        this.initialLoading = initialLoading;\r\n    }\r\n\r\n    setLoading = (isLoading: boolean) => {\r\n        this.isLoading = isLoading;\r\n    }\r\n\r\n    // setActivity = (activity: Activity) => {\r\n    //     activity.date = new Date(activity.date!);\r\n    //     this.activityRegistry.set(activity.id, activity);\r\n    // }\r\n\r\n    createActivity = async (activity: ActivityFormValues) => {\r\n        const user = store.userStore.user;\r\n        const attendee = new Profile(user!);\r\n        try {\r\n            await agent.Activities.create(activity);\r\n            const newActivity = new Activity(activity);\r\n            newActivity.attendees = [attendee];\r\n            newActivity.hostUsername = user!.userName;\r\n            this.setActivity(newActivity);\r\n            runInAction(() => {\r\n                this.selectedActivity = newActivity;\r\n            })\r\n        }\r\n        catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n    updateActivity = async (activity: ActivityFormValues) => {\r\n\r\n        try {\r\n            await agent.Activities.update(activity);\r\n            const updatedActivity = { ...this.getActivity(activity.id!), ...activity };\r\n            this.setActivity(updatedActivity as Activity);\r\n            runInAction(() => {\r\n                // this.activityRegistry.set(activity.id!, updatedActivity as Activity);\r\n                this.selectedActivity = updatedActivity as Activity;\r\n            })\r\n        }\r\n        catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n    deleteActivity = async (id: string) => {\r\n        this.setLoading(true);\r\n        try {\r\n            await agent.Activities.delete(id);\r\n            runInAction(() => {\r\n                // this.activities = [...this.activities.filter(a => a.id !== id)];\r\n                this.activityRegistry.delete(id);\r\n                this.selectedActivity = undefined;\r\n                this.displayForm = false;\r\n            })\r\n        }\r\n        catch (error) {\r\n            console.log(error);\r\n        } finally {\r\n            runInAction(() => {\r\n                this.setLoading(false);\r\n            })\r\n        }\r\n    }\r\n\r\n    get activitiesByDate() {\r\n        return Array.from(this.activityRegistry.values()).sort((a, b) => a.date!.getTime() - b.date!.getTime());\r\n    }\r\n\r\n    get groupedActivities() {\r\n        // return Object.entries(\r\n        //     this.activitiesByDate.reduce((activities, activity) => {\r\n        //         const date = activity.date;\r\n        //         activities[date] = activities[date] ? [...activities[date], activity] : [activity];\r\n        //         return activities;\r\n        //     }, {} as {[key: string]: Activity[]})\r\n        // )\r\n        let result = this.activitiesByDate.reduce((activities, activity) => {\r\n            const date = activity.date!.toISOString().split('T')[0]!;\r\n            activities[date] = activities[date] || [];\r\n            activities[date].push(activity);\r\n            return activities;\r\n        }, {} as { [key: string]: Activity[] })\r\n\r\n        return Object.entries(result);\r\n    }\r\n\r\n    updateAttendance = async () => {\r\n\r\n        const user = store.userStore.user;\r\n        this.setLoading(true);\r\n        try {\r\n            await agent.Activities.attend(this.selectedActivity!.id);\r\n            runInAction(() => {\r\n                if (this.selectedActivity!.isGoing && !this.selectedActivity!.isHost) {\r\n                    this.selectedActivity!.attendees = this.selectedActivity!.attendees!.filter(a => a.userName !== user!.userName);\r\n                } else if (!this.selectedActivity!.isGoing && !this.selectedActivity!.isHost) {\r\n                    let attendee = new Profile(user!);\r\n                    this.selectedActivity!.attendees!.push(attendee);\r\n                }\r\n\r\n                if (this.selectedActivity!.isHost) {\r\n                    this.selectedActivity!.isCancelled = !this.selectedActivity!.isCancelled;\r\n                }\r\n                this.setActivity(this.selectedActivity!);\r\n            })\r\n        }\r\n        catch (error) {\r\n            console.log(error);\r\n        } finally {\r\n            this.setLoading(false);\r\n\r\n        }\r\n    }\r\n\r\n    clearSelectedActivity = () => {\r\n        this.selectedActivity = undefined;\r\n    }\r\n\r\n    updateAttendeeFollowing = (username: string) => {\r\n        this.activityRegistry.forEach(activity => {\r\n            activity.attendees.forEach(attendee => {\r\n                if (attendee.userName === username) {\r\n                    attendee.following ? attendee.followersCount-- : attendee.followersCount++;\r\n                    attendee.following = !attendee.following;\r\n                }\r\n            })\r\n        })\r\n    }\r\n}","import jwtDecode from \"jwt-decode\";\r\nimport { makeAutoObservable, runInAction } from \"mobx\";\r\nimport { history } from \"../../..\";\r\nimport { User, UserFormValues } from \"../../models/user\";\r\nimport agent from \"../agent\";\r\nimport { store } from \"./store\";\r\n\r\n// declare var google: any;\r\n\r\n\r\nexport default class UserStore {\r\n    user: User | null = null;\r\n    fbAccessToken: string | null = null;\r\n    fbLoading: boolean = false;\r\n    googleAccessToken: string | null = null;\r\n    googleLoading: boolean = false;\r\n    refreshTokenTimeout: any;\r\n\r\n\r\n    constructor() {\r\n        makeAutoObservable(this);\r\n    }\r\n\r\n    get isLoggedIn() {\r\n        return !!this.user;\r\n    }\r\n\r\n    login = async (creds: UserFormValues) => {\r\n        try {\r\n            const user = await agent.Account.login(creds);\r\n            store.commonStore.setToken(user.token);\r\n            this.refreshTokenTimer(user);\r\n\r\n            runInAction(() => {\r\n                this.user = user;\r\n            })\r\n\r\n            history.push('/activities');\r\n            store.modalStore.closeModal();\r\n        } catch (error) {\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    logout = () => {\r\n        store.commonStore.setToken(null);\r\n        this.stopRefreshTokenTimer();\r\n        this.user = null;\r\n        history.push('/');\r\n    }\r\n\r\n    getUser = async () => {\r\n        try {\r\n            const user = await agent.Account.current();\r\n            store.commonStore.setToken(user.token);\r\n            this.refreshTokenTimer(user);\r\n\r\n            runInAction(() => {\r\n                this.user = user;\r\n            })\r\n        } catch (error) {\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    register = async (creds: UserFormValues) => {\r\n        try {\r\n            const user = await agent.Account.register(creds);\r\n            store.commonStore.setToken(user.token);\r\n            this.refreshTokenTimer(user);\r\n\r\n\r\n            runInAction(() => {\r\n                this.user = user;\r\n            })\r\n\r\n            history.push('/activities');\r\n            store.modalStore.closeModal();\r\n        } catch (error) {\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    setImage = (image: string) => {\r\n        if (this.user) this.user.image = image;\r\n    }\r\n\r\n    setDisplayName = (displayName: string) => {\r\n        if (this.user) this.user.displayName = displayName;\r\n    }\r\n\r\n    getFacebookLoginStatus = async () => {\r\n        window.FB.getLoginStatus((response) => {\r\n            if (response && response.status === 'connected') {\r\n                this.fbAccessToken = response.authResponse.accessToken;\r\n            }\r\n        });\r\n    }\r\n\r\n    facebookLogin = () => {\r\n        const apiLogin = async (accessToken: string) => {\r\n            this.fbLoading = true;\r\n            try {\r\n                const user = await agent.Account.fbLogin(accessToken);\r\n                store.commonStore.setToken(user.token);\r\n                this.refreshTokenTimer(user);\r\n\r\n\r\n                runInAction(() => {\r\n                    this.user = user;\r\n                })\r\n\r\n                history.push('/activities');\r\n                store.modalStore.closeModal();\r\n\r\n            } catch (error) {\r\n                throw error;\r\n            } finally {\r\n                this.fbLoading = false;\r\n            }\r\n        }\r\n\r\n        if (this.fbAccessToken) {\r\n            apiLogin(this.fbAccessToken);\r\n        } else {\r\n            window.FB.login((response) => {\r\n                if (response != null && response.authResponse != null) {\r\n                    apiLogin(response.authResponse.accessToken);\r\n                }\r\n            }, { scope: 'public_profile,email' })\r\n        }\r\n    }\r\n\r\n    googleLogin = async (response: any) => {\r\n        this.googleLoading = true;\r\n        try {\r\n            const user = await agent.Account.googleLogin(response.credential);\r\n            store.commonStore.setToken(user.token);\r\n            this.refreshTokenTimer(user);\r\n\r\n            runInAction(() => {\r\n                this.user = user;\r\n            })\r\n\r\n            history.push('/activities');\r\n            store.modalStore.closeModal();\r\n\r\n        } catch (error) {\r\n            throw error;\r\n        } finally {\r\n            this.googleLoading = false;\r\n        }\r\n\r\n    };\r\n\r\n    refreshToken = async () => {\r\n        this.stopRefreshTokenTimer();\r\n        try {\r\n            const user = await agent.Account.refreshToken();\r\n            store.commonStore.setToken(user.token);\r\n            this.refreshTokenTimer(user);\r\n\r\n            runInAction(() => {\r\n                this.user = user;\r\n            })\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n    private refreshTokenTimer(user: User) {\r\n\r\n        const jwtToken = JSON.parse(atob(user.token.split('.')[1]));\r\n        const expires = new Date(jwtToken.exp * 1000);\r\n        const timeout = expires.getTime() - Date.now() - (50 * 1000);\r\n        this.refreshTokenTimeout = setTimeout(this.refreshToken, timeout);\r\n\r\n    }\r\n\r\n    stopRefreshTokenTimer = () => {\r\n        clearTimeout(this.refreshTokenTimeout);\r\n    }\r\n\r\n}\r\n\r\n","import { makeAutoObservable, runInAction } from \"mobx\";\r\nimport { Photo, Profile, UserActivity } from \"../../models/profile\";\r\nimport agent from \"../agent\";\r\nimport { store } from \"./store\";\r\n\r\nexport default class profileStore {\r\n    profile: Profile | undefined = undefined;\r\n    loadingProfile = false;\r\n    uploadingPhoto = false;\r\n    loading = false;\r\n    followings: Profile[] = [];\r\n    userActivities: UserActivity[] = [];\r\n    loadingActivities: boolean = false;\r\n\r\n    constructor() {\r\n        makeAutoObservable(this);\r\n    }\r\n\r\n    get isCurrentUser() {\r\n        if (store.userStore.user && this.profile) {\r\n            return store.userStore.user.userName === this.profile.userName;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    loadProfile = async (username: string) => {\r\n        this.loadingProfile = true;\r\n        try {\r\n            const profile = await agent.Profiles.get(username);\r\n            runInAction(() => {\r\n                this.profile = profile;\r\n            })\r\n        } catch (error) {\r\n            console.log(error);\r\n        } finally {\r\n            runInAction(() => {\r\n                this.loadingProfile = false;\r\n            })\r\n        }\r\n    }\r\n\r\n    uploadPhoto = async (file: Blob) => {\r\n        this.uploadingPhoto = true;\r\n        try {\r\n            const response = await agent.Profiles.uploadPhoto(file);\r\n            const photo = response.data;\r\n            console.log('photo to upload', photo);\r\n\r\n            runInAction(() => {\r\n                if (this.profile) {\r\n                    this.profile.photos!.push(photo);\r\n                    if (photo.isMain && store.userStore.user) {\r\n                        store.userStore.setImage(photo.url);\r\n                        this.profile.image = photo.url;\r\n                    }\r\n                }\r\n            })\r\n        } catch (error) {\r\n            console.log(error);\r\n        } finally {\r\n            runInAction(() => {\r\n                this.uploadingPhoto = false;\r\n            })\r\n        }\r\n    }\r\n\r\n    setMainPhoto = async (photo: Photo) => {\r\n        this.loading = true;\r\n        try {\r\n            await agent.Profiles.setMainPhoto(photo.id);\r\n            store.userStore.setImage(photo.url);\r\n            runInAction(() => {\r\n                this.profile!.photos!.find(a => a.isMain)!.isMain = false;\r\n                this.profile!.photos!.find(a => a.id === photo.id)!.isMain = true;\r\n                this.profile!.image = photo.url;\r\n            })\r\n        } catch (error) {\r\n            console.log(error);\r\n        } finally {\r\n            runInAction(() => {\r\n                this.loading = false;\r\n            })\r\n        }\r\n    }\r\n\r\n    deletePhoto = async (photo: Photo) => {\r\n        this.loading = true;\r\n        try {\r\n            await agent.Profiles.deletePhoto(photo.id);\r\n            runInAction(() => {\r\n                this.profile!.photos = this.profile!.photos!.filter(a => a.id !== photo.id);\r\n            })\r\n        } catch (error) {\r\n            console.log(error);\r\n        } finally {\r\n            runInAction(() => {\r\n                this.loading = false;\r\n            })\r\n        }\r\n    }\r\n\r\n    updateProfile = async (profile: Partial<Profile>) => {\r\n        this.loading = true;\r\n        try {\r\n            await agent.Profiles.updateProfile(profile);\r\n            runInAction(() => {\r\n                if (profile.displayName !== store.userStore.user!.displayName) {\r\n                    store.userStore.setDisplayName(profile.displayName!);\r\n                }\r\n                this.profile = { ...this.profile!, ...profile };\r\n            })\r\n        } catch (error) {\r\n            console.log(error);\r\n        } finally {\r\n            runInAction(() => {\r\n                this.loading = false;\r\n            })\r\n        }\r\n    }\r\n\r\n    updateFollowing = async (username: string, following: boolean) => {\r\n        this.loading = true;\r\n        try {\r\n            await agent.Profiles.updateFollowing(username);\r\n            store.activityStore.updateAttendeeFollowing(username);\r\n            runInAction(() => {\r\n                if (this.profile && this.profile.userName !== store.userStore.user!.userName && this.profile.userName === username) {\r\n                    following ? this.profile.followersCount++ : this.profile.followersCount--;\r\n                    this.profile.following = !this.profile.following;\r\n                }\r\n                // if (username !== store.userStore.user!.userName) {\r\n                //    \r\n                // }\r\n                if (this.profile && this.profile.userName === store.userStore.user!.userName) {\r\n                    following ? this.profile.followingCount++ : this.profile.followingCount--;\r\n                }\r\n\r\n                // following ? this.followings.push(this.profile!) : this.followings = this.followings.filter(a => a.userName !== username);\r\n\r\n                this.followings.forEach(profile => {\r\n                    if (profile.userName === username) {\r\n                        profile.following ? profile.followersCount-- : profile.followersCount++;\r\n                        profile.following = !profile.following;\r\n                    }\r\n                })\r\n            })\r\n        } catch (error) {\r\n            console.log(error);\r\n        } finally {\r\n            runInAction(() => {\r\n                this.loading = false;\r\n            })\r\n        }\r\n    }\r\n\r\n    loadFollowings = async (predicate: string) => {\r\n        this.loading = true;\r\n        try {\r\n            const followings = await agent.Profiles.listFollowings(this.profile!.userName, predicate);\r\n            runInAction(() => {\r\n                this.followings = followings;\r\n            })\r\n        } catch (error) {\r\n            console.log(error);\r\n        } finally {\r\n            runInAction(() => {\r\n                this.loading = false;\r\n            })\r\n        }\r\n    }\r\n\r\n    clearFollowings = () => {\r\n        this.followings = [];\r\n    }\r\n\r\n    loadUserActivities = async (username: string, predicate: string) => {\r\n        console.log('loading user activities', username, predicate);\r\n\r\n        this.loadingActivities = true;\r\n        try {\r\n            const activities = await agent.Profiles.listActivities(username, predicate);\r\n\r\n            runInAction(() => {\r\n                this.userActivities = activities.data;\r\n            })\r\n        } catch (error) {\r\n            console.log(error);\r\n        } finally {\r\n            runInAction(() => {\r\n                this.loadingActivities = false;\r\n            })\r\n        }\r\n    }\r\n}","import { createContext, useContext } from \"react\";\r\nimport ActivityStore from \"./activityStore\";\r\nimport CommonStore from \"./commonStore\";\r\nimport ModalStore from \"./modalStore\";\r\nimport UserStore from \"./userStore\";\r\nimport ProfileStore from \"./profileStore\";\r\nimport CommentStore from \"./commentStore\";\r\n\r\ninterface Store {\r\n    activityStore: ActivityStore;\r\n    commonStore: CommonStore;\r\n    userStore: UserStore;\r\n    modalStore: ModalStore;\r\n    profileStore: ProfileStore;\r\n    commentStore: CommentStore;\r\n}\r\n\r\nexport const store: Store = {\r\n    activityStore: new ActivityStore(),\r\n    commonStore: new CommonStore(),\r\n    userStore: new UserStore(),\r\n    modalStore: new ModalStore(),\r\n    profileStore: new ProfileStore(),\r\n    commentStore: new CommentStore()\r\n}\r\n\r\nexport const StoreContext = createContext(store);\r\n\r\nexport function useStore() {\r\n    return useContext(StoreContext);\r\n}\r\n\r\n\r\n","import { makeAutoObservable, reaction } from \"mobx\";\r\nimport ServerError from \"../../models/serverError\";\r\n\r\nexport default class CommonStore{\r\n    error: ServerError | null = null;\r\n    token: string | null = window.localStorage.getItem('jwt');\r\n    appLoaded = false;\r\n\r\n    constructor(){\r\n        makeAutoObservable(this);\r\n\r\n        reaction(\r\n            () => this.token, \r\n            token => {\r\n                if(token){\r\n                    window.localStorage.setItem('jwt', token);\r\n                }else{\r\n                    window.localStorage.removeItem('jwt');\r\n                }\r\n            }\r\n            );\r\n    }\r\n\r\n    setServerError = (error: ServerError) => {\r\n        this.error = error;\r\n    }\r\n\r\n    setToken = (token: string | null) => {\r\n        this.token = token;\r\n    }\r\n\r\n    setAppLoaded = () => {\r\n        this.appLoaded = true;\r\n    }\r\n\r\n}","import { makeAutoObservable } from \"mobx\";\r\n\r\ninterface Modal{\r\n    open: boolean;\r\n    body: JSX.Element | null;\r\n}\r\n\r\nexport default class ModalStore{\r\n\r\n    modal: Modal = {\r\n        open: false,\r\n        body: null\r\n    }\r\n\r\n    constructor(){\r\n        makeAutoObservable(this);\r\n    }\r\n\r\n    openModal = (content: JSX.Element) => {\r\n        this.modal.open = true;\r\n        this.modal.body = content;\r\n    }\r\n\r\n    closeModal = () => {\r\n        this.modal.open = false;\r\n        this.modal.body = null;\r\n    }\r\n    \r\n}","import { HubConnection, HubConnectionBuilder, LogLevel } from \"@microsoft/signalr\";\r\nimport { makeAutoObservable, runInAction } from \"mobx\";\r\nimport { ChatComment, CommentFormValues } from \"../../models/comment\";\r\nimport { store } from \"./store\";\r\n\r\nexport default class CommentStore {\r\n    comments: ChatComment[] = [];\r\n    hubConnection: HubConnection | null = null;\r\n\r\n    constructor() {\r\n        makeAutoObservable(this);\r\n    }\r\n\r\n    createHubConnection = (activityId: string) => {\r\n        if (store.activityStore.selectedActivity) {\r\n            this.hubConnection = new HubConnectionBuilder()\r\n                .withUrl(process.env.REACT_APP_CHAT_URL + '?activityId=' + activityId, {\r\n                    accessTokenFactory: () => store.userStore.user!.token!\r\n                })\r\n                .withAutomaticReconnect()\r\n                .configureLogging(LogLevel.Information)\r\n                .build();\r\n\r\n            this.hubConnection\r\n                .start()\r\n\r\n                .catch(error => console.log('Error establishing connection: ', error));\r\n\r\n            this.hubConnection.on('ReceiveComment', (comment: ChatComment) => {\r\n                runInAction(() => {\r\n                    comment.createdAt = new Date(comment.createdAt!);\r\n                    this.comments.unshift(comment);\r\n\r\n                })\r\n            })\r\n\r\n            this.hubConnection.on(\"LoadComments\", (comments: ChatComment[]) => {\r\n                comments.forEach(comment => {\r\n                    comment.createdAt = new Date(comment.createdAt);\r\n                    runInAction(() => {\r\n                        this.comments.push(comment);\r\n                    })\r\n                })\r\n            })\r\n\r\n        }\r\n    }\r\n\r\n    stopHubConnection = () => {\r\n        this.hubConnection!.stop().catch(error => console.log('Error stopping connection: ', error));\r\n    }\r\n\r\n    clearComments = () => {\r\n        this.comments = [];\r\n        this.stopHubConnection();\r\n    }\r\n\r\n    addComment = async (values: CommentFormValues) => {\r\n        // values.activityId = store.activityStore.selectedActivity!.id;\r\n        try {\r\n            if (this.hubConnection) {\r\n                await this.hubConnection.invoke<ChatComment>('SendComment', values);\r\n            }\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\n","import React from 'react'\r\nimport { observer } from 'mobx-react-lite';\r\nimport { Link, NavLink } from 'react-router-dom';\r\nimport { Button, Container, Menu, MenuItem, Image, Dropdown } from 'semantic-ui-react';\r\nimport { useStore } from '../api/stores/store';\r\n\r\nexport default observer(function NavBar() {\r\n    const { userStore: { user, logout } } = useStore();\r\n    return (\r\n        <Menu inverted fixed='top'>\r\n            <Container>\r\n                <Menu.Item as={NavLink} to='/' exact header>\r\n                    <img src='/assets/logo.png' alt='logo' style={{ marginRight: '10px' }} />\r\n                    Reactivities\r\n                </Menu.Item>\r\n                <Menu.Item name='Activities' as={NavLink} to='/activities' />\r\n                <Menu.Item name='Errors' as={NavLink} to='/errors' />\r\n                <Menu.Item>\r\n                    <Button positive content='Create Activity' as={NavLink} to='/createActivity' />\r\n                </Menu.Item>\r\n\r\n                <MenuItem position='right'>\r\n                    <Image src={user && user.image || '/assets/user.png'} avatar spaced='right' />\r\n                    <Dropdown pointing='top left' text={`${user && user.displayName}`}>\r\n                        <Dropdown.Menu>\r\n                            <Dropdown.Item as={Link} to={`/profiles/${user && user.userName}`} text='My Profile' icon='user' />\r\n                            <Dropdown.Item onClick={logout} text='Logout' icon='power' />\r\n                        </Dropdown.Menu>\r\n                    </Dropdown>\r\n                </MenuItem>\r\n\r\n            </Container>\r\n        </Menu>\r\n    );\r\n})","import { observer } from 'mobx-react-lite'\r\nimport React, { SyntheticEvent } from 'react'\r\nimport { Button, Reveal } from 'semantic-ui-react'\r\nimport { useStore } from '../../app/api/stores/store'\r\nimport { Profile } from '../../app/models/profile'\r\n\r\ninterface Props {\r\n    profile: Profile\r\n}\r\n\r\nfunction FollowButton({ profile }: Props) {\r\n    const { loading, updateFollowing } = useStore().profileStore\r\n    const { user } = useStore().userStore\r\n\r\n    if (profile.userName === user!.userName) return null\r\n\r\n    function handleFollow(e: SyntheticEvent, username: string) {\r\n        if (profile.following) {\r\n            updateFollowing(username, false)\r\n        }\r\n        else {\r\n            updateFollowing(username, true)\r\n        }\r\n    }\r\n    return (\r\n        <>\r\n            <Reveal animated='move'>\r\n                <Reveal.Content visible style={{ width: '100%' }}>\r\n                    <Button fluid color='teal' content={profile.following ? 'Following' : 'not following'} />\r\n                </Reveal.Content>\r\n                <Reveal.Content hidden style={{ width: '100%' }}>\r\n                    <Button\r\n                        fluid basic color={profile.following ? 'red' : 'green'} content={profile.following ? 'Unfollow' : 'Follow'}\r\n                        loading={loading}\r\n                        onClick={(e) => handleFollow(e, profile.userName)}\r\n                        disabled={loading}\r\n                    />\r\n                </Reveal.Content>\r\n            </Reveal>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default observer(FollowButton)","import { observer } from 'mobx-react-lite'\r\nimport React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Button, Card, Icon, Image } from 'semantic-ui-react'\r\nimport { Profile } from '../../app/models/profile'\r\nimport FollowButton from './FollowButton'\r\n\r\ninterface Props {\r\n    Profile: Profile\r\n}\r\n\r\nfunction ProfileCard({ Profile }: Props) {\r\n    return (\r\n        <Card>\r\n            <Image src={Profile.image || '/assets/user.png'} />\r\n            <Card.Content>\r\n                <Card.Header>{Profile.displayName}</Card.Header>\r\n                <Card.Meta>\r\n                    <span>\r\n                        {\r\n                            (Profile.bio && Profile.bio.length > 30) ? Profile.bio.substring(0, 30) : Profile.bio}\r\n                        ...\r\n                    </span>\r\n                </Card.Meta>\r\n            </Card.Content>\r\n            <Card.Content extra>\r\n                <Button as={Link} to={`/profiles/${Profile.userName}`} basic color='blue' content='View Profile' />\r\n                <Icon name='user' />\r\n                {Profile.followersCount} followers\r\n            </Card.Content>\r\n            <FollowButton profile={Profile} />\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default observer(ProfileCard)","import { link } from 'fs'\r\nimport { observer } from 'mobx-react-lite'\r\nimport React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { List, Image, Popup } from 'semantic-ui-react'\r\nimport { Profile } from '../../../app/models/profile'\r\nimport ProfileCard from '../../profiles/ProfileCard'\r\n\r\ninterface Props {\r\n    attendees: Profile[]\r\n}\r\n\r\nfunction ActivityListItemAttendee({ attendees }: Props) {\r\n    const styles = {\r\n        borderColor: 'orange',\r\n        borderWidth: 3\r\n    }\r\n\r\n    return (\r\n        <List horizontal>\r\n            {attendees.map(attendee => (\r\n                <Popup\r\n                    hoverable\r\n                    key={attendee.userName}\r\n                    trigger={\r\n                        <List.Item key={attendee.displayName} style={{ position: 'relative' }} as={Link} to={`/profiles/${attendee.userName}`}>\r\n                            <Image\r\n                                size='mini'\r\n                                circular src={attendee.image || '/assets/user.png'}\r\n                                bordered\r\n                                style={attendee.following ? styles : null}\r\n                            />\r\n                        </List.Item>\r\n                    }\r\n                >\r\n                    <Popup.Content>\r\n                        <ProfileCard Profile={attendee} />\r\n                    </Popup.Content>\r\n                </Popup>\r\n            ))}\r\n\r\n        </List>\r\n    )\r\n}\r\n\r\nexport default observer(ActivityListItemAttendee)","import React, { SyntheticEvent } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Button, Icon, Item, Label, Segment } from 'semantic-ui-react'\r\nimport { useStore } from '../../../app/api/stores/store'\r\nimport { Activity } from '../../../app/models/activity'\r\nimport { format } from 'date-fns'\r\nimport ActivityListItemAttendee from './ActivityListItemAttendee'\r\n\r\ninterface Props {\r\n    activity: Activity\r\n}\r\n\r\nfunction ActivityListItem({ activity }: Props) {\r\n    const { activityStore } = useStore();\r\n    const { deleteActivity, isLoading } = activityStore;\r\n    const [target, setTarget] = React.useState('');\r\n    const handleDeleteActivity = (e: SyntheticEvent<HTMLButtonElement>, id: string) => {\r\n        setTarget(e.currentTarget.name);\r\n        deleteActivity(id);\r\n    }\r\n    return (\r\n\r\n        <Segment.Group>\r\n            <Segment>\r\n                {activity.isCancelled &&\r\n                    <Label attached='top' color='red' content='Cancelled' style={{ textAlign: 'center' }} />\r\n                }\r\n                <Item.Group>\r\n                    <Item>\r\n                        <Item.Image style={{ marginBottom: 4 }} size='tiny' circular src={activity.host!.image || '/assets/user.png'} />\r\n                        <Item.Content>\r\n                            <Item.Header as={Link} to={`/activities/${activity.id}`}>\r\n                                {activity.title}\r\n                            </Item.Header>\r\n                            <Item.Description>Hosted by\r\n                                <Link to={`/profiles/${activity.host!.userName}`}> {activity.host!.displayName}</Link>\r\n                            </Item.Description>\r\n                            {activity.isHost && (\r\n                                <Item.Description>\r\n                                    <Label basic color='orange'>\r\n                                        You are hosting this activity\r\n                                    </Label>\r\n                                </Item.Description>\r\n                            )}\r\n                            {activity.isGoing && !activity.isHost && (\r\n                                <Item.Description>\r\n                                    <Label basic color='green'>\r\n                                        You are going to this activity\r\n                                    </Label>\r\n                                </Item.Description>\r\n                            )}\r\n\r\n                        </Item.Content>\r\n                    </Item>\r\n                </Item.Group>\r\n            </Segment>\r\n            <Segment>\r\n                <span>\r\n                    <Icon name='clock' /> {format(activity.date!, 'dd MMM yyyy h:mm aa')}\r\n                    <Icon name='marker' /> {activity.venue}, {activity.city}\r\n                </span>\r\n            </Segment>\r\n            <Segment secondary>\r\n                <ActivityListItemAttendee attendees={activity.attendees!} />\r\n            </Segment>\r\n            <Segment clearing>\r\n                <span>{activity.description}</span>\r\n                <Button\r\n                    as={Link}\r\n                    to={`/activities/${activity.id}`}\r\n                    color='teal'\r\n                    floated='right'\r\n                    content='View'\r\n                />\r\n                {\r\n                    activity.isHost &&\r\n                    <Button\r\n                        name={activity.id}\r\n                        loading={isLoading && target === activity.id}\r\n                        onClick={(e) => handleDeleteActivity(e, activity.id)}\r\n                        color='red'\r\n                        floated='right'\r\n                        content='Delete'\r\n                    />\r\n                }\r\n            </Segment>\r\n\r\n        </Segment.Group>\r\n    )\r\n}\r\n\r\nexport default ActivityListItem\r\n","import { observer } from 'mobx-react-lite';\r\nimport React, { Fragment } from 'react'\r\nimport { Header } from 'semantic-ui-react'\r\nimport { useStore } from '../../../app/api/stores/store';\r\nimport ActivityListItem from './ActivityListItem';\r\n\r\nexport default observer(function ActivityList() {\r\n    const { activityStore } = useStore();\r\n    const { groupedActivities } = activityStore;\r\n\r\n    return (\r\n        <>\r\n            {\r\n                groupedActivities.map(([group, activities]) => {\r\n                    return (\r\n                        <Fragment key={group}>\r\n                            <Header sub color='teal'>\r\n                                {group}\r\n                            </Header>\r\n\r\n                            {\r\n                                activities.map(activity => (\r\n                                    <ActivityListItem key={activity.id} activity={activity} />\r\n                                ))\r\n                            }\r\n\r\n                        </Fragment>)\r\n                })\r\n            }\r\n        </>\r\n    )\r\n})","import { observer } from 'mobx-react-lite'\r\nimport React from 'react'\r\nimport { Calendar } from 'react-calendar'\r\nimport { Header, Menu } from 'semantic-ui-react'\r\nimport { useStore } from '../../../app/api/stores/store'\r\n\r\nfunction ActivityFilters() {\r\n    const { predicate, setPredicate } = useStore().activityStore\r\n\r\n    return (\r\n        <>\r\n            <Menu vertical size='large' style={{ width: '100%', marginTop: 50 }}>\r\n                <Header icon='filter' attached color='teal' content='Filters' />\r\n                <Menu.Item\r\n                    content='All Activities'\r\n                    active={predicate.has('all')}\r\n                    onClick={() => setPredicate('all', 'true')}\r\n\r\n                />\r\n                <Menu.Item content=\"I'm going\"\r\n                    active={predicate.has('isGoing')}\r\n                    onClick={() => setPredicate('isGoing', 'true')}\r\n                />\r\n                <Menu.Item content=\"I'm hosting\"\r\n                    active={predicate.has('isHost')}\r\n                    onClick={() => setPredicate('isHost', 'true')}\r\n                />\r\n            </Menu>\r\n            <Header />\r\n            <Calendar\r\n                onChange={(date: Date) => setPredicate('startDate', date!)}\r\n                value={predicate.get('startDate') || new Date()}\r\n            />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default observer(ActivityFilters)","import React, { Fragment } from 'react';\r\nimport { Segment, Button, Placeholder } from 'semantic-ui-react';\r\n\r\nexport default function ActivityListItemPlaceholder() {\r\n    return (\r\n        <Fragment>\r\n            <Placeholder fluid style={{ marginTop: 25 }}>\r\n                <Segment.Group>\r\n                    <Segment style={{ minHeight: 110 }}>\r\n                        <Placeholder>\r\n                            <Placeholder.Header image>\r\n                                <Placeholder.Line />\r\n                                <Placeholder.Line />\r\n                            </Placeholder.Header>\r\n                            <Placeholder.Paragraph>\r\n                                <Placeholder.Line />\r\n                            </Placeholder.Paragraph>\r\n                        </Placeholder>\r\n                    </Segment>\r\n                    <Segment>\r\n                        <Placeholder>\r\n                            <Placeholder.Line />\r\n                            <Placeholder.Line />\r\n                        </Placeholder>\r\n                    </Segment>\r\n                    <Segment secondary style={{ minHeight: 70 }} />\r\n                    <Segment clearing>\r\n                        <Button disabled color='blue' floated='right' content='View' />\r\n                    </Segment>\r\n                </Segment.Group>\r\n            </Placeholder>\r\n        </Fragment>\r\n    );\r\n};\r\n","import React, { useState } from 'react';\r\nimport { observer } from 'mobx-react-lite';\r\nimport { useEffect } from 'react';\r\nimport { Grid, Loader } from 'semantic-ui-react'\r\nimport { useStore } from '../../../app/api/stores/store';\r\nimport LoadingComponent from '../../../app/layout/LoadingComponent';\r\n\r\nimport ActivityList from './ActivityList';\r\nimport ActivityFilters from './ActivityFilters';\r\nimport { pagingParams } from '../../../app/models/paginations';\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\nimport ActivityListItemPlaceholder from './ActivityListItemPlaceholder';\r\n\r\n\r\nexport default observer(function ActivityDashboard() {\r\n    const { activityStore } = useStore();\r\n    const { loadActivities, initialLoading, setPagingParams, pagination } = activityStore;\r\n    const [loadingNext, setLoadingNext] = useState(false);\r\n\r\n    const handleLoadingNext = () => {\r\n        setLoadingNext(true);\r\n        setPagingParams(new pagingParams(activityStore.pagingParams.pageNumber + 1));\r\n        loadActivities().then(() => setLoadingNext(false));\r\n    }\r\n\r\n    useEffect(() => {\r\n        loadActivities();\r\n    }, []);\r\n\r\n    return (\r\n        <Grid>\r\n            <Grid.Column width={10}>\r\n                {initialLoading && !loadingNext ? (\r\n                    <>\r\n                        <ActivityListItemPlaceholder />\r\n                        <ActivityListItemPlaceholder />\r\n                    </>\r\n                ) : (\r\n                    <InfiniteScroll\r\n                        pageStart={0}\r\n                        loadMore={handleLoadingNext}\r\n                        hasMore={!loadingNext && !!pagination && pagination.currentPage < pagination.totalPages}\r\n                        initialLoad={false}\r\n\r\n                    >\r\n                        <ActivityList />\r\n                    </InfiniteScroll>\r\n                )}\r\n\r\n            </Grid.Column>\r\n            <Grid.Column width={6}>\r\n                <ActivityFilters />\r\n            </Grid.Column>\r\n            <Grid.Column width={10}>\r\n                <Loader active={loadingNext} />\r\n            </Grid.Column>\r\n        </Grid>\r\n    )\r\n})","import { useField } from 'formik';\r\nimport React from 'react'\r\nimport { Form, Label } from 'semantic-ui-react';\r\n\r\ninterface Props {\r\n    placeholder: string;\r\n    name: string;\r\n    type?: string;\r\n    label?: string;\r\n}\r\n\r\nconst MyTextInput = ({ label, ...props }: Props) => {\r\n    const [field, meta, helpers] = useField(props);\r\n    return (\r\n        <Form.Field error={meta.touched && !!meta.error}>\r\n            <label>\r\n                {label}\r\n                <input {...field} {...props} />\r\n            </label>\r\n            {meta.touched && meta.error ? (\r\n                <Label basic color='red' >{meta.error}</Label>\r\n            ) : null}\r\n        </Form.Field>\r\n    );\r\n};\r\n\r\nexport default MyTextInput","import { ErrorMessage, Form, Formik } from 'formik'\r\nimport { observer } from 'mobx-react-lite'\r\nimport React from 'react'\r\nimport { Button, Header, Label } from 'semantic-ui-react'\r\nimport { useStore } from '../../app/api/stores/store'\r\nimport MyTextInput from '../../app/common/form/MyTextInput'\r\n\r\nfunction LoginForm() {\r\n    const { userStore } = useStore();\r\n    return (\r\n        <Formik\r\n            initialValues={{ email: '', password: '', error: null }}\r\n            onSubmit={(values, { setErrors }) => userStore.login(values)\r\n                .catch(error => setErrors({ error: 'Invalid email or password' }))}\r\n        >\r\n            {({ handleSubmit, isSubmitting, errors }) => (\r\n                <Form className='ui form' onSubmit={handleSubmit}>\r\n                    <Header as='h2' content='LOGIN TO REACTIVITIES' color='teal' textAlign='center' />\r\n                    <MyTextInput name='email' placeholder='Email' />\r\n                    <MyTextInput name='password' placeholder='Password' type='password' />\r\n                    <ErrorMessage name='error' render={() =>\r\n                        <Label style={{ marginBottom: '10px' }} basic color='red' content={errors.error} />\r\n                    } />\r\n                    <Button loading={isSubmitting} positive content='Login' type='submit' fluid />\r\n                </Form>\r\n\r\n\r\n            )}\r\n        </Formik>\r\n    )\r\n}\r\n\r\nexport default observer(LoginForm)","import React from 'react'\r\nimport { Message } from 'semantic-ui-react'\r\n\r\ninterface Props {\r\n    errors: any;\r\n}\r\n\r\nfunction ValidationErrors({ errors }: Props) {\r\n    return (\r\n        <Message error>\r\n            <Message.List>\r\n                {errors.map((err: any, i: any) => (\r\n                    <Message.Item key={i}>{err}</Message.Item>\r\n                ))}\r\n\r\n            </Message.List>\r\n        </Message>\r\n    )\r\n}\r\n\r\nexport default ValidationErrors","import { ErrorMessage, Form, Formik } from 'formik'\r\nimport { observer } from 'mobx-react-lite'\r\nimport React from 'react'\r\nimport { Button, Header, Label } from 'semantic-ui-react'\r\nimport { useStore } from '../../app/api/stores/store'\r\nimport MyTextInput from '../../app/common/form/MyTextInput'\r\nimport * as Yup from 'yup'\r\nimport ValidationErrors from '../Errors/ValidationErrors'\r\n\r\nfunction RegisterForm() {\r\n    const { userStore } = useStore();\r\n    return (\r\n        <Formik\r\n            initialValues={{ displayName: '', userName: '', email: '', password: '', error: null }}\r\n            onSubmit={(values, { setErrors }) => userStore.register(values)\r\n                .catch(error => {\r\n                    setErrors({ error })\r\n\r\n                })}\r\n            validationSchema={Yup.object({\r\n                displayName: Yup.string().required(),\r\n                userName: Yup.string().required(),\r\n                email: Yup.string().required().email(),\r\n                password: Yup.string().required()\r\n            })}\r\n        >\r\n            {({ handleSubmit, isSubmitting, isValid, dirty, errors }) => (\r\n                <Form className='ui form error' onSubmit={handleSubmit}>\r\n                    <Header as='h2' content='REGISTER TO REACTIVITIES' color='teal' textAlign='center' />\r\n                    <MyTextInput name='displayName' placeholder='Display Name' />\r\n                    <MyTextInput name='userName' placeholder='UserName' />\r\n                    <MyTextInput name='email' placeholder='Email' />\r\n                    <MyTextInput name='password' placeholder='Password' type='password' />\r\n                    <ErrorMessage name='error'\r\n                        render={() =>\r\n                            <ValidationErrors errors={errors.error} />\r\n                        } />\r\n\r\n                    <Button disabled={!isValid || !dirty || isSubmitting} loading={isSubmitting} positive content='Register' type='submit' fluid />\r\n\r\n                </Form>\r\n\r\n\r\n            )}\r\n        </Formik>\r\n    )\r\n}\r\n\r\nexport default observer(RegisterForm)","import React, { useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Button, Container, Divider, Header, Segment } from 'semantic-ui-react'\r\nimport { useStore } from '../../app/api/stores/store';\r\nimport LoginForm from '../users/LoginForm';\r\nimport RegisterForm from '../users/RegisterForm';\r\n\r\nfunction HomePage() {\r\n  const { userStore, modalStore, commonStore } = useStore();\r\n\r\n  useEffect(() => {\r\n\r\n    if (!commonStore.token) {\r\n      // @ts-ignore\r\n      google.accounts.id.initialize({\r\n        client_id: \"657495905393-lb0lcqjjipnugcs75m708q3ee4nvf7bg.apps.googleusercontent.com\",\r\n        callback: userStore.googleLogin,\r\n      });\r\n\r\n      // @ts-ignore\r\n      google.accounts.id.renderButton(\r\n        document.getElementById(\"buttonDiv\"),\r\n        { theme: \"outline\", size: \"large\" }  // customization attributes\r\n      );\r\n\r\n      // @ts-ignore\r\n      google.accounts.id.prompt((notification: any) => {\r\n        if (notification.isNotDisplayed()) {\r\n          console.log(\"Prompt was not displayed\");\r\n        } else if (notification.isSkippedMoment()) {\r\n          console.log(\"Prompt was skipped\");\r\n        } else if (notification.isDismissedMoment()) {\r\n          console.log(\"Prompt was dismissed\");\r\n        }\r\n      });\r\n\r\n    }\r\n\r\n\r\n  }, [commonStore.token, userStore])\r\n\r\n\r\n  return (\r\n    <Segment inverted textAlign='center' vertical className='masthead'>\r\n      <Container text>\r\n        <h1 className='ui inverted stackable header'>\r\n          <img src='/assets/logo.png' alt='logo' className='ui image massive' />\r\n          <div className='content'>Reactivities</div>\r\n        </h1>\r\n\r\n        {userStore.isLoggedIn ? (\r\n          <>\r\n            <h2 className='ui inverted stackable header'>\r\n              {`Welcome to Reactivities ${userStore.user!.displayName}`}\r\n            </h2>\r\n            <Button as={Link} to='/activities' size='huge' inverted>Go to Activities</Button>\r\n          </>\r\n\r\n        ) : (\r\n\r\n          <>\r\n            <h2>Do whatever you wanted to do</h2>\r\n            <h3>Go ahead and </h3>\r\n            <Button onClick={() => modalStore.openModal(<LoginForm />)} size='huge' color='teal'>Login!</Button>\r\n            <Button onClick={() => modalStore.openModal(<RegisterForm />)} size='huge' color='teal'>Register!</Button>\r\n            <Divider horizontal inverted>Or</Divider>\r\n            <Button\r\n              loading={userStore.fbLoading}\r\n              content='Login with Facebook'\r\n              icon='facebook'\r\n              color='facebook'\r\n              size='huge'\r\n              inverted\r\n              onClick={userStore.facebookLogin}\r\n            />\r\n            <Divider horizontal inverted>Or</Divider>\r\n            <Button\r\n              id=\"buttonDiv\"\r\n              loading={userStore.googleLoading}\r\n              // content='Login with Google'\r\n              icon='google'\r\n              // color='google plus'\r\n              // size='huge'\r\n              inverted\r\n\r\n            />\r\n\r\n          </>\r\n\r\n        )}\r\n\r\n      </Container>\r\n    </Segment>\r\n\r\n  )\r\n}\r\n\r\nexport default HomePage","import React from 'react'\r\nimport { Dimmer, Loader } from 'semantic-ui-react';\r\n\r\ninterface Props {\r\n    inverted?: boolean;\r\n    content: string;\r\n}\r\n\r\n\r\n\r\nfunction LoadingComponent({inverted = true, content = 'Loading...'} : Props) {\r\n  return (\r\n    <Dimmer active={true} inverted={inverted}>\r\n        <Loader content={content} />\r\n    </Dimmer>\r\n  )\r\n}\r\n\r\nexport default LoadingComponent","import { useField } from 'formik';\r\nimport React from 'react'\r\nimport { Form, Label } from 'semantic-ui-react';\r\n\r\ninterface Props {\r\n    placeholder: string;\r\n    name: string;\r\n    rows: number;\r\n    label?: string;\r\n}\r\n\r\nconst MyTextAreaInput = ({ label, ...props }: Props) => {\r\n    const [field, meta, helpers] = useField(props);\r\n    return (\r\n        <Form.Field error={meta.touched && !!meta.error}>\r\n            <label>\r\n                {label}\r\n                <textarea {...field} {...props} />\r\n            </label>\r\n            {meta.touched && meta.error ? (\r\n                <Label basic color='red' >{meta.error}</Label>\r\n            ) : null}\r\n        </Form.Field>\r\n    );\r\n};\r\n\r\nexport default MyTextAreaInput","import { useField } from 'formik';\r\nimport React from 'react'\r\nimport { Form, Label, Select } from 'semantic-ui-react';\r\n\r\ninterface Props {\r\n    placeholder: string;\r\n    name: string;\r\n    options: { key: string, text: string, value: string }[];\r\n    label?: string;\r\n}\r\n\r\nconst MyTextInput = ({ label, ...props }: Props) => {\r\n    const [field, meta, helpers] = useField(props);\r\n    return (\r\n        <Form.Field error={meta.touched && !!meta.error}>\r\n            <label>\r\n                {label}\r\n            </label>\r\n            <Select\r\n                clearable\r\n                options={props.options}\r\n                value={field.value}\r\n                onChange={(e, data) => helpers.setValue(data.value)}\r\n                onBlur={() => helpers.setTouched(true)}\r\n                placeholder={props.placeholder}\r\n            />\r\n            {meta.touched && meta.error ? (\r\n                <Label basic color='red' >{meta.error}</Label>\r\n            ) : null}\r\n        </Form.Field>\r\n    );\r\n};\r\n\r\nexport default MyTextInput","export const categoryOptions = [\r\n    { key: 'drinks', text: 'Drinks', value: 'drinks' },\r\n    { key: 'culture', text: 'Culture', value: 'culture' },\r\n    { key: 'film', text: 'Film', value: 'film' },\r\n    { key: 'food', text: 'Food', value: 'food' },\r\n    { key: 'music', text: 'Music', value: 'music' },\r\n    { key: 'travel', text: 'Travel', value: 'travel' },\r\n];\r\n\r\n","import { useField } from 'formik';\r\nimport React from 'react'\r\nimport { Form, Label } from 'semantic-ui-react';\r\nimport DatePicker, { ReactDatePickerProps } from \"react-datepicker\";\r\n\r\nconst MyDateInput = ({ ...props }: Partial<ReactDatePickerProps>) => {\r\n    const [field, meta, helpers] = useField(props.name!);\r\n    return (\r\n        <Form.Field error={meta.touched && !!meta.error}>\r\n            <DatePicker\r\n                {...field}\r\n                {...props}\r\n                selected={(field.value && new Date(field.value)) || null}\r\n                onChange={(date) => helpers.setValue(date)}\r\n                showTimeSelect\r\n                timeFormat=\"HH:mm\"\r\n                timeIntervals={15}\r\n                timeCaption=\"time\"\r\n                dateFormat=\"MMMM d, yyyy h:mm aa\"\r\n                placeholderText='Select Date'\r\n            />\r\n            {meta.touched && meta.error ? (\r\n                <Label basic color='red' >{meta.error}</Label>\r\n            ) : null}\r\n        </Form.Field>\r\n    );\r\n};\r\n\r\nexport default MyDateInput","import { observer } from 'mobx-react-lite';\r\nimport React, { useEffect, useState } from 'react'\r\nimport { Link, useHistory, useParams } from 'react-router-dom';\r\nimport { Button, Segment } from 'semantic-ui-react'\r\nimport { useStore } from '../../../app/api/stores/store';\r\nimport LoadingComponent from '../../../app/layout/LoadingComponent';\r\nimport { ActivityFormValues } from '../../../app/models/activity';\r\nimport { v4 as uuid } from 'uuid';\r\nimport { Form, Formik } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport MyTextInput from '../../../app/common/form/MyTextInput';\r\nimport MyTextAreaInput from '../../../app/common/form/MyTextAreaInput';\r\nimport MySelectInput from '../../../app/common/form/MySelectInput';\r\nimport { categoryOptions } from '../../../app/common/options/CategoryOptions';\r\nimport MyDateInput from '../../../app/common/form/MyDateInput';\r\n\r\n\r\n\r\nexport default observer(function ActivityForm() {\r\n    const { activityStore } = useStore();\r\n    const { isLoading, initialLoading, createActivity, updateActivity, loadActivity } = activityStore;\r\n    const { id } = useParams<{ id: string }>();\r\n    const history = useHistory();\r\n\r\n    const [activity, setActivity] = useState<ActivityFormValues>(new ActivityFormValues);\r\n\r\n    useEffect(() => {\r\n        if (id) loadActivity(id)\r\n            .then(activity => setActivity(new ActivityFormValues(activity)));\r\n    }, [loadActivity, id]);\r\n\r\n    const validationSchema = Yup.object({\r\n        title: Yup.string().required('The activity title is required'),\r\n        description: Yup.string().required('The activity description is required'),\r\n        category: Yup.string().required(),\r\n        date: Yup.string().required('Date is required').nullable(),\r\n        venue: Yup.string().required(),\r\n        city: Yup.string().required()\r\n    });\r\n\r\n\r\n    const hanldleFormSubmit = (activity: ActivityFormValues) => {\r\n        if (!activity.id) {\r\n\r\n            let newActivity = {\r\n                ...activity,\r\n                id: uuid()\r\n            }\r\n\r\n            createActivity(newActivity).then(() => history.push(`/activities/${newActivity.id}`));\r\n        } else {\r\n            updateActivity(activity).then(() => history.push(`/activities/${activity.id}`));\r\n        }\r\n    }\r\n\r\n    if (initialLoading) return <LoadingComponent content='Loading activity...' />\r\n\r\n    return (\r\n        <Segment clearing>\r\n            <Formik\r\n                validationSchema={validationSchema}\r\n                enableReinitialize\r\n                initialValues={activity}\r\n                onSubmit={values => hanldleFormSubmit(values)}>\r\n                {({ handleSubmit, isSubmitting }) => (\r\n                    <Form className='ui form' onSubmit={handleSubmit} autoComplete='off'>\r\n                        <MyTextInput name='title' placeholder='Title' />\r\n                        <MyTextAreaInput rows={3} name='description' placeholder='Description' />\r\n                        <MySelectInput options={categoryOptions} name='category' placeholder='Category' />\r\n                        <MyDateInput name='date' />\r\n                        <MyTextInput name='city' placeholder='City' />\r\n                        <MyTextInput name='venue' placeholder='Venue' />\r\n                        <Button loading={isSubmitting} floated='right' positive type='submit' content='Submit' />\r\n                        <Button as={Link} to='/activities' floated='right' type='button' content='Cancel' />\r\n\r\n                    </Form>\r\n                )}\r\n            </Formik>\r\n        </Segment>\r\n    )\r\n})\r\n","import { Field, FieldProps, Form, Formik } from 'formik'\r\nimport { observer } from 'mobx-react-lite'\r\nimport React, { ReactNode, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Segment, Header, Comment, Button, Loader } from 'semantic-ui-react'\r\nimport { useStore } from '../../../app/api/stores/store'\r\nimport MyTextAreaInput from '../../../app/common/form/MyTextAreaInput'\r\nimport * as Yup from 'yup'\r\nimport { text } from 'stream/consumers'\r\nimport { formatDistanceToNow } from 'date-fns'\r\n\r\ninterface Props {\r\n    activityId: string\r\n}\r\n\r\nexport default observer(function ActivityDetailedChat({ activityId }: Props) {\r\n    const { commentStore } = useStore();\r\n\r\n    useEffect(() => {\r\n        if (activityId) {\r\n            commentStore.createHubConnection(activityId);\r\n        }\r\n        return () => {\r\n            commentStore.clearComments();\r\n        }\r\n    }, [commentStore, activityId])\r\n\r\n\r\n    return (\r\n        <>\r\n            <Segment\r\n                textAlign='center'\r\n                attached='top'\r\n                inverted\r\n                color='teal'\r\n                style={{ border: 'none' }}\r\n            >\r\n                <Header>Chat about this event</Header>\r\n            </Segment>\r\n            <Segment attached clearing>\r\n                <Formik\r\n                    initialValues={{ body: '', activityId }}\r\n                    onSubmit={(values, { resetForm }) => commentStore.addComment(values).then(() => resetForm())}\r\n                    validationSchema={Yup.object({\r\n                        body: Yup.string().required()\r\n                    })}\r\n                >\r\n                    {({ handleSubmit, isSubmitting, isValid, dirty }) => (\r\n                        <Form className='ui form'>\r\n                            <Field name='body'>\r\n                                {(props: FieldProps) => (\r\n                                    <div style={{ position: 'relative' }}>\r\n                                        <Loader active={isSubmitting} />\r\n                                        <textarea\r\n                                            rows={2}\r\n                                            {...props.field}\r\n                                            onKeyPress={e => {\r\n                                                if (e.key === 'Enter' && e.shiftKey) {\r\n                                                    return;\r\n                                                }\r\n                                                if (e.key === 'Enter' && !e.shiftKey) {\r\n                                                    e.preventDefault();\r\n                                                    isValid && dirty && handleSubmit();\r\n                                                }\r\n                                            }}\r\n                                            placeholder='Add your comment, (Enter to submit, Shift + Enter for new line)'\r\n                                        />\r\n                                    </div>\r\n                                )}\r\n\r\n                            </Field>\r\n                        </Form>\r\n                    )}\r\n\r\n                </Formik>\r\n                <Comment.Group>\r\n                    {commentStore.comments.map((comment) => (\r\n                        <Comment key={comment.id}>\r\n                            <Comment.Avatar src={comment.image || '/assets/user.png'} />\r\n                            <Comment.Content>\r\n                                <Comment.Author as={Link} to={`/profiles/${comment.userName}`}>{comment.displayName}</Comment.Author>\r\n                                <Comment.Metadata>\r\n                                    <div>{formatDistanceToNow(comment.createdAt)} ago </div>\r\n                                </Comment.Metadata>\r\n                                <Comment.Text style={{ whiteSpace: 'pre-wrap' }}>{comment.body}</Comment.Text>\r\n                            </Comment.Content>\r\n                        </Comment>\r\n                    ))}\r\n\r\n                </Comment.Group>\r\n            </Segment>\r\n        </>\r\n\r\n    )\r\n})\r\n","import { observer } from 'mobx-react-lite';\r\nimport React from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport { Button, Header, Item, Segment, Image, Label, } from 'semantic-ui-react'\r\nimport { Activity } from \"../../../app/models/activity\";\r\nimport { format } from 'date-fns';\r\nimport { useStore } from '../../../app/api/stores/store';\r\n\r\nconst activityImageStyle = {\r\n    filter: 'brightness(30%)'\r\n};\r\n\r\nconst activityImageTextStyle = {\r\n    position: 'absolute',\r\n    bottom: '5%',\r\n    left: '5%',\r\n    width: '100%',\r\n    height: 'auto',\r\n    color: 'white'\r\n};\r\n\r\ninterface Props {\r\n    activity: Activity\r\n}\r\n\r\nexport default observer(function ActivityDetailedHeader({ activity }: Props) {\r\n    const { activityStore: { isLoading, updateAttendance, } } = useStore();\r\n    return (\r\n        <Segment.Group>\r\n            <Segment basic attached='top' style={{ padding: '0' }}>\r\n                {activity.isCancelled &&\r\n                    <Label style={{ position: 'absolute', left: '-14', top: '20', zIndex: '100' }} ribbon color='red' content=\"Cancelled\" />\r\n\r\n                }\r\n                <Image src={`/assets/categoryImages/${activity.category}.jpg`} fluid style={activityImageStyle} />\r\n                <Segment style={activityImageTextStyle} basic>\r\n                    <Item.Group>\r\n                        <Item>\r\n                            <Item.Content>\r\n                                <Header\r\n                                    size='huge'\r\n                                    content={activity.title}\r\n                                    style={{ color: 'white' }}\r\n                                />\r\n                                <p>{activity.date && format(activity.date, 'dd MMM yyyy')}</p>\r\n                                <p>\r\n                                    Hosted by <strong>\r\n                                        <Link to={`/profiles/${activity.host && activity.host.userName}`}>\r\n                                            {activity.host && activity.host.displayName}\r\n                                        </Link>\r\n                                    </strong>\r\n                                </p>\r\n                            </Item.Content>\r\n                        </Item>\r\n                    </Item.Group>\r\n                </Segment>\r\n            </Segment>\r\n            <Segment clearing attached='bottom'>\r\n\r\n                {activity.isHost ?\r\n                    <Button loading={isLoading} onClick={updateAttendance} className={`${activity.isCancelled ? 'green' : 'basic red'}`}>{\r\n                        activity.isCancelled ? 'Reactivate Activity' : 'Cancel Activity'\r\n                    }</Button>\r\n                    :\r\n                    <Button loading={isLoading} onClick={updateAttendance} color='teal'>{\r\n                        activity.isGoing ? 'Cancel attendance' : 'Join Activity'\r\n                    }</Button>\r\n                }\r\n\r\n                {\r\n                    activity.isHost && <Button as={Link} to={`/createActivity/edit/${activity.id}`} color='orange' floated='right' disabled={activity.isCancelled}>\r\n                        Manage Event\r\n                    </Button>\r\n                }\r\n            </Segment>\r\n        </Segment.Group>\r\n    )\r\n})\r\n\r\n","import { observer } from 'mobx-react-lite';\r\nimport React from 'react'\r\nimport { Segment, Grid, Icon } from 'semantic-ui-react'\r\nimport { Activity } from \"../../../app/models/activity\";\r\nimport { format } from 'date-fns';\r\n\r\ninterface Props {\r\n    activity: Activity\r\n}\r\n\r\nexport default observer(function ActivityDetailedInfo({ activity }: Props) {\r\n    return (\r\n        <Segment.Group>\r\n            <Segment attached='top'>\r\n                <Grid>\r\n                    <Grid.Column width={1}>\r\n                        <Icon size='large' color='teal' name='info' />\r\n                    </Grid.Column>\r\n                    <Grid.Column width={15}>\r\n                        <p>{activity.description}</p>\r\n                    </Grid.Column>\r\n                </Grid>\r\n            </Segment>\r\n            <Segment attached>\r\n                <Grid verticalAlign='middle'>\r\n                    <Grid.Column width={1}>\r\n                        <Icon name='calendar' size='large' color='teal' />\r\n                    </Grid.Column>\r\n                    <Grid.Column width={15}>\r\n                        <span>\r\n                            {format(new Date(activity.date!), 'dd MMM yyyy h:mm aa')}\r\n                        </span>\r\n                    </Grid.Column>\r\n                </Grid>\r\n            </Segment>\r\n            <Segment attached>\r\n                <Grid verticalAlign='middle'>\r\n                    <Grid.Column width={1}>\r\n                        <Icon name='marker' size='large' color='teal' />\r\n                    </Grid.Column>\r\n                    <Grid.Column width={11}>\r\n                        <span>{activity.venue}, {activity.city}</span>\r\n                    </Grid.Column>\r\n                </Grid>\r\n            </Segment>\r\n        </Segment.Group>\r\n    )\r\n})\r\n","import React from 'react'\r\nimport { Segment, List, Label, Item, Image } from 'semantic-ui-react'\r\nimport { Link } from 'react-router-dom'\r\nimport { observer } from 'mobx-react-lite'\r\nimport { Activity } from '../../../app/models/activity'\r\n\r\ninterface Props {\r\n    activity: Activity\r\n}\r\n\r\nexport default observer(function ActivityDetailedSidebar({ activity }: Props) {\r\n    const { attendees, hostUsername } = activity;\r\n\r\n    if (!attendees) return null\r\n    return (\r\n        <>\r\n            <Segment\r\n                textAlign='center'\r\n                style={{ border: 'none' }}\r\n                attached='top'\r\n                secondary\r\n                inverted\r\n                color='teal'\r\n            >\r\n                {attendees.length} {attendees.length < 2 ? 'Person is' : 'People are'} Going\r\n            </Segment>\r\n            <Segment attached>\r\n                <List relaxed divided>\r\n                    {attendees.map(attendee => (\r\n                        <Item style={{ position: 'relative' }} key={attendee.userName}>\r\n                            {attendee.userName === hostUsername &&\r\n                                <Label\r\n                                    style={{ position: 'absolute' }}\r\n                                    color='orange'\r\n                                    ribbon='right'\r\n                                >\r\n                                    Host\r\n                                </Label>\r\n                            }\r\n                            <Image size='tiny' src={attendee.image || '/assets/user.png'} />\r\n                            <Item.Content verticalAlign='middle'>\r\n                                <Item.Header as='h3'>\r\n                                    <Link to={`/profile${attendee.userName}`}>{attendee.displayName}</Link>\r\n                                </Item.Header>\r\n                                {\r\n                                    attendee.following &&\r\n                                    <Item.Extra style={{ color: 'orange' }}>Following</Item.Extra>\r\n                                }\r\n                            </Item.Content>\r\n                        </Item>\r\n                    ))}\r\n                </List>\r\n            </Segment>\r\n        </>\r\n    )\r\n})\r\n\r\n\r\n","import { observer } from 'mobx-react-lite';\r\nimport React, { useEffect } from 'react'\r\nimport { useParams } from 'react-router-dom';\r\nimport { Grid } from 'semantic-ui-react'\r\nimport { useStore } from '../../../app/api/stores/store';\r\nimport LoadingComponent from '../../../app/layout/LoadingComponent';\r\nimport ActivityDetailedChat from './ActivityDetailedChat';\r\nimport ActivityDetailedHeader from './ActivityDetailedHeader';\r\nimport ActivityDetailedInfo from './ActivityDetailedInfo';\r\nimport ActivityDetailedSidebar from './ActivityDetailedSidebar';\r\n\r\n\r\nexport default observer(function ActivityDetails() {\r\n    const { activityStore } = useStore();\r\n    const { id } = useParams<{ id: string }>();\r\n    const { selectedActivity: activity, loadActivity, clearSelectedActivity } = activityStore;\r\n\r\n    useEffect(() => {\r\n        if (id) loadActivity(id);\r\n        return () => {\r\n            clearSelectedActivity();\r\n        }\r\n    }, [id, loadActivity, clearSelectedActivity]);\r\n\r\n\r\n\r\n    if (!activity) return <LoadingComponent content='Activity loading...' />\r\n    return (\r\n        <Grid>\r\n            <Grid.Column width={10}>\r\n                <ActivityDetailedHeader activity={activity} />\r\n                <ActivityDetailedInfo activity={activity} />\r\n                <ActivityDetailedChat activityId={activity.id} />\r\n            </Grid.Column>\r\n            <Grid.Column width={6}>\r\n                <ActivityDetailedSidebar activity={activity} />\r\n            </Grid.Column>\r\n        </Grid>\r\n    )\r\n})\r\n","\r\nimport React, { useState } from 'react';\r\nimport { Button, Header, Segment } from \"semantic-ui-react\";\r\nimport axios from 'axios';\r\nimport ValidationErrors from './ValidationErrors';\r\n\r\nexport default function TestErrors() {\r\n    const baseUrl = process.env.REACT_APP_API_URL\r\n    const [errors, setErrors] = useState<[]>([]);\r\n\r\n\r\n    function handleNotFound() {\r\n        axios.get(baseUrl + 'buggy/not-found').catch(err => console.log(err.response));\r\n    }\r\n\r\n    function handleBadRequest() {\r\n        axios.get(baseUrl + 'buggy/bad-request').catch(err => console.log(err.response));\r\n    }\r\n\r\n    function handleServerError() {\r\n        axios.get(baseUrl + 'buggy/server-error').catch(err => console.log(err.response));\r\n    }\r\n\r\n    function handleUnauthorised() {\r\n        axios.get(baseUrl + 'buggy/unauthorised').catch(err => console.log(err.response));\r\n    }\r\n\r\n    function handleBadGuid() {\r\n        axios.get(baseUrl + 'activities/notaguid').catch(err => console.log(err.response));\r\n    }\r\n\r\n    function handleValidationError() {\r\n        axios.post(baseUrl + 'activities', {}).catch(err => setErrors(err));\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Header as='h1' content='Test Error component' />\r\n            <Segment>\r\n                <Button.Group widths='7'>\r\n                    <Button onClick={handleNotFound} content='Not Found' basic primary />\r\n                    <Button onClick={handleBadRequest} content='Bad Request' basic primary />\r\n                    <Button onClick={handleValidationError} content='Validation Error' basic primary />\r\n                    <Button onClick={handleServerError} content='Server Error' basic primary />\r\n                    <Button onClick={handleUnauthorised} content='Unauthorised' basic primary />\r\n                    <Button onClick={handleBadGuid} content='Bad Guid' basic primary />\r\n                </Button.Group>\r\n            </Segment>\r\n            {errors.length > 0 && <ValidationErrors errors={errors} />}\r\n\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Button, Header, Icon, Segment } from 'semantic-ui-react'\r\n\r\nfunction NotFound() {\r\n    return (\r\n        <Segment placeholder>\r\n            <Header icon>\r\n                <Icon name='search' />\r\n                Sorry, we couldn't find what you're looking for.\r\n            </Header>\r\n            <Segment.Inline>\r\n                <Button as={Link} to='/activities' primary>\r\n                    Return to Activities page\r\n                </Button>\r\n            </Segment.Inline>\r\n        </Segment>\r\n    )\r\n}\r\n\r\nexport default NotFound","\r\nimport { observer } from 'mobx-react-lite';\r\nimport React from 'react'\r\nimport { Container, Header, Segment } from 'semantic-ui-react';\r\nimport { useStore } from '../../app/api/stores/store';\r\n\r\nexport default observer(function ServerError() {\r\n    const { commonStore } = useStore();\r\n\r\n    return (\r\n        <Container >\r\n            <Header as='h1' content='Server Error' />\r\n            <Header sub as='h5' color='red' content={commonStore.error && commonStore.error.message} />\r\n            {commonStore.error && commonStore.error.details &&\r\n\r\n                <Segment >\r\n                    <Header as='h4' content='Stack trace' color='teal' />\r\n                    <code style={{ marginTop: 10 }}>{commonStore.error.details}</code>\r\n                </Segment>\r\n            }\r\n\r\n        </Container>\r\n    )\r\n})","import { observer } from 'mobx-react-lite';\r\nimport React from 'react'\r\nimport { Modal } from 'semantic-ui-react'\r\nimport { useStore } from '../../api/stores/store';\r\n\r\nfunction ModalContainer() {\r\n    const { modalStore } = useStore();\r\n    return (\r\n        <Modal open={modalStore.modal.open} onClose={modalStore.closeModal} size='mini'>\r\n            <Modal.Content>\r\n                {modalStore.modal.body}\r\n            </Modal.Content>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nexport default observer(ModalContainer)","import { Form, Formik } from 'formik'\r\nimport { observer } from 'mobx-react-lite'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { Button, Header } from 'semantic-ui-react'\r\nimport MyTextAreaInput from '../../app/common/form/MyTextAreaInput'\r\nimport MyTextInput from '../../app/common/form/MyTextInput'\r\nimport * as Yup from 'yup'\r\nimport { Profile } from '../../app/models/profile'\r\n\r\n\r\ninterface Props {\r\n    profile: Profile,\r\n    updateProfile: (profile: Partial<Profile>) => void\r\n}\r\n\r\nfunction ProfileEditForm({ profile, updateProfile }: Props) {\r\n    const [profileFormValues, setProfileFormValues] = useState({ displayName: '', bio: '' });\r\n\r\n\r\n    const validationSchema = Yup.object({\r\n        displayName: Yup.string().required(),\r\n    })\r\n\r\n    useEffect(() => {\r\n        setProfileFormValues(\r\n            {\r\n                displayName: profile.displayName,\r\n                bio: profile.bio!\r\n            })\r\n    }, [])\r\n\r\n    return (\r\n        <Formik\r\n            initialValues={profileFormValues}\r\n            onSubmit={values => updateProfile(values)}\r\n            validationSchema={validationSchema}\r\n            enableReinitialize\r\n        >\r\n            {({ handleSubmit, isValid, isSubmitting, dirty }) => (\r\n                <Form className='ui form' onSubmit={handleSubmit} autoComplete='off'>\r\n                    <Header sub color='teal' content='Basics' />\r\n                    <MyTextInput name='displayName' placeholder='Display Name' />\r\n                    <MyTextAreaInput name='bio' placeholder='Bio' rows={3} />\r\n                    <Button\r\n                        loading={isSubmitting}\r\n                        disabled={isSubmitting || !dirty || !isValid}\r\n                        floated='right'\r\n                        positive\r\n                        type='submit'\r\n                        content='Update profile'\r\n                    />\r\n                </Form>\r\n            )}\r\n        </Formik>\r\n    )\r\n}\r\n\r\nexport default observer(ProfileEditForm)","import { observer } from 'mobx-react-lite';\r\nimport React, { useState } from 'react'\r\nimport { Button, Grid, Header, Tab } from 'semantic-ui-react'\r\nimport { useStore } from '../../app/api/stores/store';\r\nimport { Profile } from '../../app/models/profile';\r\nimport ProfileEditForm from './ProfileEditForm';\r\n\r\ninterface Props {\r\n    profile: Profile\r\n}\r\n\r\nfunction ProfileAbout({ profile }: Props) {\r\n    const { profileStore: { isCurrentUser, updateProfile } } = useStore();\r\n    const [editMode, setEditMode] = useState(false);\r\n\r\n    function handleUpdateProfile(editProfile: Partial<Profile>) {\r\n        updateProfile(editProfile).then(() => setEditMode(false));\r\n    }\r\n\r\n    return (\r\n        <Tab.Pane>\r\n            <Grid>\r\n                <Grid.Column width={16}>\r\n                    <Header floated='left' icon='user' content={`About ${profile.displayName}`} />\r\n                    {isCurrentUser && (\r\n                        <Button\r\n                            onClick={() => setEditMode(!editMode)}\r\n                            floated='right'\r\n                            basic\r\n                            content={editMode ? 'Cancel' : 'Edit Profile'}\r\n                        />\r\n                    )}\r\n                </Grid.Column>\r\n                <Grid.Column width={16}>\r\n                    {editMode ? (\r\n                        <ProfileEditForm profile={profile} updateProfile={handleUpdateProfile} />\r\n                    ) : (\r\n                        <p>\r\n                            {profile.bio}\r\n                        </p>\r\n                    )}\r\n                </Grid.Column>\r\n            </Grid>\r\n        </Tab.Pane>\r\n    )\r\n}\r\n\r\nexport default observer(ProfileAbout)","import { format } from 'date-fns';\r\nimport { observer } from 'mobx-react-lite'\r\nimport React, { SyntheticEvent, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport { Card, Grid, Header, Tab, TabProps, Image } from 'semantic-ui-react'\r\nimport { useStore } from '../../app/api/stores/store';\r\nimport { UserActivity } from '../../app/models/profile';\r\n\r\n\r\nfunction ProfileActivities() {\r\n\r\n    const { profile, loadingActivities, loadUserActivities, userActivities } = useStore().profileStore;\r\n\r\n    useEffect(() => {\r\n        loadUserActivities(profile!.userName, 'future');\r\n    }, [loadUserActivities, profile]);\r\n\r\n\r\n    const handleTabChange = (e: SyntheticEvent, data: TabProps) => {\r\n        loadUserActivities(profile!.userName, panes[data.activeIndex as\r\n            number].menuItem.split(' ')[0].toLowerCase());\r\n    };\r\n\r\n\r\n    const panes = [\r\n        { menuItem: 'Future Event' },\r\n        { menuItem: 'Pass Event' },\r\n        { menuItem: 'Hosting' },\r\n\r\n    ]\r\n\r\n    return (\r\n        <Tab.Pane loading={loadingActivities}>\r\n            <Grid>\r\n                <Grid.Column width={16}>\r\n                    <Header floated='left' icon='calendar'\r\n                        content={'Activities'} />\r\n                </Grid.Column>\r\n                <Grid.Column width={16}>\r\n                    <Tab\r\n                        panes={panes}\r\n                        menu={{ secondary: true, pointing: true }}\r\n                        onTabChange={(e, data) => handleTabChange(e, data)}\r\n                    />\r\n                    <br />\r\n                    <Card.Group itemsPerRow={4}>\r\n                        {userActivities && userActivities.map((activity: UserActivity) => (\r\n                            <Card\r\n                                as={Link}\r\n                                to={`/activities/${activity.id}`}\r\n                                key={activity.id}>\r\n                                <Image\r\n                                    src={`/assets/categoryImages/${activity.category}.jpg`}\r\n                                    style={{\r\n                                        minHeight: 100, objectFit:\r\n                                            'cover'\r\n                                    }}\r\n                                />\r\n                                <Card.Content>\r\n                                    <Card.Header\r\n                                        textAlign='center'>{activity.title}</Card.Header>\r\n                                    <Card.Meta textAlign='center'>\r\n                                        <div>{format(new Date(activity.date),\r\n                                            'do LLL')}</div>\r\n                                        <div>{format(new Date(activity.date),\r\n                                            'h:mm a')}</div>\r\n                                    </Card.Meta>\r\n                                </Card.Content>\r\n                            </Card>\r\n                        ))}\r\n                    </Card.Group>\r\n                </Grid.Column>\r\n            </Grid>\r\n        </Tab.Pane>\r\n    );\r\n}\r\n\r\nexport default observer(ProfileActivities)","import { observer } from 'mobx-react-lite'\r\nimport React, { useEffect } from 'react'\r\nimport { Card, Grid, Header, Tab } from 'semantic-ui-react'\r\nimport { useStore } from '../../app/api/stores/store'\r\nimport ProfileCard from './ProfileCard'\r\n\r\ninterface Props {\r\n    predicate: string\r\n}\r\n\r\nfunction ProfileFollowings({ predicate }: Props) {\r\n    const { profile, followings, loadFollowings, loading, clearFollowings } = useStore().profileStore\r\n    useEffect(() => {\r\n        loadFollowings(predicate)\r\n\r\n        return () => {\r\n            clearFollowings()\r\n        }\r\n    }, [profile, predicate])\r\n\r\n    return (\r\n        <Tab.Pane loading={loading}>\r\n            <Grid>\r\n                <Grid.Column width={16}>\r\n                    <Header content={\r\n                        predicate === 'followers' ? `People following ${profile!.displayName}` : `people ${profile!.displayName} is following`} />\r\n                </Grid.Column>\r\n                <Grid.Column width={16}>\r\n                    <Card.Group itemsPerRow={4}>\r\n                        {\r\n                            followings.map(profile => (\r\n                                <ProfileCard key={profile.userName} Profile={profile} />\r\n                            ))\r\n                        }\r\n                    </Card.Group>\r\n                </Grid.Column>\r\n            </Grid>\r\n        </Tab.Pane>\r\n\r\n    )\r\n}\r\n\r\nexport default observer(ProfileFollowings)","import React from 'react'\r\nimport { Cropper } from 'react-cropper'\r\nimport 'cropperjs/dist/cropper.css'\r\n\r\ninterface Props {\r\n    setCropper: (cropper: Cropper) => void;\r\n    imagePreview: string;\r\n}\r\n\r\nfunction PhotoWidgetCropper({ setCropper, imagePreview }: Props) {\r\n    return (\r\n        <Cropper\r\n            src={imagePreview}\r\n            style={{ height: 200, width: '100%', objectFit: 'cover' }}\r\n            initialAspectRatio={1}\r\n            aspectRatio={1}\r\n            preview='.img-preview'\r\n            guides={false}\r\n            viewMode={1}\r\n            autoCropArea={1}\r\n            background={false}\r\n            dragMode='move'\r\n            scalable={false}\r\n            // cropBoxMovable={true}\r\n            // cropBoxResizable={true}\r\n            onInitialized={(cropper) => setCropper(cropper)}\r\n        // crop={this.cropImage}\r\n        />\r\n    )\r\n}\r\n\r\nexport default PhotoWidgetCropper","import React, { useCallback } from 'react'\r\nimport { useDropzone } from 'react-dropzone'\r\nimport { Header, Icon } from 'semantic-ui-react';\r\n\r\ninterface Props {\r\n    setFiles: (files: object[]) => void;\r\n}\r\n\r\nfunction PhotoWidgetDropzone({ setFiles }: Props) {\r\n    const dzStyles = {\r\n        border: 'dashed 3px',\r\n        borderColor: '#eee',\r\n        borderRadius: '5px',\r\n        paddingTop: '30px',\r\n        textAlign: 'center' as 'center',\r\n        height: '200px'\r\n    }\r\n\r\n    const dzActive = {\r\n        borderColor: 'green'\r\n    }\r\n\r\n    const onDrop = useCallback((acceptedFiles: any) => {\r\n        setFiles(\r\n            acceptedFiles.map((file: any) =>\r\n                Object.assign(file, {\r\n                    preview: URL.createObjectURL(file)\r\n                })\r\n            )\r\n        );\r\n    }, [setFiles])\r\n    const { getRootProps, getInputProps, isDragActive } = useDropzone({ onDrop })\r\n\r\n    return (\r\n        <div {...getRootProps()} style={isDragActive ? { ...dzStyles, ...dzActive } : dzStyles}>\r\n            <input {...getInputProps()} />\r\n            <Icon name='upload' size='huge' />\r\n            <Header content='Drop image here' />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PhotoWidgetDropzone","import React, { useState, useEffect } from 'react'\r\nimport { Button, Grid, Header } from 'semantic-ui-react'\r\nimport { useStore } from '../../api/stores/store';\r\nimport PhotoWidgetCropper from './PhotoWidgetCropper';\r\nimport PhotoWidgetDropzone from './PhotoWidgetDropzone'\r\n\r\ninterface Props {\r\n    loading: boolean;\r\n    uploadPhoto: (file: Blob) => void;\r\n}\r\n\r\nfunction ImageUploadWidget({ loading, uploadPhoto }: Props) {\r\n    const [files, setFiles] = useState<any[]>([]);\r\n    const [cropper, setCropper] = useState<Cropper>();\r\n\r\n    function onCrop() {\r\n        if (cropper) {\r\n            cropper.getCroppedCanvas().toBlob(blob => {\r\n                uploadPhoto(blob!);\r\n            }, 'image/jpeg')\r\n        }\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            files.forEach(file => URL.revokeObjectURL(file.preview));\r\n        }\r\n    }, [files])\r\n\r\n\r\n    return (\r\n        <Grid>\r\n            <Grid.Column width={4}>\r\n                <Header color='teal' sub content='Step 1 - Add Photo' />\r\n                <PhotoWidgetDropzone setFiles={setFiles} />\r\n            </Grid.Column>\r\n            <Grid.Column width={1} />\r\n            <Grid.Column width={4}>\r\n                <Header color='teal' sub content='Step 2 - Resize image ' />\r\n                {files && files.length > 0 && (\r\n                    <PhotoWidgetCropper setCropper={setCropper} imagePreview={files[0].preview} />\r\n                )}\r\n            </Grid.Column>\r\n            <Grid.Column width={1} />\r\n            <Grid.Column width={4}>\r\n                <Header color='teal' sub content='Step 3 - Preview & upload' />\r\n                {files && files.length > 0 && (\r\n                    <>\r\n                        <div className='img-preview' style={{ minHeight: 200, overflow: 'hidden' }}>\r\n                        </div>\r\n                        <Button.Group widths={2}>\r\n                            <Button loading={loading} onClick={onCrop} positive icon='check' />\r\n                            <Button disabled={loading} onClick={() => setFiles([])} icon='close' />\r\n                        </Button.Group>\r\n                    </>\r\n                )}\r\n            </Grid.Column>\r\n\r\n        </Grid>\r\n    )\r\n}\r\n\r\nexport default ImageUploadWidget\r\n","import { observer } from 'mobx-react-lite'\r\nimport React, { SyntheticEvent, useState } from 'react'\r\nimport { Button, Card, Grid, Header, Image, Tab } from 'semantic-ui-react'\r\nimport { useStore } from '../../app/api/stores/store'\r\nimport ImageUploadWidget from '../../app/common/imageUpload/ImageUploadWidget'\r\nimport { Photo, Profile } from '../../app/models/profile'\r\n\r\ninterface Props {\r\n    profile: Profile\r\n}\r\n\r\nfunction ProfilePhotos({ profile }: Props) {\r\n    const { profileStore: { isCurrentUser, uploadingPhoto, uploadPhoto, loading, setMainPhoto, deletePhoto } } = useStore();\r\n    const [addPhotoMode, setAddPhotoMode] = useState(false);\r\n    const [target, setTarget] = useState('');\r\n    const [deleteTarget, setDeleteTarget] = useState(false);\r\n\r\n    function handleSetMainPhoto(photo: Photo, e: SyntheticEvent<HTMLButtonElement>) {\r\n        setTarget(e.currentTarget.name);\r\n        setMainPhoto(photo);\r\n    }\r\n\r\n    function handleDeletePhoto(photo: Photo, e: SyntheticEvent<HTMLButtonElement>) {\r\n        setTarget(e.currentTarget.name);\r\n        setDeleteTarget(true);\r\n        deletePhoto(photo);\r\n    }\r\n\r\n    function handleUploadImage(file: Blob) {\r\n        uploadPhoto(file).then(() => setAddPhotoMode(false));\r\n    }\r\n\r\n    return (\r\n        <Tab.Pane>\r\n            <Grid>\r\n                <Grid.Column width={16}>\r\n                    <Header floated='left' icon='image' content='Photos' />\r\n                    {isCurrentUser && (\r\n                        <Button\r\n                            onClick={() => setAddPhotoMode(!addPhotoMode)}\r\n                            floated='right'\r\n                            basic\r\n                            content={addPhotoMode ? 'Cancel' : 'Add Photo'}\r\n                        />\r\n                    )}\r\n                </Grid.Column>\r\n                <Grid.Column width={16}>\r\n                    {addPhotoMode ? (\r\n                        <ImageUploadWidget\r\n                            uploadPhoto={handleUploadImage}\r\n                            loading={uploadingPhoto}\r\n                        />\r\n                    ) : (\r\n                        <Card.Group itemsPerRow={5}>\r\n                            {profile.photos!.map((photo) => (\r\n                                <Card key={photo.id}>\r\n                                    <Image src={photo.url} />\r\n                                    {isCurrentUser && (\r\n                                        <Button.Group fluid widths={2}>\r\n                                            <Button\r\n\r\n                                                basic\r\n                                                positive\r\n                                                content='Main'\r\n                                                name={photo.id}\r\n                                                onClick={e => handleSetMainPhoto(photo, e)}\r\n                                                disabled={photo.isMain}\r\n                                                loading={loading && target === photo.id && !deleteTarget}\r\n                                            />\r\n                                            <Button\r\n                                                basic\r\n                                                negative\r\n                                                icon='trash'\r\n                                                name={photo.id}\r\n                                                onClick={e => handleDeletePhoto(photo, e)}\r\n                                                disabled={photo.isMain}\r\n                                                loading={loading && target === photo.id && deleteTarget}\r\n                                            />\r\n                                        </Button.Group>\r\n                                    )}\r\n                                </Card>\r\n                            ))}\r\n                        </Card.Group>\r\n                    )}\r\n                </Grid.Column>\r\n            </Grid>\r\n        </Tab.Pane>\r\n\r\n    )\r\n}\r\n\r\nexport default observer(ProfilePhotos)","import { observer } from 'mobx-react-lite'\r\nimport React from 'react'\r\nimport { Tab } from 'semantic-ui-react'\r\nimport { Profile } from '../../app/models/profile'\r\nimport ProfileAbout from './ProfileAbout'\r\nimport ProfileActivities from './ProfileActivities'\r\nimport ProfileFollowings from './ProfileFollowings'\r\nimport ProfilePhotos from './ProfilePhotos'\r\n\r\ninterface Props {\r\n    profile: Profile\r\n}\r\n\r\nfunction ProfileContent({ profile }: Props) {\r\n    const panes = [\r\n        { menuItem: 'About', render: () => <ProfileAbout profile={profile} /> },\r\n        { menuItem: 'Photos', render: () => <ProfilePhotos profile={profile} /> },\r\n        {\r\n            menuItem: 'Events', render: () => <ProfileActivities />\r\n        },\r\n        { menuItem: 'Followers', render: () => <ProfileFollowings predicate='followers' /> },\r\n        { menuItem: 'Following', render: () => <ProfileFollowings predicate='following' /> },\r\n    ]\r\n\r\n    return (\r\n\r\n        <Tab menu={{ fluid: true, vertical: true }} menuPosition='right' panes={panes} />\r\n    )\r\n}\r\n\r\nexport default observer(ProfileContent)","import { observer } from 'mobx-react-lite'\r\nimport React from 'react'\r\nimport { Button, Divider, Grid, Item, ItemGroup, Reveal, Segment, Statistic, StatisticGroup } from 'semantic-ui-react'\r\nimport { Profile } from '../../app/models/profile'\r\nimport FollowButton from './FollowButton'\r\n\r\n\r\ninterface Props {\r\n    profile: Profile\r\n}\r\n\r\nfunction ProfileHeader({ profile }: Props) {\r\n\r\n    return (\r\n        <Segment>\r\n            <Grid>\r\n                <Grid.Column width={12}>\r\n                    <ItemGroup>\r\n                        <Item>\r\n                            <Item.Image avatar size='small' circular src={profile.image || '/assets/user.png'} />\r\n                            <Item.Content verticalAlign='middle'>\r\n                                <Item.Header as='h1'>{profile.displayName}</Item.Header>\r\n                            </Item.Content>\r\n                        </Item>\r\n                    </ItemGroup>\r\n                </Grid.Column>\r\n                <Grid.Column width={4}>\r\n                    <StatisticGroup widths={2}>\r\n                        <Statistic label='Followers' value={profile.followersCount} />\r\n                        <Statistic label='Following' value={profile.followingCount} />\r\n                    </StatisticGroup>\r\n                    <Divider />\r\n                    <FollowButton profile={profile} />\r\n                </Grid.Column>\r\n            </Grid>\r\n        </Segment>\r\n    )\r\n}\r\n\r\nexport default observer(ProfileHeader)","import { observer } from 'mobx-react-lite'\r\nimport React, { useEffect } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport { Grid } from 'semantic-ui-react'\r\nimport { useStore } from '../../app/api/stores/store'\r\nimport LoadingComponent from '../../app/layout/LoadingComponent'\r\nimport ProfileContent from './ProfileContent'\r\nimport ProfileHeader from './ProfileHeader'\r\n\r\nfunction ProfilePage() {\r\n    const { userName } = useParams<{ userName: string }>()\r\n    const { loadingProfile, profile, loadProfile } = useStore().profileStore\r\n\r\n    useEffect(() => {\r\n        loadProfile(userName)\r\n    }, [loadProfile, userName])\r\n\r\n    if (loadingProfile) return <LoadingComponent content='Loading profile...' />\r\n    return (\r\n        <Grid>\r\n            <Grid.Column width={16}>\r\n                {\r\n                    profile &&\r\n                    <>\r\n                        <ProfileHeader profile={profile} />\r\n\r\n                        <ProfileContent profile={profile!} />\r\n                    </>\r\n                }\r\n            </Grid.Column>\r\n        </Grid>\r\n    )\r\n}\r\n\r\nexport default observer(ProfilePage)","import React from 'react';\r\nimport { observer } from \"mobx-react-lite\";\r\nimport { RouteProps, Route, Redirect } from \"react-router-dom\";\r\nimport { useStore } from \"../api/stores/store\";\r\n\r\ninterface Props extends RouteProps {\r\n    component: React.ComponentType<any>;\r\n}\r\n\r\nexport default observer(function PrivateRoute({ component: Component, ...rest }: Props) {\r\n    const { userStore } = useStore();\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={(props) => userStore.isLoggedIn ? <Component {...props} /> : <Redirect to={'/'} />}\r\n        />\r\n    )\r\n})","import React, { useEffect } from 'react'\r\nimport { Container } from 'semantic-ui-react';\r\nimport NavBar from './layout/NavBar';\r\nimport ActivityDashboard from '../features/activities/dashboard/ActivityDashboard';\r\nimport { observer } from 'mobx-react-lite';\r\nimport { Route, Switch, useLocation } from 'react-router-dom';\r\nimport HomePage from '../features/home/HomePage';\r\nimport ActivityForm from '../features/activities/form/ActivityForm';\r\nimport ActivityDetails from '../features/activities/details/ActivityDetails';\r\nimport TestErrors from '../features/Errors/TestErrors';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport NotFound from '../features/Errors/NotFound';\r\nimport ServerError from '../features/Errors/ServerError';\r\nimport { useStore } from './api/stores/store';\r\nimport LoadingComponent from './layout/LoadingComponent';\r\nimport ModalContainer from './common/modal/ModalContainer';\r\nimport ProfilePage from '../features/profiles/ProfilePage';\r\nimport PrivateRoute from './layout/PrivateRoute';\r\ndeclare var google: any;\r\nfunction App() {\r\n  const location = useLocation();\r\n  const { userStore, commonStore } = useStore();\r\n\r\n  useEffect(\r\n    () => {\r\n      if (commonStore.token) {\r\n        userStore.getUser().finally(() => commonStore.setAppLoaded());\r\n      } else {\r\n        userStore.getFacebookLoginStatus().finally(() => commonStore.setAppLoaded());\r\n\r\n      }\r\n    }, [commonStore, userStore])\r\n\r\n  if (!commonStore.appLoaded) return <LoadingComponent content='Loading app...' />\r\n  return (\r\n    <>\r\n      <ToastContainer position='bottom-right' hideProgressBar />\r\n      <ModalContainer />\r\n      <Route exact path='/' component={HomePage} />\r\n      <Route path={'/(.+)'} render={() => (\r\n        <>\r\n\r\n          <NavBar />\r\n          <Container style={{ marginTop: '6rem' }}>\r\n            <Switch>\r\n              <PrivateRoute exact path='/activities' component={ActivityDashboard} />\r\n              <PrivateRoute exact path='/activities/:id' component={ActivityDetails} />\r\n              <PrivateRoute exact key={location.key} path={'/createActivity'} component={ActivityForm} />\r\n              <PrivateRoute exact path='/createActivity/edit/:id' component={ActivityForm} />\r\n              <PrivateRoute exact path='/profiles/:userName' component={ProfilePage} />\r\n              <PrivateRoute exact path='/errors' component={TestErrors} />\r\n              <Route path='/server-error' component={ServerError} />\r\n              <Route component={NotFound} />\r\n            </Switch>\r\n          </Container>\r\n        </>\r\n      )} />\r\n\r\n\r\n    </>\r\n  );\r\n}\r\n\r\nexport default observer(App);\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nexport default function ScrollToTop() {\r\n    const { pathname } = useLocation();\r\n\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0);\r\n    }, [pathname]);\r\n\r\n    return null;\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './app/index.css';\nimport 'semantic-ui-css/semantic.min.css';\nimport 'react-calendar/dist/Calendar.css';\nimport 'react-toastify/dist/ReactToastify.css';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport App from './app/App';\nimport reportWebVitals from './reportWebVitals';\nimport { store, StoreContext } from './app/api/stores/store';\nimport { Router } from 'react-router-dom';\nimport { createBrowserHistory } from 'history';\nimport ScrollToTop from './app/layout/ScrollToTop';\n\nexport const history = createBrowserHistory();\n\nconst root = ReactDOM.createRoot(\n  document.getElementById('root') as HTMLElement\n);\nroot.render(\n  // <React.StrictMode>\n  <StoreContext.Provider value={store}>\n    <Router history={history}>\n      <ScrollToTop />\n      <App />\n    </Router>\n  </StoreContext.Provider>\n  // </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n\n\n"],"sourceRoot":""}